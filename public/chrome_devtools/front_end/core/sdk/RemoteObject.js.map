{"version":3,"file":"RemoteObject.js","sourceRoot":"","sources":["../../../../../../front_end/core/sdk/RemoteObject.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n/*\n * Copyright (C) 2009 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the #name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport type * as ProtocolProxyApi from '../../generated/protocol-proxy-api.js';\nimport * as Protocol from '../../generated/protocol.js';\nimport {type DOMPinnedWebIDLProp, type DOMPinnedWebIDLType} from '../common/JavaScriptMetaData.js';\n\nimport {type DebuggerModel, type FunctionDetails} from './DebuggerModel.js';\nimport {type RuntimeModel} from './RuntimeModel.js';\n\n// This cannot be an interface due to \"instanceof RemoteObject\" checks in the code.\nexport class RemoteObject {\n  static fromLocalObject(value: unknown): RemoteObject {\n    return new LocalJSONObject(value);\n  }\n\n  static type(remoteObject: RemoteObject): string {\n    if (remoteObject === null) {\n      return 'null';\n    }\n\n    const type = typeof remoteObject;\n    if (type !== 'object' && type !== 'function') {\n      return type;\n    }\n\n    return remoteObject.type;\n  }\n\n  static isNullOrUndefined(remoteObject?: RemoteObject): boolean {\n    if (remoteObject === undefined) {\n      return true;\n    }\n    switch (remoteObject.type) {\n      case Protocol.Runtime.RemoteObjectType.Object:\n        return remoteObject.subtype === Protocol.Runtime.RemoteObjectSubtype.Null;\n      case Protocol.Runtime.RemoteObjectType.Undefined:\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  static arrayNameFromDescription(description: string): string {\n    return description.replace(descriptionLengthParenRegex, '').replace(descriptionLengthSquareRegex, '');\n  }\n\n  static arrayLength(object: RemoteObject|Protocol.Runtime.RemoteObject|Protocol.Runtime.ObjectPreview): number {\n    if (object.subtype !== 'array' && object.subtype !== 'typedarray') {\n      return 0;\n    }\n    // Array lengths in V8-generated descriptions switched from square brackets to parentheses.\n    // Both formats are checked in case the front end is dealing with an old version of V8.\n    const parenMatches = object.description && object.description.match(descriptionLengthParenRegex);\n    const squareMatches = object.description && object.description.match(descriptionLengthSquareRegex);\n    return parenMatches ? parseInt(parenMatches[1], 10) : (squareMatches ? parseInt(squareMatches[1], 10) : 0);\n  }\n\n  static arrayBufferByteLength(object: RemoteObject|Protocol.Runtime.RemoteObject|\n                               Protocol.Runtime.ObjectPreview): number {\n    if (object.subtype !== 'arraybuffer') {\n      return 0;\n    }\n    const matches = object.description && object.description.match(descriptionLengthParenRegex);\n    return matches ? parseInt(matches[1], 10) : 0;\n  }\n\n  static unserializableDescription(object: unknown): string|null {\n    if (typeof object === 'number') {\n      const description = String(object);\n      if (object === 0 && 1 / object < 0) {\n        return UnserializableNumber.Negative0;\n      }\n      if (description === UnserializableNumber.NaN || description === UnserializableNumber.Infinity ||\n          description === UnserializableNumber.NegativeInfinity) {\n        return description;\n      }\n    }\n    if (typeof object === 'bigint') {\n      return object + 'n';\n    }\n    return null;\n  }\n\n  static toCallArgument(object: string|number|bigint|boolean|RemoteObject|Protocol.Runtime.RemoteObject|null|\n                        undefined): Protocol.Runtime.CallArgument {\n    const type = typeof object;\n    if (type === 'undefined') {\n      return {};\n    }\n    const unserializableDescription = RemoteObject.unserializableDescription(object);\n    if (type === 'number') {\n      if (unserializableDescription !== null) {\n        return {unserializableValue: unserializableDescription};\n      }\n      return {value: object};\n    }\n    if (type === 'bigint') {\n      return {unserializableValue: (unserializableDescription as string)};\n    }\n    if (type === 'string' || type === 'boolean') {\n      return {value: object};\n    }\n\n    if (!object) {\n      return {value: null};\n    }\n\n    // The unserializableValue is a function on RemoteObject's and a simple property on\n    // Protocol.Runtime.RemoteObject's.\n    const objectAsProtocolRemoteObject = (object as Protocol.Runtime.RemoteObject);\n    if (object instanceof RemoteObject) {\n      const unserializableValue = object.unserializableValue();\n      if (unserializableValue !== undefined) {\n        return {unserializableValue: unserializableValue};\n      }\n    } else if (objectAsProtocolRemoteObject.unserializableValue !== undefined) {\n      return {unserializableValue: objectAsProtocolRemoteObject.unserializableValue};\n    }\n\n    if (typeof objectAsProtocolRemoteObject.objectId !== 'undefined') {\n      return {objectId: objectAsProtocolRemoteObject.objectId};\n    }\n\n    return {value: objectAsProtocolRemoteObject.value};\n  }\n\n  static async loadFromObjectPerProto(\n      object: RemoteObject, generatePreview: boolean,\n      nonIndexedPropertiesOnly: boolean = false): Promise<GetPropertiesResult> {\n    const result = await Promise.all([\n      object.getAllProperties(true /* accessorPropertiesOnly */, generatePreview, nonIndexedPropertiesOnly),\n      object.getOwnProperties(generatePreview, nonIndexedPropertiesOnly),\n    ]);\n    const accessorProperties = result[0].properties;\n    const ownProperties = result[1].properties;\n    const internalProperties = result[1].internalProperties;\n    if (!ownProperties || !accessorProperties) {\n      return {properties: null, internalProperties: null} as GetPropertiesResult;\n    }\n    const propertiesMap = new Map<string, RemoteObjectProperty>();\n    const propertySymbols = [];\n    for (let i = 0; i < accessorProperties.length; i++) {\n      const property = accessorProperties[i];\n      if (property.symbol) {\n        propertySymbols.push(property);\n      } else if (property.isOwn || property.name !== '__proto__') {\n        // TODO(crbug/1076820): Eventually we should move away from\n        // showing accessor #properties directly on the receiver.\n        propertiesMap.set(property.name, property);\n      }\n    }\n    for (let i = 0; i < ownProperties.length; i++) {\n      const property = ownProperties[i];\n      if (property.isAccessorProperty()) {\n        continue;\n      }\n      if (property.private || property.symbol) {\n        propertySymbols.push(property);\n      } else {\n        propertiesMap.set(property.name, property);\n      }\n    }\n    return {\n      properties: [...propertiesMap.values()].concat(propertySymbols),\n      internalProperties: internalProperties ? internalProperties : null,\n    };\n  }\n\n  customPreview(): Protocol.Runtime.CustomPreview|null {\n    return null;\n  }\n\n  get objectId(): Protocol.Runtime.RemoteObjectId|undefined {\n    // TODO(crbug.com/1226471): Return undefined here.\n    return 'Not implemented' as Protocol.Runtime.RemoteObjectId;\n  }\n\n  get type(): string {\n    throw 'Not implemented';\n  }\n\n  get subtype(): string|undefined {\n    throw 'Not implemented';\n  }\n\n  // TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  get value(): any {\n    throw 'Not implemented';\n  }\n\n  unserializableValue(): string|undefined {\n    throw 'Not implemented';\n  }\n\n  get description(): string|undefined {\n    throw 'Not implemented';\n  }\n\n  set description(description: string|undefined) {\n    throw 'Not implemented';\n  }\n\n  get hasChildren(): boolean {\n    throw 'Not implemented';\n  }\n\n  get preview(): Protocol.Runtime.ObjectPreview|undefined {\n    return undefined;\n  }\n\n  get className(): string|null {\n    return null;\n  }\n\n  arrayLength(): number {\n    throw 'Not implemented';\n  }\n\n  arrayBufferByteLength(): number {\n    throw 'Not implemented';\n  }\n\n  getOwnProperties(_generatePreview: boolean, _nonIndexedPropertiesOnly?: boolean): Promise<GetPropertiesResult> {\n    throw 'Not implemented';\n  }\n\n  getAllProperties(_accessorPropertiesOnly: boolean, _generatePreview: boolean, _nonIndexedPropertiesOnly?: boolean):\n      Promise<GetPropertiesResult> {\n    throw 'Not implemented';\n  }\n\n  async deleteProperty(_name: Protocol.Runtime.CallArgument): Promise<string|undefined> {\n    throw 'Not implemented';\n  }\n\n  async setPropertyValue(_name: string|Protocol.Runtime.CallArgument, _value: string): Promise<string|undefined> {\n    throw 'Not implemented';\n  }\n\n  callFunction<T, U>(_functionDeclaration: (this: U, ...args: any[]) => T, _args?: Protocol.Runtime.CallArgument[]):\n      Promise<CallFunctionResult> {\n    throw 'Not implemented';\n  }\n\n  callFunctionJSON<T, U>(\n      _functionDeclaration: (this: U, ...args: any[]) => T,\n      _args: Protocol.Runtime.CallArgument[]|undefined): Promise<T> {\n    throw 'Not implemented';\n  }\n\n  release(): void {\n  }\n\n  debuggerModel(): DebuggerModel {\n    throw new Error('DebuggerModel-less object');\n  }\n\n  runtimeModel(): RuntimeModel {\n    throw new Error('RuntimeModel-less object');\n  }\n\n  isNode(): boolean {\n    return false;\n  }\n\n  /**\n   * Checks whether this object can be inspected with the Linear memory inspector.\n   * @returns `true` if this object can be inspected with the Linear memory inspector.\n   */\n  isLinearMemoryInspectable(): boolean {\n    return false;\n  }\n\n  webIdl?: RemoteObjectWebIdlTypeMetadata;\n}\n\nexport class RemoteObjectImpl extends RemoteObject {\n  runtimeModelInternal: RuntimeModel;\n  readonly #runtimeAgent: ProtocolProxyApi.RuntimeApi;\n  readonly #typeInternal: string;\n  readonly #subtypeInternal: string|undefined;\n  #objectIdInternal: Protocol.Runtime.RemoteObjectId|undefined;\n  #descriptionInternal: string|undefined;\n  hasChildrenInternal: boolean;\n  readonly #previewInternal: Protocol.Runtime.ObjectPreview|undefined;\n  readonly #unserializableValueInternal: string|undefined;\n  readonly #valueInternal: typeof RemoteObject.prototype.value;\n  readonly #customPreviewInternal: Protocol.Runtime.CustomPreview|null;\n  readonly #classNameInternal: string|null;\n\n  constructor(\n      runtimeModel: RuntimeModel, objectId: Protocol.Runtime.RemoteObjectId|undefined, type: string,\n      subtype: string|undefined, value: typeof RemoteObject.prototype.value, unserializableValue?: string,\n      description?: string, preview?: Protocol.Runtime.ObjectPreview, customPreview?: Protocol.Runtime.CustomPreview,\n      className?: string) {\n    super();\n\n    this.runtimeModelInternal = runtimeModel;\n    this.#runtimeAgent = runtimeModel.target().runtimeAgent();\n\n    this.#typeInternal = type;\n    this.#subtypeInternal = subtype;\n    if (objectId) {\n      // handle\n      this.#objectIdInternal = objectId;\n      this.#descriptionInternal = description;\n      this.hasChildrenInternal = (type !== 'symbol');\n      this.#previewInternal = preview;\n    } else {\n      this.#descriptionInternal = description;\n      if (!this.description && unserializableValue) {\n        this.#descriptionInternal = unserializableValue;\n      }\n      if (!this.#descriptionInternal && (typeof value !== 'object' || value === null)) {\n        this.#descriptionInternal = String(value);\n      }\n      this.hasChildrenInternal = false;\n      if (typeof unserializableValue === 'string') {\n        this.#unserializableValueInternal = unserializableValue;\n        if (unserializableValue === UnserializableNumber.Infinity ||\n            unserializableValue === UnserializableNumber.NegativeInfinity ||\n            unserializableValue === UnserializableNumber.Negative0 ||\n            unserializableValue === UnserializableNumber.NaN) {\n          this.#valueInternal = Number(unserializableValue);\n        } else if (type === 'bigint' && unserializableValue.endsWith('n')) {\n          this.#valueInternal = BigInt(unserializableValue.substring(0, unserializableValue.length - 1));\n        } else {\n          this.#valueInternal = unserializableValue;\n        }\n\n      } else {\n        this.#valueInternal = value;\n      }\n    }\n    this.#customPreviewInternal = customPreview || null;\n    this.#classNameInternal = typeof className === 'string' ? className : null;\n  }\n\n  override customPreview(): Protocol.Runtime.CustomPreview|null {\n    return this.#customPreviewInternal;\n  }\n\n  override get objectId(): Protocol.Runtime.RemoteObjectId|undefined {\n    return this.#objectIdInternal;\n  }\n\n  override get type(): string {\n    return this.#typeInternal;\n  }\n\n  override get subtype(): string|undefined {\n    return this.#subtypeInternal;\n  }\n\n  override get value(): typeof RemoteObject.prototype.value {\n    return this.#valueInternal;\n  }\n\n  override unserializableValue(): string|undefined {\n    return this.#unserializableValueInternal;\n  }\n\n  override get description(): string|undefined {\n    return this.#descriptionInternal;\n  }\n\n  override set description(description: string|undefined) {\n    this.#descriptionInternal = description;\n  }\n\n  override get hasChildren(): boolean {\n    return this.hasChildrenInternal;\n  }\n\n  override get preview(): Protocol.Runtime.ObjectPreview|undefined {\n    return this.#previewInternal;\n  }\n\n  override get className(): string|null {\n    return this.#classNameInternal;\n  }\n\n  override getOwnProperties(generatePreview: boolean, nonIndexedPropertiesOnly: boolean = false):\n      Promise<GetPropertiesResult> {\n    return this.doGetProperties(true, false, nonIndexedPropertiesOnly, generatePreview);\n  }\n\n  override getAllProperties(\n      accessorPropertiesOnly: boolean, generatePreview: boolean,\n      nonIndexedPropertiesOnly: boolean = false): Promise<GetPropertiesResult> {\n    return this.doGetProperties(false, accessorPropertiesOnly, nonIndexedPropertiesOnly, generatePreview);\n  }\n\n  async createRemoteObject(object: Protocol.Runtime.RemoteObject): Promise<RemoteObject> {\n    return this.runtimeModelInternal.createRemoteObject(object);\n  }\n\n  async doGetProperties(\n      ownProperties: boolean, accessorPropertiesOnly: boolean, nonIndexedPropertiesOnly: boolean,\n      generatePreview: boolean): Promise<GetPropertiesResult> {\n    if (!this.#objectIdInternal) {\n      return {properties: null, internalProperties: null} as GetPropertiesResult;\n    }\n\n    const response = await this.#runtimeAgent.invoke_getProperties({\n      objectId: this.#objectIdInternal,\n      ownProperties,\n      accessorPropertiesOnly,\n      nonIndexedPropertiesOnly,\n      generatePreview,\n    });\n    if (response.getError()) {\n      return {properties: null, internalProperties: null} as GetPropertiesResult;\n    }\n    if (response.exceptionDetails) {\n      this.runtimeModelInternal.exceptionThrown(Date.now(), response.exceptionDetails);\n      return {properties: null, internalProperties: null} as GetPropertiesResult;\n    }\n    const {result: properties = [], internalProperties = [], privateProperties = []} = response;\n    const result = [];\n    for (const property of properties) {\n      const propertyValue = property.value ? await this.createRemoteObject(property.value) : null;\n      const propertySymbol = property.symbol ? this.runtimeModelInternal.createRemoteObject(property.symbol) : null;\n      const remoteProperty = new RemoteObjectProperty(\n          property.name, propertyValue, Boolean(property.enumerable), Boolean(property.writable),\n          Boolean(property.isOwn), Boolean(property.wasThrown), propertySymbol);\n\n      if (typeof property.value === 'undefined') {\n        if (property.get && property.get.type !== 'undefined') {\n          remoteProperty.getter = this.runtimeModelInternal.createRemoteObject(property.get);\n        }\n        if (property.set && property.set.type !== 'undefined') {\n          remoteProperty.setter = this.runtimeModelInternal.createRemoteObject(property.set);\n        }\n      }\n      result.push(remoteProperty);\n    }\n    for (const property of privateProperties) {\n      const propertyValue = property.value ? this.runtimeModelInternal.createRemoteObject(property.value) : null;\n      const remoteProperty = new RemoteObjectProperty(\n          property.name, propertyValue, true, true, true, false, undefined, false, undefined, true);\n\n      if (typeof property.value === 'undefined') {\n        if (property.get && property.get.type !== 'undefined') {\n          remoteProperty.getter = this.runtimeModelInternal.createRemoteObject(property.get);\n        }\n        if (property.set && property.set.type !== 'undefined') {\n          remoteProperty.setter = this.runtimeModelInternal.createRemoteObject(property.set);\n        }\n      }\n      result.push(remoteProperty);\n    }\n\n    const internalPropertiesResult = [];\n    for (const property of internalProperties) {\n      if (!property.value) {\n        continue;\n      }\n      if (property.name === '[[StableObjectId]]') {\n        continue;\n      }\n      const propertyValue = this.runtimeModelInternal.createRemoteObject(property.value);\n      internalPropertiesResult.push(\n          new RemoteObjectProperty(property.name, propertyValue, true, false, undefined, undefined, undefined, true));\n    }\n    return {properties: result, internalProperties: internalPropertiesResult};\n  }\n\n  override async setPropertyValue(name: string|Protocol.Runtime.CallArgument, value: string):\n      Promise<string|undefined> {\n    if (!this.#objectIdInternal) {\n      return 'Can’t set a property of non-object.';\n    }\n\n    const response = await this.#runtimeAgent.invoke_evaluate({expression: value, silent: true});\n    if (response.getError() || response.exceptionDetails) {\n      return response.getError() ||\n          (response.result.type !== 'string' ? response.result.description : response.result.value as string);\n    }\n\n    if (typeof name === 'string') {\n      name = RemoteObject.toCallArgument(name);\n    }\n\n    const resultPromise = this.doSetObjectPropertyValue(response.result, name);\n\n    if (response.result.objectId) {\n      void this.#runtimeAgent.invoke_releaseObject({objectId: response.result.objectId});\n    }\n\n    return resultPromise;\n  }\n\n  async doSetObjectPropertyValue(result: Protocol.Runtime.RemoteObject, name: Protocol.Runtime.CallArgument):\n      Promise<string|undefined> {\n    // This assignment may be for a regular (data) property, and for an accessor property (with getter/setter).\n    // Note the sensitive matter about accessor property: the property may be physically defined in some proto object,\n    // but logically it is bound to the object in question. JavaScript passes this object to getters/setters, not the object\n    // where property was defined; so do we.\n    const setPropertyValueFunction = 'function(a, b) { this[a] = b; }';\n\n    const argv = [name, RemoteObject.toCallArgument(result)];\n    const response = await this.#runtimeAgent.invoke_callFunctionOn({\n      objectId: this.#objectIdInternal,\n      functionDeclaration: setPropertyValueFunction,\n      arguments: argv,\n      silent: true,\n    });\n    const error = response.getError();\n    return error || response.exceptionDetails ? error || response.result.description : undefined;\n  }\n\n  override async deleteProperty(name: Protocol.Runtime.CallArgument): Promise<string|undefined> {\n    if (!this.#objectIdInternal) {\n      return 'Can’t delete a property of non-object.';\n    }\n\n    const deletePropertyFunction = 'function(a) { delete this[a]; return !(a in this); }';\n    const response = await this.#runtimeAgent.invoke_callFunctionOn({\n      objectId: this.#objectIdInternal,\n      functionDeclaration: deletePropertyFunction,\n      arguments: [name],\n      silent: true,\n    });\n\n    if (response.getError() || response.exceptionDetails) {\n      return response.getError() || response.result.description;\n    }\n\n    if (!response.result.value) {\n      return 'Failed to delete property.';\n    }\n\n    return undefined;\n  }\n\n  override async callFunction<T, U>(\n      functionDeclaration: (this: U, ...args: any[]) => T,\n      args?: Protocol.Runtime.CallArgument[]): Promise<CallFunctionResult> {\n    const response = await this.#runtimeAgent.invoke_callFunctionOn({\n      objectId: this.#objectIdInternal,\n      functionDeclaration: functionDeclaration.toString(),\n      arguments: args,\n      silent: true,\n    });\n    if (response.getError()) {\n      return {object: null, wasThrown: false};\n    }\n    // TODO: release exceptionDetails object\n    return {\n      object: this.runtimeModelInternal.createRemoteObject(response.result),\n      wasThrown: Boolean(response.exceptionDetails),\n    };\n  }\n\n  override async callFunctionJSON<T, U>(\n      functionDeclaration: (this: U, ...args: any[]) => T,\n      args: Protocol.Runtime.CallArgument[]|undefined): Promise<T> {\n    const response = await this.#runtimeAgent.invoke_callFunctionOn({\n      objectId: this.#objectIdInternal,\n      functionDeclaration: functionDeclaration.toString(),\n      arguments: args,\n      silent: true,\n      returnByValue: true,\n    });\n\n    return response.getError() || response.exceptionDetails ? null : response.result.value;\n  }\n\n  override release(): void {\n    if (!this.#objectIdInternal) {\n      return;\n    }\n    void this.#runtimeAgent.invoke_releaseObject({objectId: this.#objectIdInternal});\n  }\n\n  override arrayLength(): number {\n    return RemoteObject.arrayLength(this);\n  }\n\n  override arrayBufferByteLength(): number {\n    return RemoteObject.arrayBufferByteLength(this);\n  }\n\n  override debuggerModel(): DebuggerModel {\n    return this.runtimeModelInternal.debuggerModel();\n  }\n\n  override runtimeModel(): RuntimeModel {\n    return this.runtimeModelInternal;\n  }\n\n  override isNode(): boolean {\n    return Boolean(this.#objectIdInternal) && this.type === 'object' && this.subtype === 'node';\n  }\n\n  override isLinearMemoryInspectable(): boolean {\n    return this.type === 'object' && this.subtype !== undefined &&\n        ['webassemblymemory', 'typedarray', 'dataview', 'arraybuffer'].includes(this.subtype);\n  }\n}\n\nexport class ScopeRemoteObject extends RemoteObjectImpl {\n  #scopeRef: ScopeRef;\n  #savedScopeProperties: RemoteObjectProperty[]|undefined;\n\n  constructor(\n      runtimeModel: RuntimeModel, objectId: Protocol.Runtime.RemoteObjectId|undefined, scopeRef: ScopeRef, type: string,\n      subtype: string|undefined, value: typeof RemoteObjectImpl.prototype.value, unserializableValue?: string,\n      description?: string, preview?: Protocol.Runtime.ObjectPreview) {\n    super(runtimeModel, objectId, type, subtype, value, unserializableValue, description, preview);\n    this.#scopeRef = scopeRef;\n    this.#savedScopeProperties = undefined;\n  }\n\n  override async doGetProperties(ownProperties: boolean, accessorPropertiesOnly: boolean, _generatePreview: boolean):\n      Promise<GetPropertiesResult> {\n    if (accessorPropertiesOnly) {\n      return {properties: [], internalProperties: []} as GetPropertiesResult;\n    }\n\n    if (this.#savedScopeProperties) {\n      // No need to reload scope variables, as the remote object never\n      // changes its #properties. If variable is updated, the #properties\n      // array is patched locally.\n      return {properties: this.#savedScopeProperties.slice(), internalProperties: null};\n    }\n\n    const allProperties = await super.doGetProperties(\n        ownProperties, accessorPropertiesOnly, false /* nonIndexedPropertiesOnly */, true /* generatePreview */);\n    if (this.#scopeRef && Array.isArray(allProperties.properties)) {\n      this.#savedScopeProperties = allProperties.properties.slice();\n      if (!this.#scopeRef.callFrameId) {\n        for (const property of this.#savedScopeProperties) {\n          property.writable = false;\n        }\n      }\n    }\n    return allProperties;\n  }\n\n  override async doSetObjectPropertyValue(\n      result: Protocol.Runtime.RemoteObject, argumentName: Protocol.Runtime.CallArgument): Promise<string|undefined> {\n    const name = (argumentName.value as string);\n    const error = await this.debuggerModel().setVariableValue(\n        this.#scopeRef.number, name, RemoteObject.toCallArgument(result),\n        (this.#scopeRef.callFrameId as Protocol.Debugger.CallFrameId));\n    if (error) {\n      return error;\n    }\n    if (this.#savedScopeProperties) {\n      for (const property of this.#savedScopeProperties) {\n        if (property.name === name) {\n          property.value = this.runtimeModel().createRemoteObject(result);\n        }\n      }\n    }\n    return;\n  }\n}\n\nexport class ScopeRef {\n  number: number;\n  callFrameId: Protocol.Debugger.CallFrameId|undefined;\n  constructor(number: number, callFrameId?: Protocol.Debugger.CallFrameId) {\n    this.number = number;\n    this.callFrameId = callFrameId;\n  }\n}\n\nexport class RemoteObjectProperty {\n  name: string;\n  value?: RemoteObject;\n  enumerable: boolean;\n  writable: boolean;\n  isOwn: boolean;\n  wasThrown: boolean;\n  symbol: RemoteObject|undefined;\n  synthetic: boolean;\n  syntheticSetter: ((arg0: string) => Promise<RemoteObject|null>)|undefined;\n\n  private: boolean;\n  getter: RemoteObject|undefined;\n  setter: RemoteObject|undefined;\n\n  webIdl?: RemoteObjectWebIdlPropertyMetadata;\n\n  constructor(\n      name: string, value: RemoteObject|null, enumerable?: boolean, writable?: boolean, isOwn?: boolean,\n      wasThrown?: boolean, symbol?: RemoteObject|null, synthetic?: boolean,\n      syntheticSetter?: ((arg0: string) => Promise<RemoteObject|null>), isPrivate?: boolean) {\n    this.name = name;\n    this.value = value !== null ? value : undefined;\n    this.enumerable = typeof enumerable !== 'undefined' ? enumerable : true;\n    const isNonSyntheticOrSyntheticWritable = !synthetic || Boolean(syntheticSetter);\n    this.writable = typeof writable !== 'undefined' ? writable : isNonSyntheticOrSyntheticWritable;\n    this.isOwn = Boolean(isOwn);\n    this.wasThrown = Boolean(wasThrown);\n    if (symbol) {\n      this.symbol = symbol;\n    }\n    this.synthetic = Boolean(synthetic);\n    if (syntheticSetter) {\n      this.syntheticSetter = syntheticSetter;\n    }\n    this.private = Boolean(isPrivate);\n  }\n\n  async setSyntheticValue(expression: string): Promise<boolean> {\n    if (!this.syntheticSetter) {\n      return false;\n    }\n    const result = await this.syntheticSetter(expression);\n    if (result) {\n      this.value = result;\n    }\n    return Boolean(result);\n  }\n\n  isAccessorProperty(): boolean {\n    return Boolean(this.getter || this.setter);\n  }\n\n  match({includeNullOrUndefinedValues, regex}: {includeNullOrUndefinedValues: boolean, regex: RegExp|null}): boolean {\n    if (regex !== null) {\n      if (!regex.test(this.name) && !regex.test(this.value?.description ?? '')) {\n        return false;\n      }\n    }\n    if (!includeNullOrUndefinedValues) {\n      if (!this.isAccessorProperty() && RemoteObject.isNullOrUndefined(this.value)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  cloneWithNewName(newName: string): RemoteObjectProperty {\n    const property = new RemoteObjectProperty(\n        newName, this.value ?? null, this.enumerable, this.writable, this.isOwn, this.wasThrown, this.symbol,\n        this.synthetic, this.syntheticSetter, this.private);\n    property.getter = this.getter;\n    property.setter = this.setter;\n    return property;\n  }\n}\n\n// Below is a wrapper around a local object that implements the RemoteObject interface,\n// which can be used by the UI code (primarily ObjectPropertiesSection).\n// Note that only JSON-compliant objects are currently supported, as there's no provision\n// for traversing prototypes, extracting class names via constructor, handling #properties\n// or functions.\n\nexport class LocalJSONObject extends RemoteObject {\n  valueInternal: typeof RemoteObject.prototype.value;\n  #cachedDescription!: string;\n  #cachedChildren!: RemoteObjectProperty[];\n\n  constructor(value: typeof RemoteObject.prototype.value) {\n    super();\n    this.valueInternal = value;\n  }\n\n  override get objectId(): Protocol.Runtime.RemoteObjectId|undefined {\n    return undefined;\n  }\n\n  override get value(): typeof RemoteObject.prototype.value {\n    return this.valueInternal;\n  }\n\n  override unserializableValue(): string|undefined {\n    const unserializableDescription = RemoteObject.unserializableDescription(this.valueInternal);\n    return unserializableDescription || undefined;\n  }\n\n  override get description(): string {\n    if (this.#cachedDescription) {\n      return this.#cachedDescription;\n    }\n\n    function formatArrayItem(this: LocalJSONObject, property: RemoteObjectProperty): string {\n      return this.formatValue(property.value || null);\n    }\n\n    function formatObjectItem(this: LocalJSONObject, property: RemoteObjectProperty): string {\n      let name: string = property.name;\n      if (/^\\s|\\s$|^$|\\n/.test(name)) {\n        name = '\"' + name.replace(/\\n/g, '\\u21B5') + '\"';\n      }\n      return name + ': ' + this.formatValue(property.value || null);\n    }\n\n    if (this.type === 'object') {\n      switch (this.subtype) {\n        case 'array':\n          this.#cachedDescription = this.concatenate('[', ']', formatArrayItem.bind(this));\n          break;\n        case 'date':\n          this.#cachedDescription = String(this.valueInternal);\n          break;\n        case 'null':\n          this.#cachedDescription = 'null';\n          break;\n        default:\n          this.#cachedDescription = this.concatenate('{', '}', formatObjectItem.bind(this));\n      }\n    } else {\n      this.#cachedDescription = String(this.valueInternal);\n    }\n\n    return this.#cachedDescription;\n  }\n\n  private formatValue(value: RemoteObject|null): string {\n    if (!value) {\n      return 'undefined';\n    }\n    const description = value.description || '';\n    if (value.type === 'string') {\n      return '\"' + description.replace(/\\n/g, '\\u21B5') + '\"';\n    }\n    return description;\n  }\n\n  private concatenate(prefix: string, suffix: string, formatProperty: (arg0: RemoteObjectProperty) => string): string {\n    const previewChars = 100;\n\n    let buffer = prefix;\n    const children = this.children();\n    for (let i = 0; i < children.length; ++i) {\n      const itemDescription = formatProperty(children[i]);\n      if (buffer.length + itemDescription.length > previewChars) {\n        buffer += ',…';\n        break;\n      }\n      if (i) {\n        buffer += ', ';\n      }\n      buffer += itemDescription;\n    }\n    buffer += suffix;\n    return buffer;\n  }\n\n  override get type(): string {\n    return typeof this.valueInternal;\n  }\n\n  override get subtype(): string|undefined {\n    if (this.valueInternal === null) {\n      return 'null';\n    }\n\n    if (Array.isArray(this.valueInternal)) {\n      return 'array';\n    }\n\n    if (this.valueInternal instanceof Date) {\n      return 'date';\n    }\n\n    return undefined;\n  }\n\n  override get hasChildren(): boolean {\n    if ((typeof this.valueInternal !== 'object') || (this.valueInternal === null)) {\n      return false;\n    }\n    return Boolean(Object.keys((this.valueInternal as Object)).length);\n  }\n\n  override async getOwnProperties(_generatePreview: boolean, nonIndexedPropertiesOnly: boolean = false):\n      Promise<GetPropertiesResult> {\n    function isArrayIndex(name: string): boolean {\n      const index = Number(name) >>> 0;\n      return String(index) === name;\n    }\n\n    let properties = this.children();\n    if (nonIndexedPropertiesOnly) {\n      properties = properties.filter(property => !isArrayIndex(property.name));\n    }\n    return {properties, internalProperties: null};\n  }\n\n  override async getAllProperties(\n      accessorPropertiesOnly: boolean, generatePreview: boolean,\n      nonIndexedPropertiesOnly: boolean = false): Promise<GetPropertiesResult> {\n    if (accessorPropertiesOnly) {\n      return {properties: [], internalProperties: null};\n    }\n    return await this.getOwnProperties(generatePreview, nonIndexedPropertiesOnly);\n  }\n\n  private children(): RemoteObjectProperty[] {\n    if (!this.hasChildren) {\n      return [];\n    }\n    if (!this.#cachedChildren) {\n      this.#cachedChildren = Object.entries(this.valueInternal).map(([name, value]) => {\n        return new RemoteObjectProperty(\n            name, value instanceof RemoteObject ? value : RemoteObject.fromLocalObject(value));\n      });\n    }\n    return this.#cachedChildren;\n  }\n\n  override arrayLength(): number {\n    return Array.isArray(this.valueInternal) ? this.valueInternal.length : 0;\n  }\n\n  override async callFunction<T, U>(\n      functionDeclaration: (this: U, ...args: any[]) => T,\n      args?: Protocol.Runtime.CallArgument[]): Promise<CallFunctionResult> {\n    const target = this.valueInternal as U;\n    const rawArgs = args ? args.map(arg => arg.value) : [];\n\n    let result;\n    let wasThrown = false;\n    try {\n      result = functionDeclaration.apply(target, rawArgs);\n    } catch (e) {\n      wasThrown = true;\n    }\n\n    const object = RemoteObject.fromLocalObject(result);\n\n    return {object, wasThrown} as CallFunctionResult;\n  }\n\n  override async callFunctionJSON<T, U>(\n      functionDeclaration: (this: U, ...args: any[]) => T,\n      args: Protocol.Runtime.CallArgument[]|undefined): Promise<T> {\n    const target = this.valueInternal as U;\n    const rawArgs = args ? args.map(arg => arg.value) : [];\n\n    let result;\n    try {\n      result = functionDeclaration.apply(target, rawArgs);\n    } catch (e) {\n      result = null;\n    }\n\n    return result as T;\n  }\n}\n\nexport class RemoteArrayBuffer {\n  readonly #objectInternal: RemoteObject;\n  constructor(object: RemoteObject) {\n    if (object.type !== 'object' || object.subtype !== 'arraybuffer') {\n      throw new Error('Object is not an arraybuffer');\n    }\n    this.#objectInternal = object;\n  }\n\n  byteLength(): number {\n    return this.#objectInternal.arrayBufferByteLength();\n  }\n\n  async bytes(start = 0, end = this.byteLength()): Promise<number[]> {\n    if (start < 0 || start >= this.byteLength()) {\n      throw new RangeError('start is out of range');\n    }\n    if (end < start || end > this.byteLength()) {\n      throw new RangeError('end is out of range');\n    }\n    return await this.#objectInternal.callFunctionJSON(bytes, [{value: start}, {value: end - start}]);\n\n    function bytes(this: ArrayBuffer, offset: number, length: number): number[] {\n      return [...new Uint8Array(this, offset, length)];\n    }\n  }\n\n  object(): RemoteObject {\n    return this.#objectInternal;\n  }\n}\n\nexport class RemoteArray {\n  readonly #objectInternal: RemoteObject;\n  constructor(object: RemoteObject) {\n    this.#objectInternal = object;\n  }\n\n  static objectAsArray(object: RemoteObject|null): RemoteArray {\n    if (!object || object.type !== 'object' || (object.subtype !== 'array' && object.subtype !== 'typedarray')) {\n      throw new Error('Object is empty or not an array');\n    }\n    return new RemoteArray(object);\n  }\n\n  static async createFromRemoteObjects(objects: RemoteObject[]): Promise<RemoteArray> {\n    if (!objects.length) {\n      throw new Error('Input array is empty');\n    }\n    const result = await objects[0].callFunction(createArray, objects.map(RemoteObject.toCallArgument));\n    if (result.wasThrown || !result.object) {\n      throw new Error('Call function throws exceptions or returns empty value');\n    }\n    return RemoteArray.objectAsArray(result.object);\n\n    function createArray<T>(...args: T[]): T[] {\n      return args;\n    }\n  }\n\n  async at(index: number): Promise<RemoteObject> {\n    if (index < 0 || index > this.#objectInternal.arrayLength()) {\n      throw new Error('Out of range');\n    }\n    const result =\n        await this.#objectInternal.callFunction<unknown, Array<unknown>>(at, [RemoteObject.toCallArgument(index)]);\n    if (result.wasThrown || !result.object) {\n      throw new Error('Exception in callFunction or result value is empty');\n    }\n    return result.object;\n\n    function at<T>(this: T[], index: number): T {\n      return this[index];\n    }\n  }\n\n  length(): number {\n    return this.#objectInternal.arrayLength();\n  }\n\n  map<T>(func: (arg0: RemoteObject) => Promise<T>): Promise<T[]> {\n    const promises = [];\n    for (let i = 0; i < this.length(); ++i) {\n      promises.push(this.at(i).then(func));\n    }\n    return Promise.all(promises);\n  }\n\n  object(): RemoteObject {\n    return this.#objectInternal;\n  }\n}\n\nexport class RemoteFunction {\n  readonly #objectInternal: RemoteObject;\n\n  constructor(object: RemoteObject) {\n    this.#objectInternal = object;\n  }\n\n  static objectAsFunction(object: RemoteObject|null): RemoteFunction {\n    if (!object || object.type !== 'function') {\n      throw new Error('Object is empty or not a function');\n    }\n    return new RemoteFunction(object);\n  }\n\n  targetFunction(): Promise<RemoteObject> {\n    return this.#objectInternal.getOwnProperties(false /* generatePreview */).then(targetFunction.bind(this));\n\n    function targetFunction(this: RemoteFunction, ownProperties: GetPropertiesResult): RemoteObject {\n      if (!ownProperties.internalProperties) {\n        return this.#objectInternal;\n      }\n      const internalProperties = ownProperties.internalProperties;\n      for (const property of internalProperties) {\n        if (property.name === '[[TargetFunction]]') {\n          return property.value as RemoteObject;\n        }\n      }\n      return this.#objectInternal;\n    }\n  }\n\n  targetFunctionDetails(): Promise<FunctionDetails|null> {\n    return this.targetFunction().then(functionDetails.bind(this));\n\n    function functionDetails(this: RemoteFunction, targetFunction: RemoteObject): Promise<FunctionDetails|null> {\n      const boundReleaseFunctionDetails =\n          releaseTargetFunction.bind(null, this.#objectInternal !== targetFunction ? targetFunction : null);\n      return targetFunction.debuggerModel().functionDetailsPromise(targetFunction).then(boundReleaseFunctionDetails);\n    }\n\n    function releaseTargetFunction(\n        targetFunction: RemoteObject|null, functionDetails: FunctionDetails|null): FunctionDetails|null {\n      if (targetFunction) {\n        targetFunction.release();\n      }\n      return functionDetails;\n    }\n  }\n\n  object(): RemoteObject {\n    return this.#objectInternal;\n  }\n}\n\nexport class RemoteError {\n  readonly #object: RemoteObject;\n\n  #exceptionDetails?: Promise<Protocol.Runtime.ExceptionDetails|undefined>;\n  #cause?: Promise<RemoteObject|undefined>;\n\n  private constructor(object: RemoteObject) {\n    this.#object = object;\n  }\n\n  static objectAsError(object: RemoteObject): RemoteError {\n    if (object.subtype !== 'error') {\n      throw new Error(`Object of type ${object.subtype} is not an error`);\n    }\n    return new RemoteError(object);\n  }\n\n  get errorStack(): string {\n    return this.#object.description ?? '';\n  }\n\n  exceptionDetails(): Promise<Protocol.Runtime.ExceptionDetails|undefined> {\n    if (!this.#exceptionDetails) {\n      this.#exceptionDetails = this.#lookupExceptionDetails();\n    }\n    return this.#exceptionDetails;\n  }\n\n  #lookupExceptionDetails(): Promise<Protocol.Runtime.ExceptionDetails|undefined> {\n    if (this.#object.objectId) {\n      return this.#object.runtimeModel().getExceptionDetails(this.#object.objectId);\n    }\n    return Promise.resolve(undefined);\n  }\n\n  cause(): Promise<RemoteObject|undefined> {\n    if (!this.#cause) {\n      this.#cause = this.#lookupCause();\n    }\n    return this.#cause;\n  }\n\n  async #lookupCause(): Promise<RemoteObject|undefined> {\n    const allProperties =\n        await this.#object.getAllProperties(false /* accessorPropertiesOnly */, false /* generatePreview */);\n    const cause = allProperties.properties?.find(prop => prop.name === 'cause');\n\n    return cause?.value;\n  }\n}\n\nconst descriptionLengthParenRegex = /\\(([0-9]+)\\)/;\nconst descriptionLengthSquareRegex = /\\[([0-9]+)\\]/;\n\nconst enum UnserializableNumber {\n  Negative0 = ('-0'),\n  // @ts-expect-error\n  NaN = ('NaN'),\n  // @ts-expect-error\n  Infinity = ('Infinity'),\n  NegativeInfinity = ('-Infinity'),\n}\n\nexport interface CallFunctionResult {\n  object: RemoteObject|null;\n  wasThrown?: boolean;\n}\n\nexport interface GetPropertiesResult {\n  properties: RemoteObjectProperty[]|null;\n  internalProperties: RemoteObjectProperty[]|null;\n}\n\nexport interface RemoteObjectWebIdlTypeMetadata {\n  info: DOMPinnedWebIDLType;\n  state: Map<string, string>;\n}\n\nexport interface RemoteObjectWebIdlPropertyMetadata {\n  info: DOMPinnedWebIDLProp;\n  applicable?: boolean;\n}\n\n/**\n * Pair of a linear memory inspectable {@link RemoteObject} and an optional\n * expression, which identifies the variable holding the object in the\n * current scope or the name of the field holding the object.\n *\n * This data structure is used to reveal an object in the Linear Memory\n * Inspector panel.\n */\nexport class LinearMemoryInspectable {\n  /** The linear memory inspectable {@link RemoteObject}. */\n  readonly object: RemoteObject;\n  /** The name of the variable or the field holding the `object`. */\n  readonly expression: string|undefined;\n\n  /**\n   * Wrap `object` and `expression` into a reveable structure.\n   *\n   * @param object A linear memory inspectable {@link RemoteObject}.\n   * @param expression An optional name of the field or variable holding the `object`.\n   */\n  constructor(object: RemoteObject, expression?: string) {\n    if (!object.isLinearMemoryInspectable()) {\n      throw new Error('object must be linear memory inspectable');\n    }\n    this.object = object;\n    this.expression = expression;\n  }\n}\n"]}