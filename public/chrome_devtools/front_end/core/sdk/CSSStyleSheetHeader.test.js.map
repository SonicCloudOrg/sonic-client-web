{"version":3,"file":"CSSStyleSheetHeader.test.js","sourceRoot":"","sources":["../../../../../../front_end/core/sdk/CSSStyleSheetHeader.test.ts"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAI7B,OAAO,KAAK,GAAG,MAAM,UAAU,CAAC;AAEhC,QAAQ,CAAC,qBAAqB,EAAE,GAAG,EAAE;IACnC,QAAQ,CAAC,iCAAiC,EAAE,GAAG,EAAE;QAC/C,MAAM,OAAO,GAAG,WAAoC,CAAC;QACrD,MAAM,YAAY,GAAG,gBAA6C,CAAC;QACnE,MAAM,SAAS,GAAG,4BAA4B,CAAC;QAE/C,EAAE,CAAC,6BAA6B,EAAE,GAAG,EAAE;YACrC,MAAM,MAAM,GAAG,KAAK,CAAC,kBAAkB,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;YAC3D,MAAM,QAAQ,GAAG,KAAK,CAAC,kBAAkB,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;YACjE,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;YAChC,MAAM,mBAAmB,GAAG,IAAI,GAAG,CAAC,mBAAmB,CAAC,mBAAmB,CAAC,QAAQ,EAAE;gBACpF,YAAY;gBACZ,OAAO;gBACP,SAAS;gBACT,MAAM,uDAAuC;gBAC7C,KAAK,EAAE,WAAW;gBAClB,QAAQ,EAAE,KAAK;gBACf,QAAQ,EAAE,KAAK;gBACf,SAAS,EAAE,KAAK;gBAChB,aAAa,EAAE,KAAK;gBACpB,SAAS,EAAE,CAAC;gBACZ,WAAW,EAAE,CAAC;gBACd,MAAM,EAAE,EAAE;gBACV,OAAO,EAAE,CAAC;gBACV,SAAS,EAAE,CAAC;aACb,CAAC,CAAC;YACH,MAAM,CAAC,WAAW,CAAC,mBAAmB,CAAC,+BAA+B,EAAE,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;QACjG,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,kCAAkC,EAAE,GAAG,EAAE;YAC1C,MAAM,MAAM,GAAG,KAAK,CAAC,kBAAkB,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;YAC3D,MAAM,QAAQ,GAAG,KAAK,CAAC,kBAAkB,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;YACjE,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;YAChC,MAAM,mBAAmB,GAAG,IAAI,GAAG,CAAC,mBAAmB,CAAC,mBAAmB,CAAC,QAAQ,EAAE;gBACpF,YAAY;gBACZ,OAAO;gBACP,SAAS;gBACT,MAAM,uDAAuC;gBAC7C,KAAK,EAAE,WAAW;gBAClB,QAAQ,EAAE,KAAK;gBACf,QAAQ,EAAE,KAAK;gBACf,SAAS,EAAE,KAAK;gBAChB,aAAa,EAAE,KAAK;gBACpB,SAAS,EAAE,CAAC;gBACZ,WAAW,EAAE,CAAC;gBACd,MAAM,EAAE,EAAE;gBACV,OAAO,EAAE,CAAC;gBACV,SAAS,EAAE,CAAC;aACb,CAAC,CAAC;YACH,MAAM,CAAC,WAAW,CAAC,mBAAmB,CAAC,+BAA+B,EAAE,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC;QACpG,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,oEAAoE,EAAE,GAAG,EAAE;YAC5E,MAAM,MAAM,GAAG,KAAK,CAAC,kBAAkB,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;YAC3D,MAAM,QAAQ,GAAG,KAAK,CAAC,kBAAkB,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;YACjE,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;YAChC,MAAM,mBAAmB,GAAG,IAAI,GAAG,CAAC,mBAAmB,CAAC,mBAAmB,CAAC,QAAQ,EAAE;gBACpF,YAAY;gBACZ,OAAO;gBACP,SAAS;gBACT,MAAM,uDAAuC;gBAC7C,KAAK,EAAE,WAAW;gBAClB,QAAQ,EAAE,KAAK;gBACf,YAAY,EAAE,IAAI;gBAClB,QAAQ,EAAE,KAAK;gBACf,SAAS,EAAE,KAAK;gBAChB,aAAa,EAAE,KAAK;gBACpB,SAAS,EAAE,CAAC;gBACZ,WAAW,EAAE,CAAC;gBACd,MAAM,EAAE,EAAE;gBACV,OAAO,EAAE,CAAC;gBACV,SAAS,EAAE,CAAC;aACb,CAAC,CAAC;YACH,MAAM,CAAC,OAAO,CAAC,mBAAmB,CAAC,+BAA+B,EAAE,CAAC,YAAY,CAAC,CAAC;QACrF,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,2BAA2B,EAAE,GAAG,EAAE;YACnC,MAAM,MAAM,GAAG,KAAK,CAAC,kBAAkB,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;YAC3D,MAAM,QAAQ,GAAG,KAAK,CAAC,kBAAkB,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;YACjE,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;YAChC,MAAM,mBAAmB,GAAG,IAAI,GAAG,CAAC,mBAAmB,CAAC,mBAAmB,CAAC,QAAQ,EAAE;gBACpF,YAAY;gBACZ,OAAO;gBACP,SAAS;gBACT,MAAM,uDAAuC;gBAC7C,KAAK,EAAE,WAAW;gBAClB,QAAQ,EAAE,KAAK;gBACf,QAAQ,EAAE,KAAK;gBACf,SAAS,EAAE,KAAK;gBAChB,aAAa,EAAE,KAAK;gBACpB,SAAS,EAAE,CAAC;gBACZ,WAAW,EAAE,CAAC;gBACd,MAAM,EAAE,EAAE;gBACV,OAAO,EAAE,CAAC;gBACV,SAAS,EAAE,CAAC;aACb,CAAC,CAAC;YACH,MAAM,CAAC,WAAW,CAAC,mBAAmB,CAAC,+BAA+B,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QAC3F,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["// Copyright 2023 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Protocol from '../../generated/protocol.js';\n\nimport * as SDK from './sdk.js';\n\ndescribe('CSSStyleSheetHeader', () => {\n  describe('createPageResourceLoadInitiator', () => {\n    const frameId = 'Frame#123' as Protocol.Page.FrameId;\n    const styleSheetId = 'StyleSheet#123' as Protocol.CSS.StyleSheetId;\n    const sourceURL = 'http://localhost/style.css';\n\n    it('yields the correct frame ID', () => {\n      const target = sinon.createStubInstance(SDK.Target.Target);\n      const cssModel = sinon.createStubInstance(SDK.CSSModel.CSSModel);\n      cssModel.target.returns(target);\n      const cssStyleSheetHeader = new SDK.CSSStyleSheetHeader.CSSStyleSheetHeader(cssModel, {\n        styleSheetId,\n        frameId,\n        sourceURL,\n        origin: Protocol.CSS.StyleSheetOrigin.Regular,\n        title: 'style.css',\n        disabled: false,\n        isInline: false,\n        isMutable: false,\n        isConstructed: false,\n        startLine: 0,\n        startColumn: 0,\n        length: 10,\n        endLine: 1,\n        endColumn: 8,\n      });\n      assert.strictEqual(cssStyleSheetHeader.createPageResourceLoadInitiator().frameId, 'Frame#123');\n    });\n\n    it('yields the correct initiator URL', () => {\n      const target = sinon.createStubInstance(SDK.Target.Target);\n      const cssModel = sinon.createStubInstance(SDK.CSSModel.CSSModel);\n      cssModel.target.returns(target);\n      const cssStyleSheetHeader = new SDK.CSSStyleSheetHeader.CSSStyleSheetHeader(cssModel, {\n        styleSheetId,\n        frameId,\n        sourceURL,\n        origin: Protocol.CSS.StyleSheetOrigin.Regular,\n        title: 'style.css',\n        disabled: false,\n        isInline: false,\n        isMutable: false,\n        isConstructed: false,\n        startLine: 0,\n        startColumn: 0,\n        length: 10,\n        endLine: 1,\n        endColumn: 8,\n      });\n      assert.strictEqual(cssStyleSheetHeader.createPageResourceLoadInitiator().initiatorUrl, sourceURL);\n    });\n\n    it('yields an empty initiator URL when //# sourceMappingURL is present', () => {\n      const target = sinon.createStubInstance(SDK.Target.Target);\n      const cssModel = sinon.createStubInstance(SDK.CSSModel.CSSModel);\n      cssModel.target.returns(target);\n      const cssStyleSheetHeader = new SDK.CSSStyleSheetHeader.CSSStyleSheetHeader(cssModel, {\n        styleSheetId,\n        frameId,\n        sourceURL,\n        origin: Protocol.CSS.StyleSheetOrigin.Regular,\n        title: 'style.css',\n        disabled: false,\n        hasSourceURL: true,\n        isInline: false,\n        isMutable: false,\n        isConstructed: false,\n        startLine: 0,\n        startColumn: 0,\n        length: 10,\n        endLine: 1,\n        endColumn: 8,\n      });\n      assert.isEmpty(cssStyleSheetHeader.createPageResourceLoadInitiator().initiatorUrl);\n    });\n\n    it('yields the correct target', () => {\n      const target = sinon.createStubInstance(SDK.Target.Target);\n      const cssModel = sinon.createStubInstance(SDK.CSSModel.CSSModel);\n      cssModel.target.returns(target);\n      const cssStyleSheetHeader = new SDK.CSSStyleSheetHeader.CSSStyleSheetHeader(cssModel, {\n        styleSheetId,\n        frameId,\n        sourceURL,\n        origin: Protocol.CSS.StyleSheetOrigin.Regular,\n        title: 'style.css',\n        disabled: false,\n        isInline: false,\n        isMutable: false,\n        isConstructed: false,\n        startLine: 0,\n        startColumn: 0,\n        length: 10,\n        endLine: 1,\n        endColumn: 8,\n      });\n      assert.strictEqual(cssStyleSheetHeader.createPageResourceLoadInitiator().target, target);\n    });\n  });\n});\n"]}