{"version":3,"file":"Base64.test.js","sourceRoot":"","sources":["../../../../../../front_end/core/common/Base64.test.ts"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,KAAK,MAAM,MAAM,aAAa,CAAC;AAEtC,QAAQ,CAAC,gBAAgB,EAAE,GAAG,EAAE;IAC9B,SAAS,MAAM,CAAC,GAAW;QACzB,MAAM,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;QAC1B,MAAM,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QAC9C,MAAM,IAAI,GAAG,IAAI,QAAQ,CAAC,OAAO,CAAC,CAAC;QACnC,KAAK,IAAI,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,GAAG,CAAC,MAAM,EAAE,GAAG,EAAE,EAAE,CAAC;YAC1C,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC;QAC9D,CAAC;IACH,CAAC;IAED,EAAE,CAAC,uCAAuC,EAAE,GAAG,EAAE;QAC/C,MAAM,CAAC,SAAS,CAAC,CAAC,CAAE,qCAAqC;IAC3D,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,gCAAgC,EAAE,GAAG,EAAE;QACxC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAE,iCAAiC;IACrD,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,mCAAmC,EAAE,GAAG,EAAE;QAC3C,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAE,qBAAqB;IAC1C,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC;AAEH,QAAQ,CAAC,gBAAgB,EAAE,GAAG,EAAE;IAC9B,EAAE,CAAC,gCAAgC,EAAE,KAAK,IAAI,EAAE;QAC9C,MAAM,OAAO,GAAG,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpC,MAAM,CAAC,WAAW,CAAC,MAAM,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,MAAM,CAAC,CAAC;QAEhE,MAAM,OAAO,GAAG,IAAI,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QACvC,MAAM,CAAC,WAAW,CAAC,MAAM,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,MAAM,CAAC,CAAC;QAEhE,MAAM,OAAO,GAAG,IAAI,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAC1C,MAAM,CAAC,WAAW,CAAC,MAAM,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,MAAM,CAAC,CAAC;IAClE,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from './common.js';\n\ndescribe('Base64 decoder', () => {\n  function decode(str: string) {\n    const encoded = btoa(str);\n    const decoded = Common.Base64.decode(encoded);\n    const view = new DataView(decoded);\n    for (let idx = 0; idx < str.length; idx++) {\n      assert.strictEqual(view.getUint8(idx), str.charCodeAt(idx));\n    }\n  }\n\n  it('decodes correctly with double padding', () => {\n    decode('ABCDEFG');  // Double-equals padded: QUJDREVGRw==\n  });\n\n  it('decodes correctly with padding', () => {\n    decode('ABCDE');  // Single-equals padded: QUJDREU=\n  });\n\n  it('decodes correctly without padding', () => {\n    decode('ABCDEF');  // Unpadded: QUJDREVG\n  });\n});\n\ndescribe('Base64 encoder', () => {\n  it('encodes ArrayBuffers correctly', async () => {\n    const buffer1 = new Uint8Array([0]);\n    assert.strictEqual(await Common.Base64.encode(buffer1), 'AA==');\n\n    const buffer2 = new Uint8Array([0, 1]);\n    assert.strictEqual(await Common.Base64.encode(buffer2), 'AAE=');\n\n    const buffer3 = new Uint8Array([0, 1, 2]);\n    assert.strictEqual(await Common.Base64.encode(buffer3), 'AAEC');\n  });\n});\n"]}