{"version":3,"file":"Runtime.test.js","sourceRoot":"","sources":["../../../../../../front_end/core/root/Runtime.test.ts"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,KAAK,IAAI,MAAM,WAAW,CAAC;AAElC,QAAQ,CAAC,SAAS,EAAE,GAAG,EAAE;IACvB,UAAU,CAAC,GAAG,EAAE;QACd,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC;IAC1C,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,QAAQ,EAAE,GAAG,EAAE;QACtB,QAAQ,CAAC,eAAe,EAAE,GAAG,EAAE;YAC7B,MAAM,OAAO,GAAG,+CAA+C,CAAC;YAChE,MAAM,OAAO,GAAG,2CAA2C,CAAC;YAC5D,MAAM,YAAY,GAAG,+CAA+C,CAAC;YACrE,MAAM,MAAM,GAAG,GAAG,YAAY,cAAc,OAAO,GAAG,CAAC;YACvD,MAAM,YAAY,GAAG,GAAG,OAAO,eAAe,MAAM,kCAAkC,CAAC;YAEvF,EAAE,CAAC,2BAA2B,EAAE,GAAG,EAAE;gBACnC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,YAAY,CAAC,EAAE;oBACzD,OAAO;oBACP,IAAI,EAAE,yCAAyC,OAAO,GAAG;iBAC1D,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,8CAA8C,EAAE,GAAG,EAAE;gBACtD,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC;YACrD,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,2DAA2D,EAAE,GAAG,EAAE;gBACnE,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,GAAG,OAAO,eAAe,YAAY,EAAE,CAAC,CAAC,CAAC;YACrF,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,+DAA+D,EAAE,GAAG,EAAE;QACvE,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,QAAQ,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;QACxD,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,QAAQ,CAAC,cAAc,EAAE,cAAc,CAAC,CAAC;QAElE,MAAM,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,0BAA0B,EAAE,CAAC;QAE1E,MAAM,CAAC,eAAe,CAAC,WAAW,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,SAAS,EAAE,cAAc,CAAC,CAAC,CAAC;IACtG,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Root from './root.js';\n\ndescribe('Runtime', () => {\n  beforeEach(() => {\n    Root.Runtime.experiments.clearForTest();\n  });\n\n  describe('Module', () => {\n    describe('getRemoteBase', () => {\n      const bundled = 'devtools://devtools/bundled/devtools_app.html';\n      const version = '@ffe848af6a5df4fa127e2929331116b7f9f1cb30';\n      const remoteOrigin = 'https://chrome-devtools-frontend.appspot.com/';\n      const remote = `${remoteOrigin}serve_file/${version}/`;\n      const fullLocation = `${bundled}?remoteBase=${remote}&can_dock=true&dockSide=undocked`;\n\n      it('provides remote base info', () => {\n        assert.deepEqual(Root.Runtime.getRemoteBase(fullLocation), {\n          version,\n          base: `devtools://devtools/remote/serve_file/${version}/`,\n        });\n      });\n\n      it('returns null when no remote base is provided', () => {\n        assert.isNull(Root.Runtime.getRemoteBase(bundled));\n      });\n\n      it('returns null when a remote base with no version provided.', () => {\n        assert.isNull(Root.Runtime.getRemoteBase(`${bundled}?remoteBase=${remoteOrigin}`));\n      });\n    });\n  });\n\n  it('allConfigurableExperiments returns all registered experiments', () => {\n    Root.Runtime.experiments.register('example', 'example');\n    Root.Runtime.experiments.register('configurable', 'configurable');\n\n    const experiments = Root.Runtime.experiments.allConfigurableExperiments();\n\n    assert.deepStrictEqual(experiments.map(experiment => experiment.name), ['example', 'configurable']);\n  });\n});\n"]}