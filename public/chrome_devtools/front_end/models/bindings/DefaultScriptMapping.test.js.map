{"version":3,"file":"DefaultScriptMapping.test.js","sourceRoot":"","sources":["../../../../../../front_end/models/bindings/DefaultScriptMapping.test.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2022 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport type * as Platform from '../../core/platform/platform.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport {createTarget} from '../../testing/EnvironmentHelpers.js';\nimport {describeWithMockConnection} from '../../testing/MockConnection.js';\nimport {MockProtocolBackend} from '../../testing/MockScopeChain.js';\nimport * as TextUtils from '../text_utils/text_utils.js';\nimport * as Workspace from '../workspace/workspace.js';\n\nimport * as Bindings from './bindings.js';\n\ndescribeWithMockConnection('DefaultScriptMapping', () => {\n  const url = 'file:///tmp/example.js' as Platform.DevToolsPath.UrlString;\n  let target: SDK.Target.Target;\n  let backend: MockProtocolBackend;\n  let defaultScriptMapping: Bindings.DefaultScriptMapping.DefaultScriptMapping;\n  const contentWithSourceUrl = `<p>\n  Hello!\n</p>\n<script>console.log(\"Hi!\");\n  debugger;\n  console.log(\"There!\");\n//# sourceURL=test.js\n</script>`;\n  const contentWithoutSourceUrl = `<p>\n  Hello!\n</p>\n<script>console.log(\"Hi!\");\n  debugger;\n  console.log(\"There!\");\n</script>`;\n\n  beforeEach(() => {\n    const workspace = Workspace.Workspace.WorkspaceImpl.instance();\n    const targetManager = SDK.TargetManager.TargetManager.instance();\n    const resourceMapping = new Bindings.ResourceMapping.ResourceMapping(targetManager, workspace);\n    const debuggerWorkspaceBinding = Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance({\n      forceNew: true,\n      resourceMapping,\n      targetManager,\n    });\n    Bindings.IgnoreListManager.IgnoreListManager.instance({forceNew: true, debuggerWorkspaceBinding});\n    target = createTarget();\n    backend = new MockProtocolBackend();\n    defaultScriptMapping = new Bindings.DefaultScriptMapping.DefaultScriptMapping(\n        target.model(SDK.DebuggerModel.DebuggerModel) as SDK.DebuggerModel.DebuggerModel,\n        Workspace.Workspace.WorkspaceImpl.instance(),\n        Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance());\n  });\n\n  describe('rawLocationToUILocation', () => {\n    it('maps raw locations on first line in inline scripts without sourceURL', async () => {\n      const {scriptId, debuggerModel} = await backend.addScript(\n          target, {content: contentWithoutSourceUrl, url, startLine: 3, startColumn: 8, hasSourceURL: false}, null);\n      const uiLocation = defaultScriptMapping.rawLocationToUILocation(\n          new SDK.DebuggerModel.Location(debuggerModel, scriptId, 3, 9, 0));\n      assert.strictEqual(uiLocation?.lineNumber, 0);\n      assert.strictEqual(uiLocation?.columnNumber, 1);\n    });\n\n    it('maps raw locations in inline scripts without sourceURL', async () => {\n      const {scriptId, debuggerModel} = await backend.addScript(\n          target, {content: contentWithoutSourceUrl, url, startLine: 3, startColumn: 8, hasSourceURL: false}, null);\n      const uiLocation = defaultScriptMapping.rawLocationToUILocation(\n          new SDK.DebuggerModel.Location(debuggerModel, scriptId, 4, 2, 0));\n      assert.strictEqual(uiLocation?.lineNumber, 1);\n      assert.strictEqual(uiLocation?.columnNumber, 2);\n    });\n\n    it('maps raw locations in inline scripts with sourceURL', async () => {\n      const {scriptId, debuggerModel} = await backend.addScript(\n          target, {content: contentWithSourceUrl, url, startLine: 3, startColumn: 8, hasSourceURL: true}, null);\n      const uiLocation = defaultScriptMapping.rawLocationToUILocation(\n          new SDK.DebuggerModel.Location(debuggerModel, scriptId, 4, 2, 0));\n      assert.strictEqual(uiLocation?.lineNumber, 4);\n      assert.strictEqual(uiLocation?.columnNumber, 2);\n    });\n  });\n\n  describe('uiLocationToRawLocations', () => {\n    it('maps UI locations on first line in inline scripts without sourceURL', async () => {\n      const script = await backend.addScript(\n          target, {content: contentWithoutSourceUrl, url, startLine: 3, startColumn: 8, hasSourceURL: false}, null);\n      const uiSourceCode = defaultScriptMapping.uiSourceCodeForScript(script);\n      assert.exists(uiSourceCode);\n\n      const rawLocations = defaultScriptMapping.uiLocationToRawLocations(uiSourceCode, 0, 1);\n      assert.strictEqual(rawLocations.length, 1);\n      assert.strictEqual(rawLocations[0].lineNumber, 3);\n      assert.strictEqual(rawLocations[0].columnNumber, 9);\n    });\n\n    it('maps UI locations in inline scripts without sourceURL', async () => {\n      const script = await backend.addScript(\n          target, {content: contentWithoutSourceUrl, url, startLine: 3, startColumn: 8, hasSourceURL: false}, null);\n      const uiSourceCode = defaultScriptMapping.uiSourceCodeForScript(script);\n      assert.exists(uiSourceCode);\n\n      const rawLocations = defaultScriptMapping.uiLocationToRawLocations(uiSourceCode, 1, 2);\n      assert.strictEqual(rawLocations.length, 1);\n      assert.strictEqual(rawLocations[0].lineNumber, 4);\n      assert.strictEqual(rawLocations[0].columnNumber, 2);\n    });\n\n    it('maps UI locations in inline scripts with sourceURL', async () => {\n      const script = await backend.addScript(\n          target, {content: contentWithSourceUrl, url, startLine: 3, startColumn: 8, hasSourceURL: true}, null);\n      const uiSourceCode = defaultScriptMapping.uiSourceCodeForScript(script);\n      assert.exists(uiSourceCode);\n\n      const rawLocations = defaultScriptMapping.uiLocationToRawLocations(uiSourceCode, 4, 2);\n      assert.strictEqual(rawLocations.length, 1);\n      assert.strictEqual(rawLocations[0].lineNumber, 4);\n      assert.strictEqual(rawLocations[0].columnNumber, 2);\n    });\n  });\n\n  describe('uiLocationRangeToRawLocationRanges', () => {\n    it('maps UI location ranges on first line in inline scripts without sourceURL', async () => {\n      const script = await backend.addScript(\n          target, {content: contentWithoutSourceUrl, url, startLine: 3, startColumn: 8, hasSourceURL: false}, null);\n      const uiSourceCode = defaultScriptMapping.uiSourceCodeForScript(script);\n      assert.exists(uiSourceCode);\n\n      const rawLocationRanges = defaultScriptMapping.uiLocationRangeToRawLocationRanges(\n          uiSourceCode, new TextUtils.TextRange.TextRange(0, 1, 0, 4));\n      assert.exists(rawLocationRanges);\n      assert.lengthOf(rawLocationRanges, 1);\n      assert.strictEqual(rawLocationRanges[0].start.lineNumber, 3);\n      assert.strictEqual(rawLocationRanges[0].start.columnNumber, 9);\n      assert.strictEqual(rawLocationRanges[0].end.lineNumber, 3);\n      assert.strictEqual(rawLocationRanges[0].end.columnNumber, 12);\n    });\n\n    it('maps UI location ranges in inline scripts without sourceURL', async () => {\n      const script = await backend.addScript(\n          target, {content: contentWithoutSourceUrl, url, startLine: 3, startColumn: 8, hasSourceURL: false}, null);\n      const uiSourceCode = defaultScriptMapping.uiSourceCodeForScript(script);\n      assert.exists(uiSourceCode);\n\n      const rawLocationRanges = defaultScriptMapping.uiLocationRangeToRawLocationRanges(\n          uiSourceCode, new TextUtils.TextRange.TextRange(1, 2, 2, 4));\n      assert.exists(rawLocationRanges);\n      assert.lengthOf(rawLocationRanges, 1);\n      assert.strictEqual(rawLocationRanges[0].start.lineNumber, 4);\n      assert.strictEqual(rawLocationRanges[0].start.columnNumber, 2);\n      assert.strictEqual(rawLocationRanges[0].end.lineNumber, 5);\n      assert.strictEqual(rawLocationRanges[0].end.columnNumber, 4);\n    });\n\n    it('maps UI locations in inline scripts with sourceURL', async () => {\n      const script = await backend.addScript(\n          target, {content: contentWithSourceUrl, url, startLine: 3, startColumn: 8, hasSourceURL: true}, null);\n      const uiSourceCode = defaultScriptMapping.uiSourceCodeForScript(script);\n      assert.exists(uiSourceCode);\n\n      const rawLocationRanges = defaultScriptMapping.uiLocationRangeToRawLocationRanges(\n          uiSourceCode, new TextUtils.TextRange.TextRange(4, 2, 4, 4));\n      assert.exists(rawLocationRanges);\n      assert.lengthOf(rawLocationRanges, 1);\n      assert.strictEqual(rawLocationRanges[0].start.lineNumber, 4);\n      assert.strictEqual(rawLocationRanges[0].start.columnNumber, 2);\n      assert.strictEqual(rawLocationRanges[0].end.lineNumber, 4);\n      assert.strictEqual(rawLocationRanges[0].end.columnNumber, 4);\n    });\n  });\n\n  it('marks conditional breakpoint scripts as ignored', async () => {\n    const content = 'x === 5\\n\\n//# sourceURL=debugger://breakpoint';\n    const script = await backend.addScript(\n        target, {content, url: SDK.DebuggerModel.COND_BREAKPOINT_SOURCE_URL, hasSourceURL: true}, null);\n    const uiSourceCode = defaultScriptMapping.uiSourceCodeForScript(script);\n    assert.exists(uiSourceCode);\n\n    assert.isTrue(uiSourceCode.isUnconditionallyIgnoreListed());\n  });\n\n  it('marks logpoint scripts as ignored', async () => {\n    const content = 'console.log(x)\\n\\n//# sourceURL=debugger://logpoint';\n    const script = await backend.addScript(\n        target, {content, url: SDK.DebuggerModel.LOGPOINT_SOURCE_URL, hasSourceURL: true}, null);\n    const uiSourceCode = defaultScriptMapping.uiSourceCodeForScript(script);\n    assert.exists(uiSourceCode);\n\n    assert.isTrue(uiSourceCode.isUnconditionallyIgnoreListed());\n  });\n});\n"]}