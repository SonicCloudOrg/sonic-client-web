{"version":3,"file":"JavaScriptMetadata.test.js","sourceRoot":"","sources":["../../../../../../front_end/models/javascript_metadata/JavaScriptMetadata.test.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as JavascriptMetadata from './javascript_metadata.js';\n\ndescribe('JavaScriptMetadata', () => {\n  let metadata: JavascriptMetadata.JavaScriptMetadata.JavaScriptMetadataImpl;\n\n  before(() => {\n    metadata = new JavascriptMetadata.JavaScriptMetadata.JavaScriptMetadataImpl();\n  });\n\n  it('retrieves native signature by name', () => {\n    const signatures = metadata.signaturesForNativeFunction('webkitRequestFullScreen');\n    assert.deepEqual(signatures, [['?options']]);\n  });\n\n  it('does not retrieve native signatures that are bound to an instance', () => {\n    const signatures = metadata.signaturesForNativeFunction('find');\n    assert.deepEqual(signatures, null);\n  });\n\n  describe('with static methods', () => {\n    it('retrieves by name and class', () => {\n      const signatures = metadata.signaturesForStaticMethod('from', 'Array');\n      assert.deepEqual(signatures, [['iterable', '?mapfn', '?thisArg'], ['arrayLike', '?mapfn', '?thisArg']]);\n    });\n\n    it('does not retrieve methods that are bound to an instance', () => {\n      const signatures = metadata.signaturesForStaticMethod('includes', 'Array');\n      assert.deepEqual(signatures, null);\n    });\n\n    it('handles a non-existing class', () => {\n      const signatures = metadata.signaturesForStaticMethod('includes', 'bogus');\n      assert.deepEqual(signatures, null);\n    });\n  });\n\n  describe('with instance methods', () => {\n    it('retrieves by name and class', () => {\n      const signatures = metadata.signaturesForInstanceMethod('assign', 'HTMLSlotElement');\n      assert.deepEqual(signatures, [['...nodes']]);\n    });\n\n    it('does not retrieve methods that are unbound', () => {\n      const signatures = metadata.signaturesForInstanceMethod('webkitRequestFullScreen', 'window');\n      assert.deepEqual(signatures, null);\n    });\n\n    it('does not retrieve static methods', () => {\n      const signatures = metadata.signaturesForInstanceMethod('from', 'Array');\n      assert.deepEqual(signatures, null);\n    });\n\n    it('handles a non-existing class', () => {\n      const signatures = metadata.signaturesForInstanceMethod('from', 'Sheep');\n      assert.deepEqual(signatures, null);\n    });\n  });\n});\n"]}