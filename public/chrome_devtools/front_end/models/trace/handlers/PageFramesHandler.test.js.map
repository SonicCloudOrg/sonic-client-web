{"version":3,"file":"PageFramesHandler.test.js","sourceRoot":"","sources":["../../../../../../../front_end/models/trace/handlers/PageFramesHandler.test.ts"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,EAAC,WAAW,EAAC,MAAM,iCAAiC,CAAC;AAC5D,OAAO,KAAK,WAAW,MAAM,aAAa,CAAC;AAE3C,QAAQ,CAAC,mBAAmB,EAAE,GAAG,EAAE;IACjC,EAAE,CAAC,+BAA+B,EAAE,KAAK;QACvC,MAAM,MAAM,GAAG,MAAM,WAAW,CAAC,SAAS,CAAC,IAAI,EAAE,6BAA6B,CAAC,CAAC;QAChF,WAAW,CAAC,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;QACtD,KAAK,MAAM,KAAK,IAAI,MAAM,EAAE,CAAC;YAC3B,WAAW,CAAC,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QACnE,CAAC;QACD,MAAM,IAAI,GAAG,WAAW,CAAC,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;QAClE,MAAM,MAAM,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,CAAC;QACjD,MAAM,CAAC,SAAS,CAAC,MAAM,EAAE;YAEvB;gBACE,kCAAkC;gBAClC;oBACE,OAAO,EAAE,kCAAkC;oBAC3C,MAAM,EAAE,EAAE;oBACV,WAAW,EAAE,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC,KAAK,CAAC;oBAC3D,KAAK,EAAE,kBAAkB;iBAC1B;aACF;YACD;gBACE,kCAAkC;gBAClC;oBACE,OAAO,EAAE,kCAAkC;oBAC3C,MAAM,EAAE,EAAE;oBACV,QAAQ,EAAE,kCAAkC;oBAC5C,WAAW,EAAE,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC,KAAK,CAAC;oBAC3D,KAAK,EAAE,gGAAgG;iBACxG;aACF;SACF,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["// Copyright 2024 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport {TraceLoader} from '../../../testing/TraceLoader.js';\nimport * as TraceEngine from '../trace.js';\n\ndescribe('PageFramesHandler', () => {\n  it('returns frames and their data', async function() {\n    const events = await TraceLoader.rawEvents(this, 'web-dev-with-commit.json.gz');\n    TraceEngine.Handlers.ModelHandlers.PageFrames.reset();\n    for (const event of events) {\n      TraceEngine.Handlers.ModelHandlers.PageFrames.handleEvent(event);\n    }\n    const data = TraceEngine.Handlers.ModelHandlers.PageFrames.data();\n    const frames = Array.from(data.frames.entries());\n    assert.deepEqual(frames, [\n\n      [\n        '25D2F12F1818C70B5BD4325CC9ACD8FF',\n        {\n          'frame': '25D2F12F1818C70B5BD4325CC9ACD8FF',\n          'name': '',\n          'processId': TraceEngine.Types.TraceEvents.ProcessID(90812),\n          'url': 'https://web.dev/',\n        },\n      ],\n      [\n        'DD911DEB03F2AAB573DE9CA330486E80',\n        {\n          'frame': 'DD911DEB03F2AAB573DE9CA330486E80',\n          'name': '',\n          'parent': '25D2F12F1818C70B5BD4325CC9ACD8FF',\n          'processId': TraceEngine.Types.TraceEvents.ProcessID(90824),\n          'url': 'https://shared-storage-demo-content-producer.web.app/paa/scripts/private-aggregation-test.html',\n        },\n      ],\n    ]);\n  });\n});\n"]}