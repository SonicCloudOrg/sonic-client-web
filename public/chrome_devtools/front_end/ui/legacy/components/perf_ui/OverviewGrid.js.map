{"version":3,"file":"OverviewGrid.js","sourceRoot":"","sources":["../../../../../../../../front_end/ui/legacy/components/perf_ui/OverviewGrid.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;GA4BG;AAEH,OAAO,KAAK,MAAM,MAAM,mCAAmC,CAAC;AAC5D,OAAO,KAAK,IAAI,MAAM,+BAA+B,CAAC;AACtD,OAAO,KAAK,QAAQ,MAAM,uCAAuC,CAAC;AAClE,OAAO,KAAK,WAAW,MAAM,mCAAmC,CAAC;AACjE,OAAO,KAAK,UAAU,MAAM,gDAAgD,CAAC;AAC7E,OAAO,KAAK,EAAE,MAAM,iBAAiB,CAAC;AACtC,OAAO,KAAK,YAAY,MAAM,sCAAsC,CAAC;AAErE,OAAO,kBAAkB,MAAM,8BAA8B,CAAC;AAC9D,OAAO,EAAkB,YAAY,EAAC,MAAM,mBAAmB,CAAC;AAEhE,MAAM,SAAS,GAAG;IAChB;;OAEG;IACH,kBAAkB,EAAE,sBAAsB;IAC1C;;OAEG;IACH,WAAW,EAAE,cAAc;IAC3B;;OAEG;IACH,YAAY,EAAE,eAAe;CAC9B,CAAC;AACF,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,8CAA8C,EAAE,SAAS,CAAC,CAAC;AACpG,MAAM,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;AACtE,MAAM,OAAO,YAAY;IACvB,OAAO,CAAiB;IACP,IAAI,CAAe;IACnB,MAAM,CAAS;IAChC,YAAY,MAAc,EAAE,UAAuB;QACjD,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,CAAC,OAAO,CAAC,EAAE,GAAG,MAAM,GAAG,qBAAqB,CAAC;QAEjD,IAAI,CAAC,IAAI,GAAG,IAAI,YAAY,EAAE,CAAC;QAC/B,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,GAAG,MAAM,GAAG,gBAAgB,CAAC;QACjD,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;QAE1B,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAE5C,IAAI,CAAC,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,uBAAuB,EAAE,UAAU,CAAC,CAAC;IACxF,CAAC;IAED,6BAA6B;QAC3B,OAAO,IAAI,CAAC,MAAM,CAAC,6BAA6B,EAAE,CAAC;IACrD,CAAC;IAED,IAAI,kBAAkB,CAAC,SAAkB;QACvC,IAAI,CAAC,MAAM,CAAC,kBAAkB,GAAG,SAAS,CAAC;IAC7C,CAAC;IAED,WAAW;QACT,OAAO,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC;IAClC,CAAC;IAED,cAAc,CAAC,UAAsB;QACnC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;IACvC,CAAC;IAED,gBAAgB,CAAC,QAAmB;QAClC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC;IACvC,CAAC;IAED,mBAAmB;QACjB,IAAI,CAAC,IAAI,CAAC,mBAAmB,EAAE,CAAC;IAClC,CAAC;IAED,KAAK;QACH,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;IACtB,CAAC;IAED,UAAU;QACR,OAAO,IAAI,CAAC,MAAM,CAAC,UAAU,IAAI,CAAC,CAAC;IACrC,CAAC;IAED,WAAW;QACT,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,IAAI,CAAC,CAAC;IACtC,CAAC;IAED,SAAS,CAAC,IAAY,EAAE,KAAa;QACnC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IACrC,CAAC;IAED,gBAAgB,CACZ,SAAY,EAAE,QAAyD,EACvE,UAAmB;QACrB,OAAO,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,SAAS,EAAE,QAAQ,EAAE,UAAU,CAAC,CAAC;IACvE,CAAC;IAED,eAAe,CAAC,YAA6C;QAC3D,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,YAAY,CAAC,CAAC;IAC5C,CAAC;IAED,IAAI,CAAC,UAAkB,EAAE,cAAsB;QAC7C,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,cAAc,CAAC,CAAC;IAC/C,CAAC;IAED,gBAAgB,CAAC,OAAgB;QAC/B,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;IAClC,CAAC;CACF;AAED,MAAM,CAAC,MAAM,iBAAiB,GAAG,EAAE,CAAC;AACpC,MAAM,CAAC,MAAM,uBAAuB,GAAG,EAAE,CAAC;AAC1C,MAAM,CAAC,MAAM,aAAa,GAAG,CAAC,CAAC;AAC/B,MAAM,CAAC,MAAM,oBAAoB,GAAG,EAAE,CAAC;AAEvC,MAAM,OAAO,MAAO,SAAQ,MAAM,CAAC,aAAa,CAAC,aAAyB;IAChE,aAAa,CAAU;IACvB,UAAU,CAAuB;IACjC,iBAAiB,CAAc;IAC/B,kBAAkB,CAAc;IAChC,kBAAkB,CAAc;IAChC,mBAAmB,CAAc;IACjC,gCAAgC,CAAc;IAC9C,sBAAsB,CAAc;IACpC,aAAa,CAAe;IAC5B,kBAAkB,CAAwB;IAE1C,sBAAsB,CAA4B;IAClD,UAAU,CAAU;IACpB,cAAc,CAAU;IACxB,aAAa,CAAU;IACvB,cAAc,CAAU;IAChC,UAAU,CAAU;IACpB,WAAW,CAAU;IACb,OAAO,CAAW;IAClB,YAAY,CAAmC;IAC/C,uBAAuB,CAAU;IACzC,mBAAmB,GAAY,KAAK,CAAC;IACrC,sBAAsB,GAAY,KAAK,CAAC;IACxC,YAAY,aAAsB,EAAE,uBAAiC,EAAE,UAAuB;QAC5F,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QACnC,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;QACnD,EAAE,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QAC7C,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAE7B,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,EAAE,UAAU,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC,CAAC;QAEpF,EAAE,CAAC,OAAO,CAAC,iBAAiB,CACxB,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,2BAA2B,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,EACvG,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;QAC7D,IAAI,uBAAuB,EAAE,CAAC;YAC5B,EAAE,CAAC,OAAO,CAAC,iBAAiB,CACxB,uBAAuB,EAAE,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,EAClG,kBAAkB,EAAE,cAAc,CAAC,CAAC;QAC1C,CAAC;QAED,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC;QACjF,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC;QAC3F,YAAY,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,aAAa,EAAE,kBAAkB,CAAC,CAAC;QAEzF,IAAI,CAAC,iBAAiB,GAAG,aAAa,CAAC,WAAW,CAAC,KAAK,EAAE,8BAA8B,CAAgB,CAAC;QACzG,EAAE,CAAC,OAAO,CAAC,iBAAiB,CACxB,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,2BAA2B,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,IAAI,CAAC,EAC9G,IAAI,EAAE,WAAW,CAAC,CAAC;QACvB,IAAI,CAAC,kBAAkB,GAAI,aAAa,CAAC,WAAW,CAAC,KAAK,EAAE,8BAA8B,CAAiB,CAAC;QAC5G,EAAE,CAAC,OAAO,CAAC,iBAAiB,CACxB,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,2BAA2B,CAAC,IAAI,CAAC,IAAI,CAAC,EACpE,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC;QAEnE,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,iBAAiB,EAAE,UAAU,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC;QACjF,EAAE,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QAClD,MAAM,WAAW,GAAG,CAAC,KAAY,EAAQ,EAAE,CAAC,IAAI,CAAC,sBAAsB,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;QACtF,IAAI,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC;QAChE,IAAI,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAExE,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,kBAAkB,EAAE,UAAU,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,CAAC;QACnF,EAAE,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;QAEnD,MAAM,YAAY,GAAG,CAAC,KAAY,EAAQ,EAAE,CAAC,IAAI,CAAC,sBAAsB,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;QACtF,IAAI,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC;QAClE,IAAI,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,2BAA2B,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC/F,IAAI,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAEzE,IAAI,CAAC,kBAAkB,GAAI,aAAa,CAAC,WAAW,CAAC,KAAK,EAAE,qBAAqB,CAAiB,CAAC;QACnG,IAAI,CAAC,mBAAmB,GAAI,aAAa,CAAC,WAAW,CAAC,KAAK,EAAE,sBAAsB,CAAiB,CAAC;QAErG,IAAI,CAAC,gCAAgC;YAChC,aAAa,CAAC,WAAW,CAAC,KAAK,EAAE,oCAAoC,CAAiB,CAAC;QAC5F,IAAI,CAAC,sBAAsB;YACtB,IAAI,CAAC,gCAAgC,CAAC,WAAW,CAAC,KAAK,EAAE,0BAA0B,CAAiB,CAAC;QAC1G,IAAI,CAAC,KAAK,EAAE,CAAC;IACf,CAAC;IAED,6BAA6B;QAC3B,IAAI,CAAC,aAAa,GAAI,IAAI,CAAC,sBAAsB,CAAC,WAAW,CAAC,KAAK,CAAiB,CAAC;QACrF,IAAI,CAAC,kBAAkB,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;QACrD,IAAI,CAAC,kBAAkB,CAAC,IAAI,GAAG;YAC7B,QAAQ,EAAE,SAAS;YACnB,KAAK,EAAE,qBAAqB;YAC5B,KAAK,EAAE,MAAM;YACb,MAAM,EAAE,MAAM;SACf,CAAC;QACF,IAAI,CAAC,sBAAsB,CAAC,WAAW,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;QACjE,IAAI,CAAC,sBAAsB,CAAC,gBAAgB,CAAC,OAAO,EAAE,GAAG,EAAE;YACzD,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAC3B,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;QAEhC,IAAI,CAAC,8CAA8C,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACxE,IAAI,CAAC,8CAA8C,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;QAC7E,IAAI,CAAC,8CAA8C,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QAE5E,OAAO,IAAI,CAAC,gCAAgC,CAAC;IAC/C,CAAC;IAED,IAAI,kBAAkB,CAAC,SAAkB;QACvC,IAAI,CAAC,gCAAgC,CAAC,SAAS,CAAC,MAAM,CAAC,kBAAkB,EAAE,SAAS,CAAC,CAAC;IACxF,CAAC;IAED,8CAA8C,CAAC,OAAgB;QAC7D,IAAI,CAAC,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC9B,OAAO;QACT,CAAC;QACD,OAAO,CAAC,gBAAgB,CAAC,WAAW,EAAE,GAAG,EAAE;YACzC,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,IAAI,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC;gBAChE,IAAI,CAAC,gCAAgC,CAAC,SAAS,CAAC,MAAM,CAAC,8BAA8B,EAAE,KAAK,CAAC,CAAC;gBAC9F,IAAI,CAAC,sBAAsB,GAAG,KAAK,CAAC;YACtC,CAAC;iBAAM,CAAC;gBACN,IAAI,CAAC,gCAAgC,CAAC,SAAS,CAAC,MAAM,CAAC,8BAA8B,EAAE,IAAI,CAAC,CAAC;gBAC7F,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;YACrC,CAAC;QACH,CAAC,CAAC,CAAC;QAEH,OAAO,CAAC,gBAAgB,CAAC,UAAU,EAAE,GAAG,EAAE;YACxC,IAAI,CAAC,gCAAgC,CAAC,SAAS,CAAC,MAAM,CAAC,8BAA8B,EAAE,KAAK,CAAC,CAAC;YAC9F,IAAI,CAAC,sBAAsB,GAAG,KAAK,CAAC;QACtC,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,gBAAgB,CAAC,KAAY;QACnC,IAAI,KAAK,CAAC,MAAM,EAAE,CAAC;YAChB,KAAK,CAAC,MAAsB,CAAC,KAAK,EAAE,CAAC;QACxC,CAAC;IACH,CAAC;IAEO,2BAA2B;QACjC,uGAAuG;QACvG,IAAI,CAAC,aAAa,CAAC,UAAU,GAAG,CAAC,CAAC;IACpC,CAAC;IAED,KAAK;QACH,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC;QACtB,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC;QACvB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;QACtB,IAAI,CAAC,cAAc,EAAE,CAAC;IACxB,CAAC;IAED,UAAU,CAAC,OAAgB;QACzB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,kBAAkB,CAAC,QAAQ,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpD,IAAI,CAAC,iBAAiB,CAAC,QAAQ,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACrD,CAAC;IAED,eAAe,CAAC,YAA6C;QAC3D,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;IACnC,CAAC;IAEO,2BAA2B,CAAC,KAAY;QAC9C,MAAM,UAAU,GAAI,KAAoB,CAAC;QACzC,MAAM,MAAM,GAAI,KAAK,CAAC,MAAsB,CAAC;QAC7C,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;YAClB,OAAO,KAAK,CAAC;QACf,CAAC;QACD,IAAI,CAAC,uBAAuB,GAAG,UAAU,CAAC,KAAK,GAAG,UAAU,CAAC,OAAO,GAAG,MAAM,CAAC,UAAU,CAAC;QACzF,KAAK,CAAC,eAAe,EAAE,CAAC;QACxB,OAAO,IAAI,CAAC;IACd,CAAC;IAEO,yBAAyB,CAAC,KAAY;QAC5C,MAAM,UAAU,GAAI,KAAoB,CAAC;QACzC,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,uBAAuB,IAAI,CAAC,CAAC,CAAC,CAAC;QAC9E,KAAK,CAAC,cAAc,EAAE,CAAC;IACzB,CAAC;IAEO,0BAA0B,CAAC,KAAY;QAC7C,MAAM,UAAU,GAAI,KAAoB,CAAC;QACzC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,uBAAuB,IAAI,CAAC,CAAC,CAAC,CAAC;QAC/E,KAAK,CAAC,cAAc,EAAE,CAAC;IACzB,CAAC;IAEO,sBAAsB,CAAC,KAAY,EAAE,gBAA0B;QACrE,MAAM,aAAa,GAAI,KAAuB,CAAC;QAC/C,MAAM,MAAM,GAAI,KAAK,CAAC,MAAsB,CAAC;QAC7C,IAAI,SAAS,GAAG,KAAK,CAAC;QACtB,IAAI,aAAa,CAAC,GAAG,KAAK,WAAW,IAAI,aAAa,CAAC,GAAG,KAAK,YAAY,EAAE,CAAC;YAC5E,IAAI,aAAa,CAAC,GAAG,KAAK,YAAY,EAAE,CAAC;gBACvC,SAAS,GAAG,IAAI,CAAC;YACnB,CAAC;YACD,MAAM,MAAM,GAAG,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,UAAU,EAAE,SAAS,EAAE,aAAa,CAAC,OAAO,CAAC,CAAC;YAC/F,IAAI,gBAAgB,EAAE,CAAC;gBACrB,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;YACjC,CAAC;iBAAM,CAAC;gBACN,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;YAChC,CAAC;YACD,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACtB,CAAC;IACH,CAAC;IAEO,qBAAqB,CAAC,MAAc,EAAE,SAAmB,EAAE,WAAqB;QACtF,IAAI,MAAM,CAAC;QACX,2HAA2H;QAC3H,IAAI,aAAa,GAAoB,WAAW,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1D,aAAa,GAAG,SAAS,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QACrE,MAAM,UAAU,GAAG,MAAM,GAAG,aAAa,CAAC;QAC1C,MAAM,GAAG,UAAU,GAAG,aAAa,CAAC;QACpC,IAAI,SAAS,IAAI,MAAM,GAAG,oBAAoB,EAAE,CAAC;YAC/C,wGAAwG;YACxG,MAAM,GAAG,oBAAoB,CAAC;QAChC,CAAC;aAAM,IAAI,CAAC,SAAS,IAAI,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,GAAG,oBAAoB,EAAE,CAAC;YACxF,qIAAqI;YACrI,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,GAAG,oBAAoB,CAAC;QACjE,CAAC;QAED,OAAO,MAAM,CAAC;IAChB,CAAC;IAEO,2BAA2B,CAAC,KAAY;QAC9C,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;YAClB,OAAO,KAAK,CAAC;QACf,CAAC;QACD,MAAM,UAAU,GAAI,KAAoB,CAAC;QACzC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC,IAAI,CAAC;QAClE,MAAM,QAAQ,GAAG,UAAU,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC;QAChD,IAAI,CAAC,sBAAsB,GAAG,IAAI,cAAc,CAAC,IAAI,CAAC,aAAa,EAAE,QAAQ,CAAC,CAAC;QAC/E,OAAO,IAAI,CAAC;IACd,CAAC;IAEO,sBAAsB,CAAC,KAAY;QACzC,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;QACnC,IAAI,CAAC,IAAI,CAAC,sBAAsB,EAAE,CAAC;YACjC,OAAO;QACT,CAAC;QACD,MAAM,UAAU,GAAI,KAAoB,CAAC;QACzC,IAAI,CAAC,sBAAsB,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;QAC3E,KAAK,CAAC,cAAc,EAAE,CAAC;IACzB,CAAC;IAEO,yBAAyB,CAAC,KAAY;QAC5C,IAAI,CAAC,IAAI,CAAC,sBAAsB,EAAE,CAAC;YACjC,OAAO;QACT,CAAC;QACD,MAAM,UAAU,GAAI,KAAoB,CAAC;QACzC,MAAM,MAAM,GAAG,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;QAEjF,gFAAgF;QAChF,IAAI,IAAI,CAAC,mBAAmB,IAAI,MAAM,CAAC,KAAK,KAAK,MAAM,CAAC,GAAG,EAAE,CAAC;YAC5D,OAAO;QACT,CAAC;QAED,OAAO,IAAI,CAAC,sBAAsB,CAAC;QACnC,MAAM,cAAc,GAAG,CAAC,CAAC;QACzB,IAAI,MAAM,CAAC,GAAG,GAAG,MAAM,CAAC,KAAK,GAAG,cAAc,EAAE,CAAC;YAC/C,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,CAAC;gBAC7D,OAAO;YACT,CAAC;YACD,MAAM,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC;YAC1B,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,MAAM,GAAG,iBAAiB,GAAG,CAAC,CAAC,CAAC;YAC3D,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,MAAM,GAAG,iBAAiB,GAAG,CAAC,CAAC,CAAC;QACxF,CAAC;aAAM,IAAI,MAAM,CAAC,GAAG,GAAG,MAAM,CAAC,KAAK,GAAG,iBAAiB,EAAE,CAAC;YACzD,IAAI,IAAI,CAAC,aAAa,CAAC,WAAW,GAAG,MAAM,CAAC,GAAG,GAAG,iBAAiB,EAAE,CAAC;gBACpE,MAAM,CAAC,GAAG,GAAG,MAAM,CAAC,KAAK,GAAG,iBAAiB,CAAC;YAChD,CAAC;iBAAM,CAAC;gBACN,MAAM,CAAC,KAAK,GAAG,MAAM,CAAC,GAAG,GAAG,iBAAiB,CAAC;YAChD,CAAC;QACH,CAAC;QACD,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC;IACnD,CAAC;IAEO,mBAAmB,CAAC,KAAY;QACtC,MAAM,UAAU,GAAI,KAAoB,CAAC;QACzC,IAAI,CAAC,cAAc,GAAG,UAAU,CAAC,KAAK,CAAC;QACvC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,UAAU,IAAI,CAAC,CAAC;QAC1C,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,WAAW,IAAI,CAAC,CAAC;QAC5C,KAAK,CAAC,eAAe,EAAE,CAAC;QACxB,OAAO,IAAI,CAAC;IACd,CAAC;IAEO,cAAc,CAAC,KAAY;QACjC,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;QACnC,IAAI,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC7B,IAAI,CAAC,gCAAgC,CAAC,SAAS,CAAC,MAAM,CAAC,8BAA8B,EAAE,IAAI,CAAC,CAAC;QAC/F,CAAC;QACD,MAAM,UAAU,GAAI,KAAoB,CAAC;QACzC,UAAU,CAAC,cAAc,EAAE,CAAC;QAC5B,IAAI,KAAK,GAAW,CAAC,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC;QAC9F,IAAI,IAAI,CAAC,aAAa,GAAG,KAAK,GAAG,CAAC,EAAE,CAAC;YACnC,KAAK,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC;QAC9B,CAAC;QAED,IAAI,IAAI,CAAC,cAAc,GAAG,KAAK,GAAG,CAAC,EAAE,CAAC;YACpC,KAAK,GAAG,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC;QAClC,CAAC;QAED,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,GAAG,KAAK,EAAE,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC,CAAC;IAC1E,CAAC;IAEO,gBAAgB,CAAC,KAAa;QACpC,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;QACnC,gBAAgB;QAChB,IAAI,KAAK,GAAG,oBAAoB,EAAE,CAAC;YACjC,KAAK,GAAG,CAAC,CAAC;QACZ,CAAC;aAAM,IAAI,KAAK,GAAG,IAAI,CAAC,kBAAkB,CAAC,UAAU,GAAG,CAAC,EAAE,CAAC;YAC1D,KAAK,GAAG,IAAI,CAAC,kBAAkB,CAAC,UAAU,GAAG,CAAC,CAAC;QACjD,CAAC;QACD,IAAI,CAAC,iBAAiB,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;IACtC,CAAC;IAEO,iBAAiB,CAAC,GAAW;QACnC,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;QACnC,gBAAgB;QAChB,IAAI,GAAG,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,GAAG,oBAAoB,EAAE,CAAC;YAChE,GAAG,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC;QACvC,CAAC;aAAM,IAAI,GAAG,GAAG,IAAI,CAAC,iBAAiB,CAAC,UAAU,GAAG,iBAAiB,EAAE,CAAC;YACvE,GAAG,GAAG,IAAI,CAAC,iBAAiB,CAAC,UAAU,GAAG,iBAAiB,CAAC;QAC9D,CAAC;QACD,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;IACpC,CAAC;IAEO,mBAAmB;QACzB,IAAI,CAAC,iBAAiB,CAAC,CAAC,EAAE,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;IAC5D,CAAC;IAEO,iBAAiB,CAAC,UAAoB;QAC5C,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC;YACrB,MAAM,IAAI,KAAK,CAAC,uCAAuC,CAAC,CAAC;QAC3D,CAAC;QAED,MAAM,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,eAAe,EAAE,CAAC;QACvD,MAAM,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,eAAe,EAAE,GAAG,YAAY,CAAC;QACnE,IAAI,UAAU,EAAE,CAAC;YACf,OAAO,YAAY,GAAG,SAAS,GAAG,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,CAAC,CAAC;QAC3D,CAAC;QACD,OAAO,YAAY,GAAG,SAAS,GAAG,CAAC,IAAI,CAAC,WAAW,IAAI,CAAC,CAAC,CAAC;IAC5D,CAAC;IAEO,gCAAgC,CAAC,SAAiB,EAAE,UAAkB;QAC5E,MAAM,gBAAgB,GAAG,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;QAC9C,MAAM,iBAAiB,GAAG,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;QAChD,EAAE,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,iBAAiB,EAAE,gBAAgB,CAAC,CAAC;QACvE,EAAE,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,CAAC,kBAAkB,EAAE,iBAAiB,CAAC,CAAC;QAEzE,4GAA4G;QAC5G,MAAM,iBAAiB,GAAG,MAAM,CAAC,iBAAiB,CAAC,GAAG,GAAG,CAAC;QAC1D,MAAM,gBAAgB,GAAG,MAAM,CAAC,gBAAgB,CAAC,GAAG,GAAG,CAAC;QACxD,EAAE,CAAC,SAAS,CAAC,kBAAkB,CAAC,IAAI,CAAC,iBAAiB,EAAE,GAAG,EAAE,iBAAiB,CAAC,QAAQ,EAAE,CAAC,CAAC;QAC3F,EAAE,CAAC,SAAS,CAAC,kBAAkB,CAAC,IAAI,CAAC,kBAAkB,EAAE,gBAAgB,CAAC,QAAQ,EAAE,EAAE,KAAK,CAAC,CAAC;IAC/F,CAAC;IAEO,iCAAiC;QACvC,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC;YACrB,OAAO;QACT,CAAC;QACD,MAAM,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,WAAW,CAC1C,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC1F,MAAM,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,WAAW,CACxC,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QAC3F,EAAE,CAAC,SAAS,CAAC,gBAAgB,CAAC,IAAI,CAAC,iBAAiB,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC;QAC1E,EAAE,CAAC,SAAS,CAAC,gBAAgB,CAAC,IAAI,CAAC,kBAAkB,EAAE,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC;IAC3E,CAAC;IAEO,mCAAmC,CAAC,SAAiB,EAAE,UAAkB;QAC/E,EAAE,CAAC,SAAS,CAAC,gBAAgB,CAAC,IAAI,CAAC,iBAAiB,EAAE,SAAS,CAAC,CAAC;QACjE,EAAE,CAAC,SAAS,CAAC,gBAAgB,CAAC,IAAI,CAAC,kBAAkB,EAAE,UAAU,CAAC,CAAC;IACrE,CAAC;IAEO,uBAAuB;QAI7B,OAAO;YACL,aAAa,EAAE,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;YACpE,WAAW,EAAE,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;SACpE,CAAC;IACJ,CAAC;IAED,SAAS,CAAC,UAAkB,EAAE,WAAmB;QAC/C,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,IAAI,IAAI,CAAC,UAAU,EAAE,CAAC;YACpB,IAAI,CAAC,wBAAwB,qEAAmC,IAAI,CAAC,uBAAuB,EAAE,CAAC,CAAC;QAClG,CAAC;QACD,IAAI,CAAC,wBAAwB,4CAAsB,CAAC;QACpD,IAAI,CAAC,iCAAiC,CAAC,UAAU,EAAE,WAAW,CAAC,CAAC;IAClE,CAAC;IAED,uEAAuE;IACvE,6EAA6E;IAC7E,iCAAiC,CAAC,UAAkB,EAAE,WAAmB;QACvE,IAAI,CAAC,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC9B,OAAO;QACT,CAAC;QACD,IAAI,CAAC,WAAW,IAAI,CAAC,IAAI,UAAU,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,sBAAsB,EAAE,CAAC;YAC1E,IAAI,CAAC,gCAAgC,CAAC,SAAS,CAAC,MAAM,CAAC,8BAA8B,EAAE,KAAK,CAAC,CAAC;QAChG,CAAC;aAAM,CAAC;YACN,IAAI,CAAC,gCAAgC,CAAC,SAAS,CAAC,MAAM,CAAC,8BAA8B,EAAE,IAAI,CAAC,CAAC;QAC/F,CAAC;IACH,CAAC;IAED,iBAAiB;QACf,IAAI,CAAC,wBAAwB,iDAAyB,IAAI,CAAC,uBAAuB,EAAE,CAAC,CAAC;IACxF,CAAC;IAEO,cAAc;QACpB,MAAM,UAAU,GAAG,IAAI,CAAC,UAAU,IAAI,CAAC,CAAC;QACxC,MAAM,WAAW,GAAG,IAAI,CAAC,WAAW,IAAI,CAAC,CAAC;QAC1C,IAAI,IAAI,GAAG,UAAU,CAAC;QACtB,IAAI,KAAK,GAAG,WAAW,CAAC;QACxB,MAAM,KAAK,GAAG,KAAK,GAAG,IAAI,CAAC;QAE3B,+JAA+J;QAC/J,IAAI,IAAI,CAAC,aAAa,CAAC,WAAW,KAAK,CAAC,EAAE,CAAC;YACzC,oGAAoG;YACpG,MAAM,aAAa,GAAG,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC;YAC7D,MAAM,gBAAgB,GAAG,iBAAiB,GAAG,CAAC,CAAC;YAC/C,IAAI,aAAa,GAAG,gBAAgB,EAAE,CAAC;gBACrC,MAAM,MAAM,GAAG,gBAAgB,GAAG,aAAa,CAAC;gBAChD,IAAI,GAAG,CAAC,CAAC,WAAW,GAAG,UAAU,CAAC,GAAG,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;gBACzD,KAAK,GAAG,CAAC,CAAC,WAAW,GAAG,UAAU,CAAC,GAAG,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;YAC5D,CAAC;QACH,CAAC;QACD,MAAM,yBAAyB,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,CAAC;QAC/C,MAAM,0BAA0B,GAAG,CAAC,GAAG,GAAG,KAAK,CAAC,CAAC;QACjD,MAAM,2BAA2B,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,KAAK,CAAC,CAAC,CAAC;QAE1D,MAAM,+BAA+B,GAAG,yBAAyB,GAAG,GAAG,CAAC;QACxE,MAAM,gCAAgC,GAAG,0BAA0B,GAAG,GAAG,CAAC;QAE1E,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,IAAI,GAAG,+BAA+B,CAAC;QACpE,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,IAAI,GAAG,gCAAgC,CAAC;QAEtE,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,KAAK,GAAG,+BAA+B,CAAC;QACtE,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,KAAK,GAAG,2BAA2B,GAAG,GAAG,CAAC;QAEzE,IAAI,CAAC,gCAAgC,CAAC,KAAK,CAAC,UAAU;YAClD,CAAC,yBAAyB,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,yBAAyB,GAAG,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC;QAC7E,IAAI,CAAC,gCAAgC,CAAC,KAAK,CAAC,WAAW;YACnD,CAAC,2BAA2B,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,2BAA2B,GAAG,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC;QAEjF,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC;YACvB,IAAI,CAAC,aAAa,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;QAC5E,CAAC;QAED,IAAI,CAAC,gCAAgC,CAAC,yBAAyB,EAAE,0BAA0B,CAAC,CAAC;QAC7F,IAAI,IAAI,CAAC,UAAU,EAAE,CAAC;YACpB,IAAI,CAAC,iCAAiC,EAAE,CAAC;QAC3C,CAAC;aAAM,CAAC;YACN,IAAI,CAAC,mCAAmC,CAAC,+BAA+B,EAAE,gCAAgC,CAAC,CAAC;QAC9G,CAAC;QAED,IAAI,CAAC,uBAAuB,EAAE,CAAC;IACjC,CAAC;IAEO,uBAAuB;QAC7B,IAAI,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAC5B,iEAAiE;YACjE,kDAAkD;YAClD,gCAAgC;YAChC,IAAI,IAAI,CAAC,cAAc,EAAE,GAAG,GAAG,EAAE,CAAC;gBAChC,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;gBAC/C,IAAI,CAAC,gCAAgC,CAAC,KAAK,CAAC,aAAa,GAAG,MAAM,CAAC;YACrE,CAAC;iBAAM,CAAC;gBACN,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;gBAC/C,IAAI,CAAC,gCAAgC,CAAC,KAAK,CAAC,aAAa,GAAG,MAAM,CAAC;YACrE,CAAC;QACH,CAAC;IACH,CAAC;IAEO,cAAc;QACpB,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC;YACrB,MAAM,IAAI,KAAK,CAAC,yCAAyC,CAAC,CAAC;QAC7D,CAAC;QAED,MAAM,IAAI,GAAG,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5E,MAAM,KAAK,GAAG,CAAC,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;QAChF,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC,CAAC;IAC3D,CAAC;IAEO,iBAAiB,CAAC,KAAkB,EAAE,GAAgB;QAC5D,MAAM,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC;QACnD,MAAM,UAAU,GAAG,OAAO,KAAK,KAAK,QAAQ,CAAC,CAAC,CAAC,KAAK,GAAG,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC;QACrF,MAAM,WAAW,GAAG,OAAO,GAAG,KAAK,QAAQ,CAAC,CAAC,CAAC,GAAG,GAAG,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC;QACnF,IAAI,CAAC,SAAS,CAAC,UAAU,IAAI,CAAC,EAAE,WAAW,IAAI,CAAC,CAAC,CAAC;IACpD,CAAC;IAEO,YAAY,CAAC,KAAY;QAC/B,MAAM,UAAU,GAAI,KAAoB,CAAC;QACzC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;YAClB,OAAO;QACT,CAAC;QACD,IAAI,UAAU,CAAC,MAAM,EAAE,CAAC;YACtB,MAAM,UAAU,GAAG,GAAG,CAAC;YACvB,MAAM,cAAc,GAAG,CAAC,GAAG,EAAE,CAAC;YAE9B,MAAM,SAAS,GAAG,UAAU,CAAC,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC;YACtE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,UAAU,CAAC,MAAM,GAAG,cAAc,CAAC,EAAE,SAAS,CAAC,CAAC;QACjF,CAAC;QACD,IAAI,UAAU,CAAC,MAAM,EAAE,CAAC;YACtB,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,MAAM,GAAG,uBAAuB,CAAC,CAAC;YACrE,MAAM,UAAU,GAAG,IAAI,CAAC,iBAAiB,CAAC,UAAU,GAAG,aAAa,CAAC;YACrE,MAAM,WAAW,GAAG,IAAI,CAAC,kBAAkB,CAAC,UAAU,GAAG,aAAa,CAAC;YAEvE,IAAI,UAAU,GAAG,MAAM,GAAG,CAAC,EAAE,CAAC;gBAC5B,MAAM,GAAG,UAAU,CAAC;YACtB,CAAC;YAED,IAAI,WAAW,GAAG,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC;gBAC1D,MAAM,GAAG,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC;YACxD,CAAC;YAED,IAAI,CAAC,iBAAiB,CAAC,UAAU,GAAG,MAAM,EAAE,WAAW,GAAG,MAAM,CAAC,CAAC;YAElE,UAAU,CAAC,cAAc,EAAE,CAAC;QAC9B,CAAC;IACH,CAAC;IAED,IAAI,CAAC,MAAc,EAAE,SAAiB;QACpC,IAAI,IAAI,GAAW,IAAI,CAAC,UAAU,IAAI,CAAC,CAAC;QACxC,IAAI,KAAK,GAAW,IAAI,CAAC,WAAW,IAAI,CAAC,CAAC;QAC1C,MAAM,UAAU,GAAG,KAAK,GAAG,IAAI,CAAC;QAChC,IAAI,aAAa,GAAa,MAAM,GAAG,UAAU,CAAC;QAClD,IAAI,aAAa,GAAG,CAAC,EAAE,CAAC;YACtB,aAAa,GAAG,CAAC,CAAC;YAClB,MAAM,GAAG,aAAa,GAAG,UAAU,CAAC;QACtC,CAAC;QACD,IAAI,GAAG,SAAS,GAAG,CAAC,IAAI,GAAG,SAAS,CAAC,GAAG,MAAM,CAAC;QAC/C,IAAI,GAAG,QAAQ,CAAC,eAAe,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,GAAG,aAAa,CAAC,CAAC;QAElE,KAAK,GAAG,SAAS,GAAG,CAAC,KAAK,GAAG,SAAS,CAAC,GAAG,MAAM,CAAC;QACjD,KAAK,GAAG,QAAQ,CAAC,eAAe,CAAC,KAAK,CAAC,KAAK,EAAE,aAAa,EAAE,CAAC,CAAC,CAAC;QAChE,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IAC9B,CAAC;CACF;AAmBD,MAAM,OAAO,cAAc;IACjB,aAAa,CAAS;IACtB,KAAK,CAAS;IACd,cAAc,CAAiB;IAEvC,YAAY,MAAe,EAAE,QAAgB;QAC3C,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC;QAC9B,IAAI,CAAC,KAAK,GAAI,MAAsB,CAAC,WAAW,CAAC;QACjD,IAAI,CAAC,cAAc,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACpD,IAAI,CAAC,cAAc,CAAC,SAAS,GAAG,+BAA+B,CAAC;QAChE,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QAC3D,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QACzE,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;IAC1C,CAAC;IAED,KAAK,CAAC,QAAgB;QAIpB,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;QACvD,IAAI,CAAC,cAAc,CAAC,MAAM,EAAE,CAAC;QAC7B,OAAO,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,CAAC,CAAC,EAAC,KAAK,EAAE,IAAI,CAAC,aAAa,EAAE,GAAG,EAAE,QAAQ,EAAC,CAAC,CAAC;YAC5C,EAAC,KAAK,EAAE,QAAQ,EAAE,GAAG,EAAE,IAAI,CAAC,aAAa,EAAC,CAAC;IACpF,CAAC;IAED,cAAc,CAAC,QAAgB;QAC7B,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;QACvD,IAAI,QAAQ,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;YAClC,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,IAAI,GAAG,QAAQ,GAAG,IAAI,CAAC;YACjD,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QAC3E,CAAC;aAAM,CAAC;YACN,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;YAC3D,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,GAAG,QAAQ,GAAG,IAAI,CAAC;QACjE,CAAC;IACH,CAAC;CACF","sourcesContent":["/*\n * Copyright (C) 2013 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport * as Common from '../../../../core/common/common.js';\nimport * as i18n from '../../../../core/i18n/i18n.js';\nimport * as Platform from '../../../../core/platform/platform.js';\nimport * as TraceEngine from '../../../../models/trace/trace.js';\nimport * as IconButton from '../../../components/icon_button/icon_button.js';\nimport * as UI from '../../legacy.js';\nimport * as ThemeSupport from '../../theme_support/theme_support.js';\n\nimport overviewGridStyles from './overviewGrid.css.legacy.js';\nimport {type Calculator, TimelineGrid} from './TimelineGrid.js';\n\nconst UIStrings = {\n  /**\n   *@description Label for the window for Overview grids\n   */\n  overviewGridWindow: 'Overview grid window',\n  /**\n   *@description Label for left window resizer for Overview grids\n   */\n  leftResizer: 'Left Resizer',\n  /**\n   *@description Label for right window resizer for Overview grids\n   */\n  rightResizer: 'Right Resizer',\n};\nconst str_ = i18n.i18n.registerUIStrings('ui/legacy/components/perf_ui/OverviewGrid.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class OverviewGrid {\n  element: HTMLDivElement;\n  private readonly grid: TimelineGrid;\n  private readonly window: Window;\n  constructor(prefix: string, calculator?: Calculator) {\n    this.element = document.createElement('div');\n    this.element.id = prefix + '-overview-container';\n\n    this.grid = new TimelineGrid();\n    this.grid.element.id = prefix + '-overview-grid';\n    this.grid.setScrollTop(0);\n\n    this.element.appendChild(this.grid.element);\n\n    this.window = new Window(this.element, this.grid.dividersLabelBarElement, calculator);\n  }\n\n  enableCreateBreadcrumbsButton(): HTMLElement {\n    return this.window.enableCreateBreadcrumbsButton();\n  }\n\n  set showingScreenshots(isShowing: boolean) {\n    this.window.showingScreenshots = isShowing;\n  }\n\n  clientWidth(): number {\n    return this.element.clientWidth;\n  }\n\n  updateDividers(calculator: Calculator): void {\n    this.grid.updateDividers(calculator);\n  }\n\n  addEventDividers(dividers: Element[]): void {\n    this.grid.addEventDividers(dividers);\n  }\n\n  removeEventDividers(): void {\n    this.grid.removeEventDividers();\n  }\n\n  reset(): void {\n    this.window.reset();\n  }\n\n  windowLeft(): number {\n    return this.window.windowLeft || 0;\n  }\n\n  windowRight(): number {\n    return this.window.windowRight || 0;\n  }\n\n  setWindow(left: number, right: number): void {\n    this.window.setWindow(left, right);\n  }\n\n  addEventListener<T extends keyof EventTypes>(\n      eventType: T, listener: Common.EventTarget.EventListener<EventTypes, T>,\n      thisObject?: Object): Common.EventTarget.EventDescriptor {\n    return this.window.addEventListener(eventType, listener, thisObject);\n  }\n\n  setClickHandler(clickHandler: ((arg0: Event) => boolean)|null): void {\n    this.window.setClickHandler(clickHandler);\n  }\n\n  zoom(zoomFactor: number, referencePoint: number): void {\n    this.window.zoom(zoomFactor, referencePoint);\n  }\n\n  setResizeEnabled(enabled: boolean): void {\n    this.window.setEnabled(enabled);\n  }\n}\n\nexport const MinSelectableSize = 14;\nexport const WindowScrollSpeedFactor = .3;\nexport const ResizerOffset = 5;\nexport const OffsetFromWindowEnds = 10;\n\nexport class Window extends Common.ObjectWrapper.ObjectWrapper<EventTypes> {\n  private parentElement: Element;\n  private calculator: Calculator|undefined;\n  private leftResizeElement: HTMLElement;\n  private rightResizeElement: HTMLElement;\n  private leftCurtainElement: HTMLElement;\n  private rightCurtainElement: HTMLElement;\n  private breadcrumbButtonContainerElement: HTMLElement;\n  private createBreadcrumbButton: HTMLElement;\n  private curtainsRange?: HTMLElement;\n  private breadcrumbZoomIcon?: IconButton.Icon.Icon;\n\n  private overviewWindowSelector!: WindowSelector|undefined;\n  private offsetLeft!: number;\n  private dragStartPoint!: number;\n  private dragStartLeft!: number;\n  private dragStartRight!: number;\n  windowLeft?: number;\n  windowRight?: number;\n  private enabled?: boolean;\n  private clickHandler?: ((arg0: Event) => boolean)|null;\n  private resizerParentOffsetLeft?: number;\n  #breadcrumbsEnabled: boolean = false;\n  #mouseOverGridOverview: boolean = false;\n  constructor(parentElement: Element, dividersLabelBarElement?: Element, calculator?: Calculator) {\n    super();\n    this.parentElement = parentElement;\n    this.parentElement.classList.add('parent-element');\n    UI.ARIAUtils.markAsGroup(this.parentElement);\n    this.calculator = calculator;\n\n    UI.ARIAUtils.setLabel(this.parentElement, i18nString(UIStrings.overviewGridWindow));\n\n    UI.UIUtils.installDragHandle(\n        this.parentElement, this.startWindowSelectorDragging.bind(this), this.windowSelectorDragging.bind(this),\n        this.endWindowSelectorDragging.bind(this), 'text', null);\n    if (dividersLabelBarElement) {\n      UI.UIUtils.installDragHandle(\n          dividersLabelBarElement, this.startWindowDragging.bind(this), this.windowDragging.bind(this), null,\n          '-webkit-grabbing', '-webkit-grab');\n    }\n\n    this.parentElement.addEventListener('wheel', this.onMouseWheel.bind(this), true);\n    this.parentElement.addEventListener('dblclick', this.resizeWindowMaximum.bind(this), true);\n    ThemeSupport.ThemeSupport.instance().appendStyle(this.parentElement, overviewGridStyles);\n\n    this.leftResizeElement = parentElement.createChild('div', 'overview-grid-window-resizer') as HTMLElement;\n    UI.UIUtils.installDragHandle(\n        this.leftResizeElement, this.resizerElementStartDragging.bind(this), this.leftResizeElementDragging.bind(this),\n        null, 'ew-resize');\n    this.rightResizeElement = (parentElement.createChild('div', 'overview-grid-window-resizer') as HTMLElement);\n    UI.UIUtils.installDragHandle(\n        this.rightResizeElement, this.resizerElementStartDragging.bind(this),\n        this.rightResizeElementDragging.bind(this), null, 'ew-resize');\n\n    UI.ARIAUtils.setLabel(this.leftResizeElement, i18nString(UIStrings.leftResizer));\n    UI.ARIAUtils.markAsSlider(this.leftResizeElement);\n    const leftKeyDown = (event: Event): void => this.handleKeyboardResizing(event, false);\n    this.leftResizeElement.addEventListener('keydown', leftKeyDown);\n    this.leftResizeElement.addEventListener('click', this.onResizerClicked);\n\n    UI.ARIAUtils.setLabel(this.rightResizeElement, i18nString(UIStrings.rightResizer));\n    UI.ARIAUtils.markAsSlider(this.rightResizeElement);\n\n    const rightKeyDown = (event: Event): void => this.handleKeyboardResizing(event, true);\n    this.rightResizeElement.addEventListener('keydown', rightKeyDown);\n    this.rightResizeElement.addEventListener('focus', this.onRightResizeElementFocused.bind(this));\n    this.rightResizeElement.addEventListener('click', this.onResizerClicked);\n\n    this.leftCurtainElement = (parentElement.createChild('div', 'window-curtain-left') as HTMLElement);\n    this.rightCurtainElement = (parentElement.createChild('div', 'window-curtain-right') as HTMLElement);\n\n    this.breadcrumbButtonContainerElement =\n        (parentElement.createChild('div', 'create-breadcrumb-button-container') as HTMLElement);\n    this.createBreadcrumbButton =\n        (this.breadcrumbButtonContainerElement.createChild('div', 'create-breadcrumb-button') as HTMLElement);\n    this.reset();\n  }\n\n  enableCreateBreadcrumbsButton(): HTMLElement {\n    this.curtainsRange = (this.createBreadcrumbButton.createChild('div') as HTMLElement);\n    this.breadcrumbZoomIcon = new IconButton.Icon.Icon();\n    this.breadcrumbZoomIcon.data = {\n      iconName: 'zoom-in',\n      color: 'var(--icon-default)',\n      width: '20px',\n      height: '20px',\n    };\n    this.createBreadcrumbButton.appendChild(this.breadcrumbZoomIcon);\n    this.createBreadcrumbButton.addEventListener('click', () => {\n      this.#createBreadcrumb();\n    });\n\n    this.#breadcrumbsEnabled = true;\n\n    this.#changeBreadcrumbButtonVisibilityOnInteraction(this.parentElement);\n    this.#changeBreadcrumbButtonVisibilityOnInteraction(this.rightResizeElement);\n    this.#changeBreadcrumbButtonVisibilityOnInteraction(this.leftResizeElement);\n\n    return this.breadcrumbButtonContainerElement;\n  }\n\n  set showingScreenshots(isShowing: boolean) {\n    this.breadcrumbButtonContainerElement.classList.toggle('with-screenshots', isShowing);\n  }\n\n  #changeBreadcrumbButtonVisibilityOnInteraction(element: Element): void {\n    if (!this.#breadcrumbsEnabled) {\n      return;\n    }\n    element.addEventListener('mouseover', () => {\n      if ((this.windowLeft ?? 0) <= 0 && (this.windowRight ?? 1) >= 1) {\n        this.breadcrumbButtonContainerElement.classList.toggle('is-breadcrumb-button-visible', false);\n        this.#mouseOverGridOverview = false;\n      } else {\n        this.breadcrumbButtonContainerElement.classList.toggle('is-breadcrumb-button-visible', true);\n        this.#mouseOverGridOverview = true;\n      }\n    });\n\n    element.addEventListener('mouseout', () => {\n      this.breadcrumbButtonContainerElement.classList.toggle('is-breadcrumb-button-visible', false);\n      this.#mouseOverGridOverview = false;\n    });\n  }\n\n  private onResizerClicked(event: Event): void {\n    if (event.target) {\n      (event.target as HTMLElement).focus();\n    }\n  }\n\n  private onRightResizeElementFocused(): void {\n    // To prevent browser focus from scrolling the element into view and shifting the contents of the strip\n    this.parentElement.scrollLeft = 0;\n  }\n\n  reset(): void {\n    this.windowLeft = 0.0;\n    this.windowRight = 1.0;\n    this.setEnabled(true);\n    this.updateCurtains();\n  }\n\n  setEnabled(enabled: boolean): void {\n    this.enabled = enabled;\n    this.rightResizeElement.tabIndex = enabled ? 0 : -1;\n    this.leftResizeElement.tabIndex = enabled ? 0 : -1;\n  }\n\n  setClickHandler(clickHandler: ((arg0: Event) => boolean)|null): void {\n    this.clickHandler = clickHandler;\n  }\n\n  private resizerElementStartDragging(event: Event): boolean {\n    const mouseEvent = (event as MouseEvent);\n    const target = (event.target as HTMLElement);\n    if (!this.enabled) {\n      return false;\n    }\n    this.resizerParentOffsetLeft = mouseEvent.pageX - mouseEvent.offsetX - target.offsetLeft;\n    event.stopPropagation();\n    return true;\n  }\n\n  private leftResizeElementDragging(event: Event): void {\n    const mouseEvent = (event as MouseEvent);\n    this.resizeWindowLeft(mouseEvent.pageX - (this.resizerParentOffsetLeft || 0));\n    event.preventDefault();\n  }\n\n  private rightResizeElementDragging(event: Event): void {\n    const mouseEvent = (event as MouseEvent);\n    this.resizeWindowRight(mouseEvent.pageX - (this.resizerParentOffsetLeft || 0));\n    event.preventDefault();\n  }\n\n  private handleKeyboardResizing(event: Event, moveRightResizer?: boolean): void {\n    const keyboardEvent = (event as KeyboardEvent);\n    const target = (event.target as HTMLElement);\n    let increment = false;\n    if (keyboardEvent.key === 'ArrowLeft' || keyboardEvent.key === 'ArrowRight') {\n      if (keyboardEvent.key === 'ArrowRight') {\n        increment = true;\n      }\n      const newPos = this.getNewResizerPosition(target.offsetLeft, increment, keyboardEvent.ctrlKey);\n      if (moveRightResizer) {\n        this.resizeWindowRight(newPos);\n      } else {\n        this.resizeWindowLeft(newPos);\n      }\n      event.consume(true);\n    }\n  }\n\n  private getNewResizerPosition(offset: number, increment?: boolean, ctrlPressed?: boolean): number {\n    let newPos;\n    // We shift by 10px if the ctrlKey is pressed and 2 otherwise.  1px shifts result in noOp due to rounding in updateCurtains\n    let pixelsToShift: number|(2 | 10) = ctrlPressed ? 10 : 2;\n    pixelsToShift = increment ? pixelsToShift : -Math.abs(pixelsToShift);\n    const offsetLeft = offset + ResizerOffset;\n    newPos = offsetLeft + pixelsToShift;\n    if (increment && newPos < OffsetFromWindowEnds) {\n      // When incrementing, snap to the window offset value (10px) if the new position is between 0px and 10px\n      newPos = OffsetFromWindowEnds;\n    } else if (!increment && newPos > this.parentElement.clientWidth - OffsetFromWindowEnds) {\n      // When decrementing, snap to the window offset value (10px) from the rightmost side if the new position is within 10px from the end.\n      newPos = this.parentElement.clientWidth - OffsetFromWindowEnds;\n    }\n\n    return newPos;\n  }\n\n  private startWindowSelectorDragging(event: Event): boolean {\n    if (!this.enabled) {\n      return false;\n    }\n    const mouseEvent = (event as MouseEvent);\n    this.offsetLeft = this.parentElement.getBoundingClientRect().left;\n    const position = mouseEvent.x - this.offsetLeft;\n    this.overviewWindowSelector = new WindowSelector(this.parentElement, position);\n    return true;\n  }\n\n  private windowSelectorDragging(event: Event): void {\n    this.#mouseOverGridOverview = true;\n    if (!this.overviewWindowSelector) {\n      return;\n    }\n    const mouseEvent = (event as MouseEvent);\n    this.overviewWindowSelector.updatePosition(mouseEvent.x - this.offsetLeft);\n    event.preventDefault();\n  }\n\n  private endWindowSelectorDragging(event: Event): void {\n    if (!this.overviewWindowSelector) {\n      return;\n    }\n    const mouseEvent = (event as MouseEvent);\n    const window = this.overviewWindowSelector.close(mouseEvent.x - this.offsetLeft);\n\n    // prevent selecting a window on clicking the minimap if breadcrumbs are enabled\n    if (this.#breadcrumbsEnabled && window.start === window.end) {\n      return;\n    }\n\n    delete this.overviewWindowSelector;\n    const clickThreshold = 3;\n    if (window.end - window.start < clickThreshold) {\n      if (this.clickHandler && this.clickHandler.call(null, event)) {\n        return;\n      }\n      const middle = window.end;\n      window.start = Math.max(0, middle - MinSelectableSize / 2);\n      window.end = Math.min(this.parentElement.clientWidth, middle + MinSelectableSize / 2);\n    } else if (window.end - window.start < MinSelectableSize) {\n      if (this.parentElement.clientWidth - window.end > MinSelectableSize) {\n        window.end = window.start + MinSelectableSize;\n      } else {\n        window.start = window.end - MinSelectableSize;\n      }\n    }\n    this.setWindowPosition(window.start, window.end);\n  }\n\n  private startWindowDragging(event: Event): boolean {\n    const mouseEvent = (event as MouseEvent);\n    this.dragStartPoint = mouseEvent.pageX;\n    this.dragStartLeft = this.windowLeft || 0;\n    this.dragStartRight = this.windowRight || 0;\n    event.stopPropagation();\n    return true;\n  }\n\n  private windowDragging(event: Event): void {\n    this.#mouseOverGridOverview = true;\n    if (this.#breadcrumbsEnabled) {\n      this.breadcrumbButtonContainerElement.classList.toggle('is-breadcrumb-button-visible', true);\n    }\n    const mouseEvent = (event as MouseEvent);\n    mouseEvent.preventDefault();\n    let delta: number = (mouseEvent.pageX - this.dragStartPoint) / this.parentElement.clientWidth;\n    if (this.dragStartLeft + delta < 0) {\n      delta = -this.dragStartLeft;\n    }\n\n    if (this.dragStartRight + delta > 1) {\n      delta = 1 - this.dragStartRight;\n    }\n\n    this.setWindow(this.dragStartLeft + delta, this.dragStartRight + delta);\n  }\n\n  private resizeWindowLeft(start: number): void {\n    this.#mouseOverGridOverview = true;\n    // Glue to edge.\n    if (start < OffsetFromWindowEnds) {\n      start = 0;\n    } else if (start > this.rightResizeElement.offsetLeft - 4) {\n      start = this.rightResizeElement.offsetLeft - 4;\n    }\n    this.setWindowPosition(start, null);\n  }\n\n  private resizeWindowRight(end: number): void {\n    this.#mouseOverGridOverview = true;\n    // Glue to edge.\n    if (end > this.parentElement.clientWidth - OffsetFromWindowEnds) {\n      end = this.parentElement.clientWidth;\n    } else if (end < this.leftResizeElement.offsetLeft + MinSelectableSize) {\n      end = this.leftResizeElement.offsetLeft + MinSelectableSize;\n    }\n    this.setWindowPosition(null, end);\n  }\n\n  private resizeWindowMaximum(): void {\n    this.setWindowPosition(0, this.parentElement.clientWidth);\n  }\n\n  private getRawSliderValue(leftSlider?: boolean): number {\n    if (!this.calculator) {\n      throw new Error('No calculator to calculate boundaries');\n    }\n\n    const minimumValue = this.calculator.minimumBoundary();\n    const valueSpan = this.calculator.maximumBoundary() - minimumValue;\n    if (leftSlider) {\n      return minimumValue + valueSpan * (this.windowLeft || 0);\n    }\n    return minimumValue + valueSpan * (this.windowRight || 0);\n  }\n\n  private updateResizeElementPositionValue(leftValue: number, rightValue: number): void {\n    const roundedLeftValue = leftValue.toFixed(2);\n    const roundedRightValue = rightValue.toFixed(2);\n    UI.ARIAUtils.setAriaValueNow(this.leftResizeElement, roundedLeftValue);\n    UI.ARIAUtils.setAriaValueNow(this.rightResizeElement, roundedRightValue);\n\n    // Left and right sliders cannot be within 0.5% of each other (Range of AriaValueMin/Max/Now is from 0-100).\n    const leftResizeCeiling = Number(roundedRightValue) - 0.5;\n    const rightResizeFloor = Number(roundedLeftValue) + 0.5;\n    UI.ARIAUtils.setAriaValueMinMax(this.leftResizeElement, '0', leftResizeCeiling.toString());\n    UI.ARIAUtils.setAriaValueMinMax(this.rightResizeElement, rightResizeFloor.toString(), '100');\n  }\n\n  private updateResizeElementPositionLabels(): void {\n    if (!this.calculator) {\n      return;\n    }\n    const startValue = this.calculator.formatValue(\n        TraceEngine.Types.Timing.MilliSeconds(this.getRawSliderValue(/* leftSlider */ true)));\n    const endValue = this.calculator.formatValue(\n        TraceEngine.Types.Timing.MilliSeconds(this.getRawSliderValue(/* leftSlider */ false)));\n    UI.ARIAUtils.setAriaValueText(this.leftResizeElement, String(startValue));\n    UI.ARIAUtils.setAriaValueText(this.rightResizeElement, String(endValue));\n  }\n\n  private updateResizeElementPercentageLabels(leftValue: string, rightValue: string): void {\n    UI.ARIAUtils.setAriaValueText(this.leftResizeElement, leftValue);\n    UI.ARIAUtils.setAriaValueText(this.rightResizeElement, rightValue);\n  }\n\n  private calculateWindowPosition(): {\n    rawStartValue: number,\n    rawEndValue: number,\n  } {\n    return {\n      rawStartValue: Number(this.getRawSliderValue(/* leftSlider */ true)),\n      rawEndValue: Number(this.getRawSliderValue(/* leftSlider */ false)),\n    };\n  }\n\n  setWindow(windowLeft: number, windowRight: number): void {\n    this.windowLeft = windowLeft;\n    this.windowRight = windowRight;\n    this.updateCurtains();\n    if (this.calculator) {\n      this.dispatchEventToListeners(Events.WindowChangedWithPosition, this.calculateWindowPosition());\n    }\n    this.dispatchEventToListeners(Events.WindowChanged);\n    this.#changeBreadcrumbButtonVisibility(windowLeft, windowRight);\n  }\n\n  // \"Create breadcrumb\" button is only visible when the window is set to\n  // something other than the full range and mouse is hovering over the MiniMap\n  #changeBreadcrumbButtonVisibility(windowLeft: number, windowRight: number): void {\n    if (!this.#breadcrumbsEnabled) {\n      return;\n    }\n    if ((windowRight >= 1 && windowLeft <= 0) || !this.#mouseOverGridOverview) {\n      this.breadcrumbButtonContainerElement.classList.toggle('is-breadcrumb-button-visible', false);\n    } else {\n      this.breadcrumbButtonContainerElement.classList.toggle('is-breadcrumb-button-visible', true);\n    }\n  }\n\n  #createBreadcrumb(): void {\n    this.dispatchEventToListeners(Events.BreadcrumbAdded, this.calculateWindowPosition());\n  }\n\n  private updateCurtains(): void {\n    const windowLeft = this.windowLeft || 0;\n    const windowRight = this.windowRight || 0;\n    let left = windowLeft;\n    let right = windowRight;\n    const width = right - left;\n\n    // OverviewGrids that are instantiated before the parentElement is shown will have a parent element client width of 0 which throws off the 'factor' calculation\n    if (this.parentElement.clientWidth !== 0) {\n      // We allow actual time window to be arbitrarily small but don't want the UI window to be too small.\n      const widthInPixels = width * this.parentElement.clientWidth;\n      const minWidthInPixels = MinSelectableSize / 2;\n      if (widthInPixels < minWidthInPixels) {\n        const factor = minWidthInPixels / widthInPixels;\n        left = ((windowRight + windowLeft) - width * factor) / 2;\n        right = ((windowRight + windowLeft) + width * factor) / 2;\n      }\n    }\n    const leftResizerPercLeftOffset = (100 * left);\n    const rightResizerPercLeftOffset = (100 * right);\n    const rightResizerPercRightOffset = (100 - (100 * right));\n\n    const leftResizerPercLeftOffsetString = leftResizerPercLeftOffset + '%';\n    const rightResizerPercLeftOffsetString = rightResizerPercLeftOffset + '%';\n\n    this.leftResizeElement.style.left = leftResizerPercLeftOffsetString;\n    this.rightResizeElement.style.left = rightResizerPercLeftOffsetString;\n\n    this.leftCurtainElement.style.width = leftResizerPercLeftOffsetString;\n    this.rightCurtainElement.style.width = rightResizerPercRightOffset + '%';\n\n    this.breadcrumbButtonContainerElement.style.marginLeft =\n        (leftResizerPercLeftOffset > 0) ? leftResizerPercLeftOffset + '%' : '0%';\n    this.breadcrumbButtonContainerElement.style.marginRight =\n        (rightResizerPercRightOffset > 0) ? rightResizerPercRightOffset + '%' : '0%';\n\n    if (this.curtainsRange) {\n      this.curtainsRange.textContent = this.getWindowRange().toFixed(0) + ' ms';\n    }\n\n    this.updateResizeElementPositionValue(leftResizerPercLeftOffset, rightResizerPercLeftOffset);\n    if (this.calculator) {\n      this.updateResizeElementPositionLabels();\n    } else {\n      this.updateResizeElementPercentageLabels(leftResizerPercLeftOffsetString, rightResizerPercLeftOffsetString);\n    }\n\n    this.toggleZoomButtonDisplay();\n  }\n\n  private toggleZoomButtonDisplay(): void {\n    if (this.breadcrumbZoomIcon) {\n      // disable button that creates breadcrumbs and hide the zoom icon\n      // when the selected window is smaller than 4.5 ms\n      // 4.5 is rounded to 5 in the UI\n      if (this.getWindowRange() < 4.5) {\n        this.breadcrumbZoomIcon.style.display = 'none';\n        this.breadcrumbButtonContainerElement.style.pointerEvents = 'none';\n      } else {\n        this.breadcrumbZoomIcon.style.display = 'flex';\n        this.breadcrumbButtonContainerElement.style.pointerEvents = 'auto';\n      }\n    }\n  }\n\n  private getWindowRange(): number {\n    if (!this.calculator) {\n      throw new Error('No calculator to calculate window range');\n    }\n\n    const left = (this.windowLeft && this.windowLeft > 0) ? this.windowLeft : 0;\n    const right = (this.windowRight && this.windowRight < 1) ? this.windowRight : 1;\n    return (this.calculator.boundarySpan() * (right - left));\n  }\n\n  private setWindowPosition(start: number|null, end: number|null): void {\n    const clientWidth = this.parentElement.clientWidth;\n    const windowLeft = typeof start === 'number' ? start / clientWidth : this.windowLeft;\n    const windowRight = typeof end === 'number' ? end / clientWidth : this.windowRight;\n    this.setWindow(windowLeft || 0, windowRight || 0);\n  }\n\n  private onMouseWheel(event: Event): void {\n    const wheelEvent = (event as WheelEvent);\n    if (!this.enabled) {\n      return;\n    }\n    if (wheelEvent.deltaY) {\n      const zoomFactor = 1.1;\n      const wheelZoomSpeed = 1 / 53;\n\n      const reference = wheelEvent.offsetX / this.parentElement.clientWidth;\n      this.zoom(Math.pow(zoomFactor, wheelEvent.deltaY * wheelZoomSpeed), reference);\n    }\n    if (wheelEvent.deltaX) {\n      let offset = Math.round(wheelEvent.deltaX * WindowScrollSpeedFactor);\n      const windowLeft = this.leftResizeElement.offsetLeft + ResizerOffset;\n      const windowRight = this.rightResizeElement.offsetLeft + ResizerOffset;\n\n      if (windowLeft - offset < 0) {\n        offset = windowLeft;\n      }\n\n      if (windowRight - offset > this.parentElement.clientWidth) {\n        offset = windowRight - this.parentElement.clientWidth;\n      }\n\n      this.setWindowPosition(windowLeft - offset, windowRight - offset);\n\n      wheelEvent.preventDefault();\n    }\n  }\n\n  zoom(factor: number, reference: number): void {\n    let left: number = this.windowLeft || 0;\n    let right: number = this.windowRight || 0;\n    const windowSize = right - left;\n    let newWindowSize: 1|number = factor * windowSize;\n    if (newWindowSize > 1) {\n      newWindowSize = 1;\n      factor = newWindowSize / windowSize;\n    }\n    left = reference + (left - reference) * factor;\n    left = Platform.NumberUtilities.clamp(left, 0, 1 - newWindowSize);\n\n    right = reference + (right - reference) * factor;\n    right = Platform.NumberUtilities.clamp(right, newWindowSize, 1);\n    this.setWindow(left, right);\n  }\n}\n\nexport const enum Events {\n  WindowChanged = 'WindowChanged',\n  WindowChangedWithPosition = 'WindowChangedWithPosition',\n  BreadcrumbAdded = 'BreadcrumbAdded',\n}\n\nexport interface WindowChangedWithPositionEvent {\n  rawStartValue: number;\n  rawEndValue: number;\n}\n\nexport type EventTypes = {\n  [Events.WindowChanged]: void,\n  [Events.BreadcrumbAdded]: WindowChangedWithPositionEvent,\n  [Events.WindowChangedWithPosition]: WindowChangedWithPositionEvent,\n};\n\nexport class WindowSelector {\n  private startPosition: number;\n  private width: number;\n  private windowSelector: HTMLDivElement;\n\n  constructor(parent: Element, position: number) {\n    this.startPosition = position;\n    this.width = (parent as HTMLElement).offsetWidth;\n    this.windowSelector = document.createElement('div');\n    this.windowSelector.className = 'overview-grid-window-selector';\n    this.windowSelector.style.left = this.startPosition + 'px';\n    this.windowSelector.style.right = this.width - this.startPosition + 'px';\n    parent.appendChild(this.windowSelector);\n  }\n\n  close(position: number): {\n    start: number,\n    end: number,\n  } {\n    position = Math.max(0, Math.min(position, this.width));\n    this.windowSelector.remove();\n    return this.startPosition < position ? {start: this.startPosition, end: position} :\n                                           {start: position, end: this.startPosition};\n  }\n\n  updatePosition(position: number): void {\n    position = Math.max(0, Math.min(position, this.width));\n    if (position < this.startPosition) {\n      this.windowSelector.style.left = position + 'px';\n      this.windowSelector.style.right = this.width - this.startPosition + 'px';\n    } else {\n      this.windowSelector.style.left = this.startPosition + 'px';\n      this.windowSelector.style.right = this.width - position + 'px';\n    }\n  }\n}\n"]}