{"version":3,"file":"Font.js","sourceRoot":"","sources":["../../../../../../../../front_end/ui/legacy/components/perf_ui/Font.ts"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAC7B,OAAO,KAAK,IAAI,MAAM,+BAA+B,CAAC;AAEtD,IAAI,UAAU,GAAgB,IAAI,CAAC;AAEnC;;;;;;;;;;;;IAYI;AACJ,MAAM,UAAU,sBAAsB;IACpC,IAAI,UAAU,EAAE,CAAC;QACf,OAAO,UAAU,CAAC;IACpB,CAAC;IAED,MAAM,UAAU,GAAG,gBAAgB,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IACnD,IAAI,UAAU,CAAC,UAAU,EAAE,CAAC;QAC1B,UAAU,GAAG,UAAU,CAAC,UAAU,CAAC;IACrC,CAAC;SAAM,CAAC;QACN,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,CAAC;IAC1C,CAAC;IAED,OAAO,UAAU,CAAC;AACpB,CAAC;AAED,MAAM,CAAC,MAAM,iBAAiB,GAAG,MAAM,CAAC","sourcesContent":["// Copyright 2023 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\nimport * as Host from '../../../../core/host/host.js';\n\nlet fontFamily: string|null = null;\n\n/**\n * Because we run our UI in a couple of contexts (actual app & test\n * environments) and on multiple platforms, the font is not consistent, so this\n * function is used to determine which font to use when rendering the canvas.\n * The most reliable way to do this is to see what font is on the body element,\n * but because this triggers layout we ensure we only do it once before caching\n * the result. If nothing is set on the body for whatever reason, we fall back\n * to what we usually use on the platform.\n *\n * We need this behaviour because in interaction tests we force the font to be a\n * specific font that we know is available on local dev machines and on the bots\n * to ensure that the screenshot tests are consistent.\n **/\nexport function getFontFamilyForCanvas(): string {\n  if (fontFamily) {\n    return fontFamily;\n  }\n\n  const bodyStyles = getComputedStyle(document.body);\n  if (bodyStyles.fontFamily) {\n    fontFamily = bodyStyles.fontFamily;\n  } else {\n    fontFamily = Host.Platform.fontFamily();\n  }\n\n  return fontFamily;\n}\n\nexport const DEFAULT_FONT_SIZE = '11px';\n"]}