{"version":3,"file":"Dialog.test.js","sourceRoot":"","sources":["../../../../../../../front_end/ui/components/dialogs/Dialog.test.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2023 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Platform from '../../../core/platform/platform.js';\nimport type * as WindowBoundsService from '../../../services/window_bounds/window_bounds.js';\nimport * as Helpers from '../../../testing/DOMHelpers.js';  // eslint-disable-line rulesdir/es_modules_import\nimport * as Coordinator from '../render_coordinator/render_coordinator.js';\n\nimport * as Dialogs from './dialogs.js';\n\nconst coordinator = Coordinator.RenderCoordinator.RenderCoordinator.instance();\nclass DialogExampleWindowBoundsServiceFactory implements WindowBoundsService.WindowBoundsService.WindowBoundsService {\n  constructor(private boundingElement: HTMLElement) {\n  }\n  getDevToolsBoundingElement(): HTMLElement {\n    return this.boundingElement;\n  }\n}\n\ndescribe('Dialog', () => {\n  describe('positioning', () => {\n    let dialog: Dialogs.Dialog.Dialog;\n    let container: HTMLDivElement;\n    let host: HTMLDivElement;\n    beforeEach(() => {\n      dialog = new Dialogs.Dialog.Dialog();\n      container = document.createElement('div');\n      container.style.width = '500px';\n      container.style.height = '500px';\n      container.style.display = 'flex';\n      container.style.alignItems = 'center';\n      container.style.justifyContent = 'center';\n\n      host = document.createElement('div');\n      host.textContent = 'Hover me';\n      host.style.width = '100px';\n      host.style.height = '100px';\n\n      dialog.position = Dialogs.Dialog.DialogVerticalPosition.TOP;\n      dialog.showConnector = true;\n      dialog.origin = host;\n    });\n    it('places the Dialog hit area correctly', async () => {\n      host.addEventListener('click', () => dialog.setDialogVisible(true));\n      dialog.addEventListener('clickoutsidedialog', () => dialog.setDialogVisible(false));\n\n      container.appendChild(host);\n      container.appendChild(dialog);\n      Helpers.renderElementIntoDOM(container);\n      await coordinator.done();\n\n      Helpers.dispatchClickEvent(host);\n      await coordinator.done();\n\n      const hostBounds = host.getBoundingClientRect();\n      const hitAreaBounds = dialog.getHitArea();\n\n      // Make sure the hit area contains the host fully.\n      assert.isAtMost(hitAreaBounds.top, hostBounds.top);\n      assert.isAtLeast(hitAreaBounds.bottom, hostBounds.top + hostBounds.height);\n\n      assert.isAtMost(hitAreaBounds.left, hostBounds.left);\n      assert.isAtLeast(hitAreaBounds.right, hostBounds.left + hostBounds.width);\n    });\n    it('sets the automatic horizontal alignment correctly', async () => {\n      // Create the container for the dialog and its origin (host).\n      // This container will be set as the dialog's \"window\".\n      // With the host in the left border of the window, the Dialog\n      // should deploy from left to right (left horizontal alignment).\n      container.style.display = 'block';\n      host.style.position = 'relative';\n      host.style.left = '0';\n\n      const content = document.createElement('div');\n      content.classList.add('dialog-content');\n      content.style.padding = '0 1em';\n      content.innerHTML = 'Hi';\n\n      dialog.horizontalAlignment = Dialogs.Dialog.DialogHorizontalAlignment.AUTO;\n      dialog.showConnector = true;\n      dialog.origin = host;\n\n      // Set the dialog's \"window\" to be the container element we just created.\n      dialog.windowBoundsService = new DialogExampleWindowBoundsServiceFactory(container);\n\n      host.addEventListener('click', () => dialog.setDialogVisible(true));\n      dialog.addEventListener('clickoutsidedialog', () => dialog.setDialogVisible(false));\n\n      dialog.appendChild(content);\n      container.appendChild(host);\n      container.appendChild(dialog);\n      Helpers.renderElementIntoDOM(container);\n      await coordinator.done();\n\n      // Open the dialog and check its position.\n      Helpers.dispatchClickEvent(host);\n      await coordinator.done();\n\n      // Test the dialog is deployed left to right, since this way there is more space.\n      assert.strictEqual(dialog.bestHorizontalAlignment, Dialogs.Dialog.DialogHorizontalAlignment.LEFT);\n\n      // Close the dialog\n      Helpers.dispatchKeyDownEvent(dialog, {key: Platform.KeyboardUtilities.ESCAPE_KEY, bubbles: true, composed: true});\n      await coordinator.done();\n\n      // With the host in the right border of the window, the Dialog\n      // should deploy from right to left (left horizontal alignment).\n      host.style.position = 'relative';\n      host.style.left = '450px';\n      await coordinator.done();\n\n      // Open the dialog and check its position.\n      Helpers.dispatchClickEvent(host);\n      await coordinator.done();\n\n      // Test the dialog is deployed right to left.\n      assert.strictEqual(dialog.bestHorizontalAlignment, Dialogs.Dialog.DialogHorizontalAlignment.RIGHT);\n    });\n\n    it('sets the automatic vertical position correctly when it fits on top', async () => {\n      // Create the container for the dialog and its origin (host), aligning\n      // items to the bottom of the container. This container will be set as the\n      // dialog's \"window\".\n      // By default the dialog is placed at the bottom of its origin, but doing\n      // so means it wouldn't fit in its window. Because if shown on top would\n      // fit in its window it should be automatically positioned there.\n      container.style.width = '150px';\n      container.style.height = '300px';\n      container.style.display = 'flex';\n      container.style.alignItems = 'end';\n      container.style.justifyContent = 'center';\n\n      // The dialogs content dimensions exceed the viewport's\n      const content = document.createElement('div');\n      content.classList.add('dialog-content');\n      content.style.padding = '0 1em';\n      content.innerHTML = 'Hello, World<br/> I am <br/> a Dialog!';\n\n      dialog.position = Dialogs.Dialog.DialogVerticalPosition.AUTO;\n      dialog.showConnector = true;\n      dialog.origin = host;\n\n      // Set the dialog's \"window\" to be the container element we just created.\n      dialog.windowBoundsService = new DialogExampleWindowBoundsServiceFactory(container);\n\n      host.addEventListener('click', () => dialog.setDialogVisible(true));\n      dialog.addEventListener('clickoutsidedialog', () => dialog.setDialogVisible(false));\n\n      dialog.appendChild(content);\n      container.appendChild(host);\n      container.appendChild(dialog);\n      Helpers.renderElementIntoDOM(container);\n      await coordinator.done();\n\n      // Open the dialog and check its position.\n      Helpers.dispatchClickEvent(host);\n      await coordinator.done();\n\n      // Test the capped dimensions\n      assert.strictEqual(dialog.bestVerticalPosition, Dialogs.Dialog.DialogVerticalPosition.TOP);\n    });\n\n    it('sets the automatic vertical position correctly when it does not fit on top', async () => {\n      // Create the container for the dialog and its origin (host), aligning\n      // items to the bottom of the container. This container will be set as the\n      // dialog's \"window\".\n      // Because the dialog's full height cannot be fully fit at the\n      // bottom or at the top it is positioned at the bottom and the\n      // overflow made visible by scrolling.\n      container.style.width = '150px';\n      container.style.height = '80px';\n      container.style.display = 'flex';\n      container.style.alignItems = 'end';\n      container.style.justifyContent = 'center';\n\n      // The dialogs content dimensions exceed the viewport's\n      const content = document.createElement('div');\n      content.classList.add('dialog-content');\n      content.style.padding = '0 1em';\n      content.innerHTML = 'Hello, World<br/> I am <br/> a Dialog!';\n\n      dialog.position = Dialogs.Dialog.DialogVerticalPosition.AUTO;\n      dialog.showConnector = true;\n      dialog.origin = host;\n\n      // Set the dialog's \"window\" to be the container element we just created.\n      dialog.windowBoundsService = new DialogExampleWindowBoundsServiceFactory(container);\n\n      host.addEventListener('click', () => dialog.setDialogVisible(true));\n      dialog.addEventListener('clickoutsidedialog', () => dialog.setDialogVisible(false));\n\n      dialog.appendChild(content);\n      container.appendChild(host);\n      container.appendChild(dialog);\n      Helpers.renderElementIntoDOM(container);\n      await coordinator.done();\n\n      // Open the dialog and check its position.\n      Helpers.dispatchClickEvent(host);\n      await coordinator.done();\n\n      // Test the capped dimensions\n      assert.strictEqual(dialog.bestVerticalPosition, Dialogs.Dialog.DialogVerticalPosition.BOTTOM);\n    });\n    // Fails on bots https://crbug.com/1441801.\n    it.skip(\n        '[crbug.com/1441801]: sets the max width and height correctly when the dialog\\'s content dimensions exceed the viewport and the dialog is displayed as a modal',\n        async () => {\n          const devtoolsDialog = new Dialogs.Dialog.Dialog();\n          const WINDOW_WIDTH = 500;\n          // This container will be set as the dialog's \"window\", or the representation\n          // of DevTools bounding element.\n          container.style.width = `${WINDOW_WIDTH}px`;\n          container.style.height = `${WINDOW_WIDTH}px`;\n          const host = document.createElement('div');\n          host.textContent = 'Hover me';\n          host.style.width = '100px';\n\n          const content = document.createElement('div');\n          content.classList.add('dialog-content');\n          content.style.width = '600px';\n          content.style.height = '600px';\n          content.innerHTML = 'Hello, World<br/> I am <br/> a Dialog!';\n\n          devtoolsDialog.origin = Dialogs.Dialog.MODAL;\n\n          // Set the dialog's \"window\" to be the container element we just created.\n          devtoolsDialog.windowBoundsService = new DialogExampleWindowBoundsServiceFactory(container);\n\n          host.addEventListener('click', () => devtoolsDialog.setDialogVisible(true));\n          devtoolsDialog.addEventListener('clickoutsidedialog', () => devtoolsDialog.setDialogVisible(false));\n\n          container.appendChild(host);\n          container.appendChild(devtoolsDialog);\n          Helpers.renderElementIntoDOM(container);\n          await coordinator.done();\n          devtoolsDialog.appendChild(content);\n\n          // Open the dialog and check its position.\n          Helpers.dispatchClickEvent(host);\n          await coordinator.done();\n          const dialog = devtoolsDialog.shadowRoot?.querySelector('dialog');\n          if (!dialog) {\n            assert.fail('Dialog not found');\n            return;\n          }\n          assert.strictEqual(\n              dialog.clientWidth,\n              WINDOW_WIDTH - Dialogs.Dialog.DIALOG_PADDING_FROM_WINDOW + 2 * Dialogs.Dialog.DIALOG_SIDE_PADDING);\n          assert.strictEqual(\n              dialog.clientHeight,\n              WINDOW_WIDTH - Dialogs.Dialog.DIALOG_PADDING_FROM_WINDOW + 2 * Dialogs.Dialog.DIALOG_VERTICAL_PADDING);\n        });\n    describe('with an anchor and possible overflow', () => {\n      const CONTAINER_WIDTH = 500;\n      const HOST_OFFSET = 100;\n      const HOST_HEIGHT = 100;\n      const devtoolsDialog = new Dialogs.Dialog.Dialog();\n      let host: HTMLElement;\n      let container: HTMLElement;\n      beforeEach(async () => {\n        // This container will be set as the dialog's \"window\", or the representation\n        // of DevTools bounding element.\n        container = document.createElement('div');\n        container.style.width = `${CONTAINER_WIDTH}px`;\n        container.style.height = `${CONTAINER_WIDTH}px`;\n        container.style.position = 'fixed';\n        container.style.top = '0';\n        container.style.left = '0';\n\n        host = document.createElement('div');\n        host.textContent = 'Click me';\n        host.style.width = `${HOST_HEIGHT}px`;\n        host.style.height = `${HOST_HEIGHT}px`;\n        host.style.position = 'absolute';\n        host.style.top = `${HOST_OFFSET}px`;\n        host.style.left = `${HOST_OFFSET}px`;\n\n        // The dialogs content dimensions exceed the container's\n        const content = document.createElement('div');\n        content.classList.add('dialog-content');\n        content.style.width = '600px';\n        content.style.height = '600px';\n        content.innerHTML = 'Hello, World<br/> I am <br/> a Dialog!';\n\n        devtoolsDialog.origin = host;\n        devtoolsDialog.horizontalAlignment = Dialogs.Dialog.DialogHorizontalAlignment.CENTER;\n\n        // Set the dialog's \"window\" to be the container element we just created.\n        devtoolsDialog.windowBoundsService = new DialogExampleWindowBoundsServiceFactory(container);\n\n        host.addEventListener('click', () => devtoolsDialog.setDialogVisible(true));\n        devtoolsDialog.addEventListener('clickoutsidedialog', () => devtoolsDialog.setDialogVisible(false));\n\n        container.appendChild(host);\n        container.appendChild(devtoolsDialog);\n        Helpers.renderElementIntoDOM(container);\n        await coordinator.done();\n        devtoolsDialog.appendChild(content);\n      });\n      it('sets the max width and height correctly when the dialog\\'s content dimensions exceed the viewport and the dialog is anchored to the left',\n         async () => {\n           devtoolsDialog.horizontalAlignment = Dialogs.Dialog.DialogHorizontalAlignment.LEFT;\n           // Open the dialog and check its position.\n           Helpers.dispatchClickEvent(host);\n           await coordinator.done();\n           const dialog = devtoolsDialog.shadowRoot?.querySelector('dialog');\n           if (!dialog) {\n             assert.fail('Dialog not found');\n             return;\n           }\n           // Test the capped dimensions\n           const {left: dialogLeft, width: dialogWidth} = dialog.getBoundingClientRect();\n           const dialogLeftBorderLimitPosition = dialogWidth + dialogLeft + Dialogs.Dialog.DIALOG_PADDING_FROM_WINDOW -\n               2 * Dialogs.Dialog.DIALOG_SIDE_PADDING;\n           assert.strictEqual(dialogLeftBorderLimitPosition, CONTAINER_WIDTH);\n           assert.strictEqual(\n               dialog.clientHeight,\n               CONTAINER_WIDTH - Dialogs.Dialog.CONNECTOR_HEIGHT - HOST_HEIGHT - HOST_OFFSET +\n                   2 * Dialogs.Dialog.DIALOG_VERTICAL_PADDING);\n         });\n      it('sets the max width and height correctly when the dialog\\'s content dimensions exceed the viewport and the dialog is anchored to the right',\n         async () => {\n           devtoolsDialog.horizontalAlignment = Dialogs.Dialog.DialogHorizontalAlignment.RIGHT;\n           await coordinator.done();\n           // Open the dialog and check its position.\n           Helpers.dispatchClickEvent(host);\n           await coordinator.done();\n           const dialog = devtoolsDialog.shadowRoot?.querySelector('dialog');\n           if (!dialog) {\n             assert.fail('Dialog not found');\n             return;\n           }\n           // Test the capped dimensions\n           const dialogRight = host.getBoundingClientRect().right;\n           const containerLeft = container.getBoundingClientRect().left;\n           assert.strictEqual(\n               dialog.clientWidth,\n               (dialogRight - containerLeft) - Dialogs.Dialog.DIALOG_PADDING_FROM_WINDOW +\n                   2 * Dialogs.Dialog.DIALOG_SIDE_PADDING);\n         });\n      it('sets the dialog\\'s horizontal position correctly to prevent overlap with DevTools when alinged to the left.',\n         async () => {\n           devtoolsDialog.horizontalAlignment = Dialogs.Dialog.DialogHorizontalAlignment.LEFT;\n           host.style.left = '-10px';\n\n           await coordinator.done();\n           // Open the dialog and check its position.\n           Helpers.dispatchClickEvent(host);\n           await coordinator.done();\n           const dialog = devtoolsDialog.shadowRoot?.querySelector('dialog');\n           if (!dialog) {\n             assert.fail('Dialog not found');\n             return;\n           }\n           // Test the capped dimensions\n           const dialogLeft = dialog.getBoundingClientRect().left;\n           const containerLeft = container.getBoundingClientRect().left;\n           assert.isAtLeast(dialogLeft, containerLeft);\n         });\n      it('sets the dialog\\'s horizontal position correctly to prevent overlap with DevTools when alinged to the right.',\n         async () => {\n           devtoolsDialog.horizontalAlignment = Dialogs.Dialog.DialogHorizontalAlignment.RIGHT;\n           const containerWidth = container.clientWidth;\n           host.style.left = `${containerWidth + 10}px`;\n\n           await coordinator.done();\n           // Open the dialog and check its position.\n           Helpers.dispatchClickEvent(host);\n           await coordinator.done();\n           const dialog = devtoolsDialog.shadowRoot?.querySelector('dialog');\n           if (!dialog) {\n             assert.fail('Dialog not found');\n             return;\n           }\n           // Test the capped dimensions\n           const dialogRight = dialog.getBoundingClientRect().right;\n           const dialogRightEdgePosition =\n               dialogRight - 2 * Dialogs.Dialog.DIALOG_SIDE_PADDING - Dialogs.Dialog.DIALOG_PADDING_FROM_WINDOW / 2;\n           assert.isAtMost(dialogRightEdgePosition, containerWidth);\n         });\n      it('sets the dialog\\'s horizontal position correctly to prevent overlapping with DevTools on the right when alinged to the center.',\n         async () => {\n           const containerWidth = container.clientWidth;\n           host.style.left = `${containerWidth + 260}px`;\n\n           await coordinator.done();\n           // Open the dialog and check its position.\n           Helpers.dispatchClickEvent(host);\n           await coordinator.done();\n           const dialog = devtoolsDialog.shadowRoot?.querySelector('dialog');\n           if (!dialog) {\n             assert.fail('Dialog not found');\n             return;\n           }\n           // Test the capped dimensions\n           const dialogRight = dialog.getBoundingClientRect().right;\n           const dialogRightEdgePosition =\n               dialogRight - 2 * Dialogs.Dialog.DIALOG_SIDE_PADDING - Dialogs.Dialog.DIALOG_PADDING_FROM_WINDOW / 2;\n\n           assert.isAtMost(dialogRightEdgePosition, containerWidth);\n         });\n      it('sets the dialog\\'s horizontal position correctly to prevent overlapping with DevTools on the left when alinged to the center.',\n         async () => {\n           host.style.left = '-260px';\n\n           await coordinator.done();\n           // Open the dialog and check its position.\n           Helpers.dispatchClickEvent(host);\n           await coordinator.done();\n           const dialog = devtoolsDialog.shadowRoot?.querySelector('dialog');\n           if (!dialog) {\n             assert.fail('Dialog not found');\n             return;\n           }\n           // Test the capped dimensions\n           const containerLeft = container.getBoundingClientRect().left;\n           const dialogLeft = dialog.getBoundingClientRect().left;\n\n           assert.isAtLeast(dialogLeft, containerLeft);\n         });\n    });\n\n    it('updates the dialog client rect automatically when its dimensions change', async function() {\n      host.addEventListener('click', () => dialog.setDialogVisible(true));\n      const dialogContent = document.createElement('div');\n      dialogContent.style.display = 'block';\n      dialogContent.style.minWidth = '10px';\n      dialogContent.style.minHeight = '10px';\n      dialogContent.style.fontSize = '10px';\n      dialogContent.innerText = 'Hello';\n\n      dialog.append(dialogContent);\n      container.appendChild(host);\n      container.appendChild(dialog);\n      Helpers.renderElementIntoDOM(container);\n      await coordinator.done();\n\n      Helpers.dispatchClickEvent(host);\n      await coordinator.done();\n\n      const initialWidth = dialog.getDialogBounds().width;\n      const initialHeight = dialog.getDialogBounds().height;\n\n      // Increase the font size to increase the dialog's dimensions\n      dialogContent.style.fontSize = '200px';\n\n      // Wait for the resize handling to take effect.\n      await new Promise(res => setTimeout(res, 200));\n\n      const finalWidth = dialog.getDialogBounds().width;\n      const finalHeight = dialog.getDialogBounds().height;\n\n      assert.isAbove(finalWidth, initialWidth);\n      assert.isAbove(finalHeight, initialHeight);\n    });\n  });\n\n  describe('closing the dialog with the ESC key', () => {\n    let devtoolsDialog: Dialogs.Dialog.Dialog;\n    beforeEach(async () => {\n      devtoolsDialog = new Dialogs.Dialog.Dialog();\n      const container = document.createElement('div');\n\n      const host = document.createElement('div');\n\n      const content = document.createElement('div');\n      content.innerHTML = 'Hello, World<br/> I am <br/> a Dialog!';\n\n      devtoolsDialog.origin = host;\n\n      host.addEventListener('click', () => devtoolsDialog.setDialogVisible(true));\n      devtoolsDialog.addEventListener('clickoutsidedialog', () => devtoolsDialog.setDialogVisible(false));\n\n      container.appendChild(host);\n      container.appendChild(devtoolsDialog);\n      Helpers.renderElementIntoDOM(container);\n      await coordinator.done();\n      devtoolsDialog.appendChild(content);\n\n      // Open the dialog.\n      Helpers.dispatchClickEvent(host);\n      await coordinator.done();\n    });\n\n    it('closes the dialog by default when the ESC key is pressed', async () => {\n      let dialog = devtoolsDialog.shadowRoot?.querySelector('dialog[open]');\n      if (!dialog) {\n        assert.fail('Dialog not found');\n        return;\n      }\n\n      Helpers.dispatchKeyDownEvent(dialog, {key: Platform.KeyboardUtilities.ESCAPE_KEY, bubbles: true, composed: true});\n      await coordinator.done();\n      dialog = devtoolsDialog.shadowRoot?.querySelector('dialog[open]');\n      if (dialog) {\n        assert.fail('Dialog did not close');\n        return;\n      }\n    });\n\n    it('closes the dialog by default when the ESC key is pressed from document.body', async () => {\n      let dialog = devtoolsDialog.shadowRoot?.querySelector('dialog[open]');\n      if (!dialog) {\n        assert.fail('Dialog not found');\n        return;\n      }\n      Helpers.dispatchKeyDownEvent(\n          document.body, {key: Platform.KeyboardUtilities.ESCAPE_KEY, bubbles: true, composed: true});\n      await coordinator.done();\n      dialog = devtoolsDialog.shadowRoot?.querySelector('dialog[open]');\n      if (dialog) {\n        assert.fail('Dialog did not close');\n        return;\n      }\n    });\n\n    it('closes the dialog by default when the ESC key is pressed anywhere within the devtools bounding element',\n       async () => {\n         let dialog = devtoolsDialog.shadowRoot?.querySelector('dialog[open]');\n         if (!dialog) {\n           assert.fail('Dialog not found');\n           return;\n         }\n\n         const boundingElement = devtoolsDialog.windowBoundsService.getDevToolsBoundingElement();\n         Helpers.dispatchKeyDownEvent(\n             boundingElement, {key: Platform.KeyboardUtilities.ESCAPE_KEY, bubbles: true, composed: true});\n         await coordinator.done();\n         dialog = devtoolsDialog.shadowRoot?.querySelector('dialog[open]');\n         if (dialog) {\n           assert.fail('Dialog did not close');\n           return;\n         }\n       });\n\n    it('does not close the dialog when the ESC key is pressed if the closeOnESC prop is set to false', async () => {\n      let dialog = devtoolsDialog.shadowRoot?.querySelector('dialog[open]');\n      devtoolsDialog.closeOnESC = false;\n      if (!dialog) {\n        assert.fail('Dialog not found');\n        return;\n      }\n\n      Helpers.dispatchKeyDownEvent(dialog, {key: Platform.KeyboardUtilities.ESCAPE_KEY});\n      await coordinator.done();\n      dialog = devtoolsDialog.shadowRoot?.querySelector('dialog[open]');\n      if (!dialog) {\n        assert.fail('Dialog was closed');\n        return;\n      }\n    });\n  });\n});\n"]}