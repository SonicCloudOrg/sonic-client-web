{"version":3,"file":"Menu.js","sourceRoot":"","sources":["../../../../../../../front_end/ui/components/menus/Menu.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2023 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Platform from '../../../core/platform/platform.js';\nimport * as ComponentHelpers from '../../../ui/components/helpers/helpers.js';\nimport * as Coordinator from '../../../ui/components/render_coordinator/render_coordinator.js';\nimport * as LitHtml from '../../../ui/lit-html/lit-html.js';\nimport * as VisualLogging from '../../../ui/visual_logging/visual_logging.js';\nimport * as Dialogs from '../dialogs/dialogs.js';\n\nimport menuStyles from './menu.css.js';\nimport menuGroupStyles from './menuGroup.css.js';\nimport menuItemStyles from './menuItem.css.js';\n\nconst coordinator = Coordinator.RenderCoordinator.RenderCoordinator.instance();\n\nexport interface MenuData {\n  /**\n   * Whether the menu is open.\n   */\n  open: boolean;\n  /**\n   * Determines where the dialog with the menu will show relative to\n   * the menu's origin.\n   * Defaults to Bottom.\n   */\n  position: Dialogs.Dialog.DialogVerticalPosition;\n  /**\n   * Position or point the dialog is shown relative to.\n   */\n  origin: Dialogs.Dialog.DialogOrigin;\n  /**\n   * Determines if a connector from the dialog to it's origin\n   * is shown.\n   * Defaults to false.\n   */\n  showConnector: boolean;\n  /**\n   * Determines if dividing lines between the menu's options\n   * are shown.\n   * Defaults to false.\n   */\n  showDivider: boolean;\n  /**\n   * Determines if the selected item is marked using a checkmark.\n   * Defaults to true.\n   */\n  showSelectedItem: boolean;\n  /**\n   * Determines where the dialog with the menu will show horizontally\n   * relative to the show button.\n   * Defaults to Auto\n   */\n  horizontalAlignment: Dialogs.Dialog.DialogHorizontalAlignment;\n  /**\n   * Optional function used to the determine the x coordinate of the connector's\n   * end (tip of the triangle), relative to the viewport. If not defined, the x\n   * coordinate of the origin's center is used instead.\n   */\n  getConnectorCustomXPosition: (() => number)|null;\n}\n\nconst selectedItemCheckmark = new URL('../../../Images/checkmark.svg', import.meta.url).toString();\n\nexport class Menu extends HTMLElement {\n  static readonly litTagName = LitHtml.literal`devtools-menu`;\n  readonly #shadow = this.attachShadow({mode: 'open'});\n  readonly #renderBound = this.#render.bind(this);\n  #dialog: Dialogs.Dialog.Dialog|null = null;\n  #itemIsFocused = false;\n  #props: MenuData = {\n    origin: null,\n    open: false,\n    position: Dialogs.Dialog.DialogVerticalPosition.AUTO,\n    showConnector: false,\n    showDivider: false,\n    showSelectedItem: true,\n    horizontalAlignment: Dialogs.Dialog.DialogHorizontalAlignment.AUTO,\n    getConnectorCustomXPosition: null,\n  };\n\n  get origin(): Dialogs.Dialog.DialogOrigin {\n    return this.#props.origin;\n  }\n\n  set origin(origin: Dialogs.Dialog.DialogOrigin) {\n    this.#props.origin = origin;\n    void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n  }\n\n  get open(): boolean {\n    return this.#props.open;\n  }\n\n  set open(open: boolean) {\n    if (open === this.open) {\n      return;\n    }\n    this.#props.open = open;\n    this.toggleAttribute('has-open-dialog', this.open);\n    void this.#getDialog().setDialogVisible(this.open);\n    void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n  }\n\n  get position(): Dialogs.Dialog.DialogVerticalPosition {\n    return this.#props.position;\n  }\n\n  set position(position: Dialogs.Dialog.DialogVerticalPosition) {\n    this.#props.position = position;\n    void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n  }\n\n  get showConnector(): boolean {\n    return this.#props.showConnector;\n  }\n\n  set showConnector(showConnector: boolean) {\n    this.#props.showConnector = showConnector;\n    void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n  }\n\n  get showDivider(): boolean {\n    return this.#props.showDivider;\n  }\n\n  set showDivider(showDivider: boolean) {\n    this.#props.showDivider = showDivider;\n    void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n  }\n\n  get showSelectedItem(): boolean {\n    return this.#props.showSelectedItem;\n  }\n\n  set showSelectedItem(showSelectedItem: boolean) {\n    this.#props.showSelectedItem = showSelectedItem;\n    void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n  }\n\n  get horizontalAlignment(): Dialogs.Dialog.DialogHorizontalAlignment {\n    return this.#props.horizontalAlignment;\n  }\n\n  set horizontalAlignment(horizontalAlignment: Dialogs.Dialog.DialogHorizontalAlignment) {\n    this.#props.horizontalAlignment = horizontalAlignment;\n    void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n  }\n\n  get getConnectorCustomXPosition(): (() => number)|null {\n    return this.#props.getConnectorCustomXPosition;\n  }\n\n  set getConnectorCustomXPosition(connectorXPosition: (() => number)|null) {\n    this.#props.getConnectorCustomXPosition = connectorXPosition;\n    void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n  }\n\n  connectedCallback(): void {\n    this.#shadow.adoptedStyleSheets = [menuStyles];\n    void coordinator.write(() => {\n      this.style.setProperty('--selected-item-check', `url(${selectedItemCheckmark})`);\n      this.style.setProperty('--menu-checkmark-width', this.#props.showSelectedItem ? '26px' : '0px');\n      this.style.setProperty('--menu-checkmark-height', this.#props.showSelectedItem ? '12px' : '0px');\n      const dividerLine = this.showDivider ? '1px var(--divider-line) solid' : 'none';\n      this.style.setProperty('--override-divider-line', dividerLine);\n    });\n  }\n\n  #getDialog(): Dialogs.Dialog.Dialog {\n    if (!this.#dialog) {\n      throw new Error('Dialog not found');\n    }\n    return this.#dialog;\n  }\n\n  async #dialogDeployed(): Promise<void> {\n    await coordinator.write(() => {\n      this.setAttribute('has-open-dialog', 'has-open-dialog');\n      // Focus the container so tha twe can capture key events.\n      const container = this.#shadow.querySelector('#container');\n      if (!(container instanceof HTMLElement)) {\n        return;\n      }\n      container.focus();\n    });\n  }\n\n  #focusFirstItem(): void {\n    this.#getFirstItem().focus();\n  }\n\n  #getFirstItem(): HTMLElement {\n    const defaultSlot = this.#shadow.querySelector('slot') as HTMLSlotElement;\n    const items = defaultSlot?.assignedElements();\n    let firstItem = items[0];\n    if (firstItem instanceof HTMLSlotElement) {\n      firstItem = firstItem?.assignedElements()[0];\n    }\n    if (firstItem instanceof MenuGroup) {\n      const groupDefaultSlot = firstItem.shadowRoot?.querySelector('slot') as HTMLSlotElement;\n      firstItem = groupDefaultSlot?.assignedElements()[0];\n    }\n    if (firstItem instanceof HTMLElement) {\n      return firstItem;\n    }\n    throw new Error('First item not found');\n  }\n\n  #handleItemClick(evt: MouseEvent): void {\n    const path = evt.composedPath();\n    evt.stopPropagation();\n\n    // If the clicked item is an input element, do not follow the default behaviour.\n    if (path.find(element => element instanceof HTMLInputElement)) {\n      return;\n    }\n    const item = evt.composedPath().find(element => element instanceof MenuItem);\n    // Compare against MenuItem again to narrow the item's type.\n    if (!(item instanceof MenuItem)) {\n      return;\n    }\n    this.#updateSelectedValue(item);\n  }\n\n  #handleDialogKeyDown(evt: KeyboardEvent): void {\n    const key = evt.key;\n    evt.stopImmediatePropagation();\n    let item: EventTarget|null|undefined = evt.target;\n    const path = evt.composedPath();\n    const shouldFocusFirstItem =\n        key === Platform.KeyboardUtilities.ArrowKey.DOWN || key === Platform.KeyboardUtilities.ArrowKey.RIGHT;\n    if (!this.#itemIsFocused && shouldFocusFirstItem) {\n      this.#focusFirstItem();\n      this.#itemIsFocused = true;\n      return;\n    }\n    if (!this.#itemIsFocused && key === Platform.KeyboardUtilities.ArrowKey.UP) {\n      this.#focusLastItem();\n      this.#itemIsFocused = true;\n      return;\n    }\n    // The focused item could be nested inside the MenuItem, hence\n    // find the MenuItem item inside the event's composed path.\n    if (!(item instanceof MenuItem)) {\n      item = path.find(element => element instanceof MenuItem);\n\n      // Compare against MenuItem again to narrow the item's type.\n      if (!(item instanceof MenuItem)) {\n        return;\n      }\n    }\n    if (Platform.KeyboardUtilities.keyIsArrowKey(key)) {\n      this.#handleArrowKeyNavigation(key, item);\n    } else if (key === 'Home') {\n      this.#handleHomeKeyDown(item);\n    } else if (key === 'End') {\n      this.#focusLastItem();\n    } else if (key === 'Enter' || evt.code === 'Space') {\n      this.#updateSelectedValue(item);\n    } else if (key === 'Escape') {\n      evt.preventDefault();\n      this.#closeDialog();\n    }\n  }\n\n  #updateSelectedValue(item: MenuItem): void {\n    if (item.value === '') {\n      return;\n    }\n    this.dispatchEvent(new MenuItemSelectedEvent(item.value));\n    if (item.preventMenuCloseOnSelection) {\n      return;\n    }\n    this.#closeDialog();\n  }\n\n  #handleArrowKeyNavigation(key: Platform.KeyboardUtilities.ArrowKey, currentItem: MenuItem): void {\n    let nextSibling: Element|null = currentItem;\n    if (key === Platform.KeyboardUtilities.ArrowKey.DOWN) {\n      nextSibling = currentItem.nextElementSibling;\n      // Handle last item in a group and navigating down:\n      if (nextSibling === null && currentItem.parentElement instanceof MenuGroup) {\n        nextSibling = this.#firstItemInNextGroup(currentItem);\n      }\n    } else if (key === Platform.KeyboardUtilities.ArrowKey.UP) {\n      nextSibling = currentItem.previousElementSibling;\n      // Handle first item in a group and navigating up:\n      if (nextSibling === null && currentItem.parentElement instanceof MenuGroup) {\n        nextSibling = this.#lastItemInPreviousGroup(currentItem);\n      }\n    }\n    if (nextSibling instanceof MenuItem) {\n      nextSibling.focus();\n    }\n  }\n  #firstItemInNextGroup(currentItem: MenuItem): MenuItem|null {\n    const parentElement = currentItem.parentElement;\n    if (!(parentElement instanceof MenuGroup)) {\n      return null;\n    }\n    const parentNextSibling = parentElement.nextElementSibling;\n    if (parentNextSibling instanceof MenuItem) {\n      return parentNextSibling;\n    }\n    if (!(parentNextSibling instanceof MenuGroup)) {\n      return null;\n    }\n    for (const child of parentNextSibling.children) {\n      if (child instanceof MenuItem) {\n        return child;\n      }\n    }\n    return null;\n  }\n\n  #lastItemInPreviousGroup(currentItem: MenuItem): MenuItem|null {\n    const parentElement = currentItem.parentElement;\n    if (!(parentElement instanceof MenuGroup)) {\n      return null;\n    }\n    const parentPreviousSibling = parentElement.previousElementSibling;\n    if (parentPreviousSibling instanceof MenuItem) {\n      return parentPreviousSibling;\n    }\n    if (!(parentPreviousSibling instanceof MenuGroup)) {\n      return null;\n    }\n    if (parentPreviousSibling.lastElementChild instanceof MenuItem) {\n      return parentPreviousSibling.lastElementChild;\n    }\n    return null;\n  }\n\n  #handleHomeKeyDown(currentItem: MenuItem): void {\n    let topMenuPart: Element|null = currentItem;\n    if (currentItem.parentElement instanceof MenuGroup) {\n      topMenuPart = currentItem.parentElement;\n    }\n    while (topMenuPart?.previousElementSibling) {\n      topMenuPart = topMenuPart?.previousElementSibling;\n    }\n    if (topMenuPart instanceof MenuItem) {\n      topMenuPart.focus();\n      return;\n    }\n    for (const child of topMenuPart.children) {\n      if (child instanceof MenuItem) {\n        child.focus();\n        return;\n      }\n    }\n  }\n\n  #focusLastItem(): void {\n    const currentItem = this.#getFirstItem();\n    let lastMenuPart: Element|null = currentItem;\n    if (currentItem.parentElement instanceof MenuGroup) {\n      lastMenuPart = currentItem.parentElement;\n    }\n    while (lastMenuPart?.nextElementSibling) {\n      lastMenuPart = lastMenuPart?.nextElementSibling;\n    }\n    if (lastMenuPart instanceof MenuItem) {\n      lastMenuPart.focus();\n      return;\n    }\n    if (lastMenuPart instanceof MenuGroup && lastMenuPart.lastElementChild instanceof MenuItem) {\n      lastMenuPart.lastElementChild.focus();\n    }\n  }\n\n  #closeDialog(evt?: Dialogs.Dialog.ClickOutsideDialogEvent): void {\n    if (evt) {\n      evt.stopImmediatePropagation();\n    }\n    this.dispatchEvent(new MenuCloseRequest());\n    void this.#getDialog().setDialogVisible(false);\n    this.#itemIsFocused = false;\n  }\n\n  async #render(): Promise<void> {\n    if (!ComponentHelpers.ScheduledRender.isScheduledRender(this)) {\n      throw new Error('Menu render was not scheduled');\n    }\n    // clang-format off\n    LitHtml.render(LitHtml.html`\n      <${Dialogs.Dialog.Dialog.litTagName}\n        @clickoutsidedialog=${this.#closeDialog}\n        @forceddialogclose=${this.#closeDialog}\n        .position=${this.position}\n        .showConnector=${this.showConnector}\n        .origin=${this.origin}\n        .dialogShownCallback=${this.#dialogDeployed.bind(this)}\n        .horizontalAlignment=${this.horizontalAlignment}\n        .getConnectorCustomXPosition=${this.getConnectorCustomXPosition}\n        on-render=${ComponentHelpers.Directives.nodeRenderedCallback((domNode: Element) => {\n          this.#dialog = domNode as Dialogs.Dialog.Dialog;\n        })}\n        >\n        <span id=\"container\" role=\"menu\" tabIndex=\"0\" @keydown=${this.#handleDialogKeyDown} jslog=${VisualLogging.menu().track({resize: true, keydown: 'Escape'})}>\n          <slot @click=${this.#handleItemClick}>\n          </slot>\n        </span>\n      </${Dialogs.Dialog.Dialog.litTagName}>\n    `, this.#shadow, { host: this });\n    // clang-format on\n  }\n}\n\ninterface MenuItemData {\n  /**\n   * If true, selecting the item (by clicking it or pressing enter when its focused)\n   * would not cause the menu to be closed.\n   * Defaults to false.\n   */\n  preventMenuCloseOnSelection: boolean;\n  /**\n   * The value associated with this item. It is used to determine what item is selected\n   * and is the data sent in a MenuItemSelectedEvent, when an item is selected.\n   */\n  value: MenuItemValue;\n  /**\n   * Whether the item is selected.\n   */\n  selected: boolean;\n}\n\nexport class MenuItem extends HTMLElement {\n  static readonly litTagName = LitHtml.literal`devtools-menu-item`;\n  readonly #shadow = this.attachShadow({mode: 'open'});\n  readonly #renderBound = this.#render.bind(this);\n  connectedCallback(): void {\n    this.#shadow.adoptedStyleSheets = [menuItemStyles];\n    this.tabIndex = 0;\n    this.setAttribute('role', 'menuitem');\n  }\n  #props: MenuItemData = {\n    value: '',\n    preventMenuCloseOnSelection: false,\n    selected: false,\n  };\n\n  get preventMenuCloseOnSelection(): boolean {\n    return this.#props.preventMenuCloseOnSelection;\n  }\n\n  set preventMenuCloseOnSelection(preventMenuCloseOnSelection: boolean) {\n    this.#props.preventMenuCloseOnSelection = preventMenuCloseOnSelection;\n    void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n  }\n\n  get value(): MenuItemValue {\n    return this.#props.value;\n  }\n\n  set value(value: MenuItemValue) {\n    this.#props.value = value;\n    void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n  }\n\n  get selected(): boolean {\n    return this.#props.selected;\n  }\n\n  set selected(selected: boolean) {\n    this.#props.selected = selected;\n    void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n  }\n\n  async #render(): Promise<void> {\n    if (!ComponentHelpers.ScheduledRender.isScheduledRender(this)) {\n      throw new Error('MenuItem render was not scheduled');\n    }\n    // clang-format off\n\n    LitHtml.render(LitHtml.html`\n      <span class=${LitHtml.Directives.classMap({\n        'menu-item': true,\n        'is-selected-item': this.selected,\n        'prevents-close': this.preventMenuCloseOnSelection,\n      })}\n      >\n        <slot></slot>\n      </span>\n    `, this.#shadow, { host: this });\n    // clang-format on\n  }\n}\n\ninterface MenuGroupData {\n  name: string|null;\n}\n\nexport class MenuGroup extends HTMLElement {\n  static readonly litTagName = LitHtml.literal`devtools-menu-group`;\n  readonly #shadow = this.attachShadow({mode: 'open'});\n  readonly #renderBound = this.#render.bind(this);\n  connectedCallback(): void {\n    this.#shadow.adoptedStyleSheets = [menuGroupStyles];\n  }\n\n  #props: MenuGroupData = {\n    name: null,\n  };\n\n  get name(): string|null {\n    return this.#props.name;\n  }\n\n  set name(name: string|null) {\n    this.#props.name = name;\n    void ComponentHelpers.ScheduledRender.scheduleRender(this, this.#renderBound);\n  }\n\n  async #render(): Promise<void> {\n    if (!ComponentHelpers.ScheduledRender.isScheduledRender(this)) {\n      throw new Error('MenuGroup render was not scheduled');\n    }\n    // clang-format off\n    LitHtml.render(LitHtml.html`\n      <span class=\"menu-group\">\n        <span class=\"menu-group-label\">${this.name}</span>\n        <slot></slot>\n      </span>\n    `, this.#shadow, { host: this });\n    // clang-format on\n  }\n}\n\ncustomElements.define('devtools-menu', Menu);\ncustomElements.define('devtools-menu-item', MenuItem);\ncustomElements.define('devtools-menu-group', MenuGroup);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'devtools-menu': Menu;\n    'devtools-menu-item': MenuItem;\n    'devtools-menu-group': MenuGroup;\n  }\n\n  interface HTMLElementEventMap {\n    [MenuItemSelectedEvent.eventName]: MenuItemSelectedEvent;\n    [MenuCloseRequest.eventName]: MenuCloseRequest;\n  }\n}\n\nexport class MenuItemSelectedEvent extends Event {\n  static readonly eventName = 'menuitemselected';\n\n  constructor(public itemValue: MenuItemValue) {\n    super(MenuItemSelectedEvent.eventName, {bubbles: true, composed: true});\n  }\n}\nexport class MenuCloseRequest extends Event {\n  static readonly eventName = 'menucloserequest';\n  constructor() {\n    super(MenuCloseRequest.eventName, {bubbles: true, composed: true});\n  }\n}\n\nexport type MenuItemValue = string|number|boolean;\n"]}