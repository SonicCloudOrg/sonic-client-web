{"version":3,"file":"SelectMenu.test.js","sourceRoot":"","sources":["../../../../../../../front_end/ui/components/menus/SelectMenu.test.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2023 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Helpers from '../../../testing/DOMHelpers.js';  // eslint-disable-line rulesdir/es_modules_import\nimport {\n  describeWithLocale,\n} from '../../../testing/EnvironmentHelpers.js';\nimport * as LitHtml from '../../lit-html/lit-html.js';\nimport * as Dialogs from '../dialogs/dialogs.js';\nimport * as Coordinator from '../render_coordinator/render_coordinator.js';\n\nimport * as Menus from './menus.js';\n\nconst coordinator = Coordinator.RenderCoordinator.RenderCoordinator.instance();\n\nasync function createMenu(): Promise<Menus.SelectMenu.SelectMenu> {\n  const menuItems = [\n    {\n      name: 'Option 1',\n      value: '1',\n      group: '',\n    },\n    {\n      name: 'Option 2',\n      value: '2',\n      group: '',\n    },\n    {\n      name: 'Option 3',\n      value: '3',\n      group: '',\n    },\n    {\n      name: 'Option 4',\n      value: '4',\n      group: '',\n    },\n  ];\n\n  const menu = new Menus.SelectMenu.SelectMenu();\n  menu.position = Dialogs.Dialog.DialogVerticalPosition.BOTTOM;\n  menuItems.forEach(item => {\n    const selectMenuItem = new Menus.Menu.MenuItem();\n    selectMenuItem.value = item.value;\n    selectMenuItem.textContent = item.name;\n    menu.appendChild(selectMenuItem);\n  });\n\n  await coordinator.done();\n  return menu;\n}\n\ndescribeWithLocale('SelectMenu', () => {\n  it('will use the buttonTitle property if that is provided', async () => {\n    const menu = await createMenu();\n    const firsItem = menu.querySelector('devtools-menu-item');\n    if (!firsItem) {\n      assert.fail('No item was found.');\n      return;\n    }\n    menu.buttonTitle = 'Override Title';\n    Helpers.renderElementIntoDOM(menu);\n    await coordinator.done();\n    assert.isNotNull(menu.shadowRoot);\n    const button = menu.shadowRoot.querySelector('devtools-select-menu-button');\n    if (!button) {\n      assert.fail('devtools-select-menu-button not found');\n      return;\n    }\n    assert.instanceOf(button, HTMLElement);\n    assert.strictEqual(button.innerText, 'Override Title');\n  });\n\n  it('allows the buttonTitle to be a function', async () => {\n    const menu = await createMenu();\n    const firsItem = menu.querySelector('devtools-menu-item');\n    if (!firsItem) {\n      assert.fail('No item was found.');\n      return;\n    }\n    firsItem.selected = true;\n    menu.buttonTitle = () => LitHtml.html`Override Title`;\n    Helpers.renderElementIntoDOM(menu);\n    await coordinator.done();\n    assert.isNotNull(menu.shadowRoot);\n    const button = menu.shadowRoot.querySelector('devtools-select-menu-button');\n    if (!button) {\n      assert.fail('devtools-select-menu-button not found');\n      return;\n    }\n    assert.instanceOf(button, HTMLElement);\n    assert.strictEqual(button.innerText, 'Override Title');\n  });\n\n  it('can render multiple options as selected at once', async () => {\n    const selectMenu = await createMenu();\n    Helpers.renderElementIntoDOM(selectMenu);\n    [...selectMenu.querySelectorAll('devtools-menu-item')][0].selected = true;\n    [...selectMenu.querySelectorAll('devtools-menu-item')][1].selected = true;\n    assert.isNotNull(selectMenu.shadowRoot);\n    const devtoolsMenu = selectMenu.shadowRoot.querySelector('devtools-menu');\n    const devtoolsDialog = devtoolsMenu?.shadowRoot?.querySelector('devtools-dialog');\n    await devtoolsDialog?.setDialogVisible(true);\n    const selectedItems = [...selectMenu.querySelectorAll('devtools-menu-item')].filter(item => item.selected);\n    assert.deepEqual(selectedItems.map(item => item.innerText), ['Option 1', 'Option 2']);\n  });\n});\n"]}