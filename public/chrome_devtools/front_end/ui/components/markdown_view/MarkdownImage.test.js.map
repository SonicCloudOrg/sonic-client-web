{"version":3,"file":"MarkdownImage.test.js","sourceRoot":"","sources":["../../../../../../../front_end/ui/components/markdown_view/MarkdownImage.test.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport {\n  getElementWithinComponent,\n  renderElementIntoDOM,\n} from '../../../testing/DOMHelpers.js';\nimport * as IconButton from '../icon_button/icon_button.js';\nimport * as Coordinator from '../render_coordinator/render_coordinator.js';\n\nimport * as MarkdownView from './markdown_view.js';\n\nconst coordinator = Coordinator.RenderCoordinator.RenderCoordinator.instance();\n\ndescribe('MarkdownImage', () => {\n  const imageSource = 'Images/lighthouse_logo.svg';\n  before(async () => {\n    MarkdownView.MarkdownImagesMap.markdownImages.set('test-icon', {\n      src: new URL('../../../Images/review.svg', import.meta.url).toString(),\n      width: '20px',\n      height: '20px',\n      isIcon: true,\n    });\n    MarkdownView.MarkdownImagesMap.markdownImages.set('test-image', {\n      src: new URL(`../../../${imageSource}`, import.meta.url).toString(),\n      width: '100px',\n      height: '100px',\n      isIcon: false,\n    });\n  });\n  it('renders icon correctly', async () => {\n    const component = new MarkdownView.MarkdownImage.MarkdownImage();\n    component.data = {key: 'test-icon', title: 'Test icon'};\n    renderElementIntoDOM(component);\n    await coordinator.done();\n    assert.isNotNull(component.shadowRoot);\n    const iconComponent = getElementWithinComponent(component, 'devtools-icon', IconButton.Icon.Icon);\n    assert.isNotNull(iconComponent);\n    const boundingClient = iconComponent.getBoundingClientRect();\n    assert.strictEqual(boundingClient.width, 20);\n    assert.strictEqual(boundingClient.height, 20);\n  });\n  it('renders image correctly', () => {\n    const component = new MarkdownView.MarkdownImage.MarkdownImage();\n    const markdownImageTitle = 'Test image';\n    const markdownImageKey = 'test-image';\n    component.data = {key: markdownImageKey, title: markdownImageTitle};\n    renderElementIntoDOM(component);\n    assert.isNotNull(component.shadowRoot);\n    const imageComponent = getElementWithinComponent(component, 'img', HTMLImageElement);\n    assert.isNotNull(imageComponent);\n    assert.include(imageComponent.src, imageSource);\n    assert.strictEqual(imageComponent.alt, markdownImageTitle);\n    assert.strictEqual(imageComponent.width, 100);\n    assert.strictEqual(imageComponent.height, 100);\n  });\n});\n"]}