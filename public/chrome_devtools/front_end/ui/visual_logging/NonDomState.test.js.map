{"version":3,"file":"NonDomState.test.js","sourceRoot":"","sources":["../../../../../../front_end/ui/visual_logging/NonDomState.test.ts"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,KAAK,aAAa,MAAM,6BAA6B,CAAC;AAE7D,QAAQ,CAAC,aAAa,EAAE,GAAG,EAAE;IAC3B,EAAE,CAAC,8CAA8C,EAAE,GAAG,EAAE;QACtD,MAAM,MAAM,GAAG,EAAE,CAAC;QAClB,MAAM,KAAK,GAAG,EAAE,CAAC;QACjB,aAAa,CAAC,WAAW,CAAC,gBAAgB,CAAC,MAAM,EAAE,EAAC,EAAE,EAAE,CAAC,EAAE,OAAO,EAAE,GAAG,EAAC,CAAC,CAAC;QAC1E,aAAa,CAAC,WAAW,CAAC,gBAAgB,CAAC,KAAK,EAAE,EAAC,EAAE,EAAE,CAAC,EAAE,OAAO,EAAE,GAAG,EAAC,EAAE,MAAM,CAAC,CAAC;QAEjF,MAAM,CAAC,eAAe,CAAC,aAAa,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC,SAAS,EAAE;YAC3E,EAAC,QAAQ,EAAE,MAAM,EAAE,MAAM,EAAE,EAAC,EAAE,EAAE,CAAC,EAAE,OAAO,EAAE,GAAG,EAAC,EAAE,MAAM,EAAE,SAAS,EAAC;YACpE,EAAC,QAAQ,EAAE,KAAK,EAAE,MAAM,EAAE,EAAC,EAAE,EAAE,CAAC,EAAE,OAAO,EAAE,GAAG,EAAC,EAAE,MAAM,EAAE,MAAM,EAAC;SACjE,CAAC,CAAC;QAEH,aAAa,CAAC,WAAW,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;QAEpD,MAAM,CAAC,eAAe,CAAC,aAAa,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC,SAAS,EAAE;YAC3E,EAAC,QAAQ,EAAE,MAAM,EAAE,MAAM,EAAE,EAAC,EAAE,EAAE,CAAC,EAAE,OAAO,EAAE,GAAG,EAAC,EAAE,MAAM,EAAE,SAAS,EAAC;SACrE,CAAC,CAAC;QACH,aAAa,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;IACvD,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,2CAA2C,EAAE,GAAG,EAAE;QACnD,MAAM,QAAQ,GAAG,EAAE,CAAC;QACpB,aAAa,CAAC,WAAW,CAAC,gBAAgB,CAAC,QAAQ,EAAE,EAAC,EAAE,EAAE,CAAC,EAAE,OAAO,EAAE,GAAG,EAAC,CAAC,CAAC;QAE5E,MAAM,SAAS,GAAG,aAAa,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC,SAAS,CAAC;QACvE,SAAS,CAAC,GAAG,EAAE,CAAC;QAEhB,MAAM,CAAC,eAAe,CAAC,aAAa,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC,SAAS,EAAE;YAC3E,EAAC,QAAQ,EAAE,QAAQ,EAAE,MAAM,EAAE,EAAC,EAAE,EAAE,CAAC,EAAE,OAAO,EAAE,GAAG,EAAC,EAAE,MAAM,EAAE,SAAS,EAAC;SACvE,CAAC,CAAC;QACH,aAAa,CAAC,WAAW,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC;IACzD,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["// Copyright 2023 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as VisualLogging from './visual_logging-testing.js';\n\ndescribe('NonDomState', () => {\n  it('registers, unregisters and returns loggables', () => {\n    const parent = {};\n    const child = {};\n    VisualLogging.NonDomState.registerLoggable(parent, {ve: 1, context: '1'});\n    VisualLogging.NonDomState.registerLoggable(child, {ve: 1, context: '2'}, parent);\n\n    assert.sameDeepMembers(VisualLogging.NonDomState.getNonDomState().loggables, [\n      {loggable: parent, config: {ve: 1, context: '1'}, parent: undefined},\n      {loggable: child, config: {ve: 1, context: '2'}, parent: parent},\n    ]);\n\n    VisualLogging.NonDomState.unregisterLoggable(child);\n\n    assert.sameDeepMembers(VisualLogging.NonDomState.getNonDomState().loggables, [\n      {loggable: parent, config: {ve: 1, context: '1'}, parent: undefined},\n    ]);\n    VisualLogging.NonDomState.unregisterLoggable(parent);\n  });\n\n  it('prevents external changes to the registry', () => {\n    const loggable = {};\n    VisualLogging.NonDomState.registerLoggable(loggable, {ve: 1, context: '1'});\n\n    const loggables = VisualLogging.NonDomState.getNonDomState().loggables;\n    loggables.pop();\n\n    assert.sameDeepMembers(VisualLogging.NonDomState.getNonDomState().loggables, [\n      {loggable: loggable, config: {ve: 1, context: '1'}, parent: undefined},\n    ]);\n    VisualLogging.NonDomState.unregisterLoggable(loggable);\n  });\n});\n"]}