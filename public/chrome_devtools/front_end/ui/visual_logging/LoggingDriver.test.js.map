{"version":3,"file":"LoggingDriver.test.js","sourceRoot":"","sources":["../../../../../../front_end/ui/visual_logging/LoggingDriver.test.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2023 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport {renderElementIntoDOM} from '../../testing/DOMHelpers.js';\nimport {expectCall, expectCalled} from '../../testing/ExpectStubCall.js';\nimport {getVeId} from '../../testing/VisualLoggingHelpers.js';\n\nimport * as VisualLoggingTesting from './visual_logging-testing.js';\n\ndescribe('LoggingDriver', () => {\n  let recordImpression: sinon.SinonStub;\n  let throttler: Common.Throttler.Throttler;\n  let throttle: sinon.SinonStub;\n  let onerror: OnErrorEventHandler;\n\n  before(() => {\n    onerror = window.onerror;\n    window.onerror = (message, url, lineNumber, column, error) => {\n      if (message !== 'ResizeObserver loop completed with undelivered notifications.' && onerror) {\n        onerror.apply(window, [message, url, lineNumber, column, error]);\n      }\n    };\n  });\n\n  after(() => {\n    window.onerror = onerror;\n  });\n\n  beforeEach(() => {\n    throttler = new Common.Throttler.Throttler(1000000000);\n    throttle = sinon.stub(throttler, 'schedule');\n    recordImpression = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordImpression',\n    );\n  });\n\n  afterEach(() => {\n    VisualLoggingTesting.LoggingDriver.stopLogging();\n  });\n\n  function addLoggableElements() {\n    const parent = document.createElement('div') as HTMLElement;\n    parent.id = 'parent';\n    parent.setAttribute('jslog', 'TreeItem; track: hover');\n    parent.style.width = '300px';\n    parent.style.height = '300px';\n    const element = document.createElement('div') as HTMLElement;\n    element.id = 'element';\n    element.setAttribute('jslog', 'TreeItem; context:42; track: click, keydown, hover, drag, resize, change');\n    element.style.width = '300px';\n    element.style.height = '300px';\n    parent.appendChild(element);\n    renderElementIntoDOM(parent);\n  }\n\n  it('logs impressions on startLogging', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging();\n    assert.isTrue(recordImpression.calledOnce);\n    assert.sameDeepMembers(recordImpression.firstCall.firstArg.impressions, [\n      {id: getVeId('#element'), type: 1, context: 42, parent: getVeId('#parent'), width: 300, height: 300},\n      {id: getVeId('#parent'), type: 1, width: 300, height: 300},\n    ]);\n  });\n\n  async function assertImpressionRecordedDeferred() {\n    const [work] = await expectCalled(throttle);\n    assert.isFalse(recordImpression.called);\n\n    await work();\n    assert.isTrue(recordImpression.called);\n  }\n\n  it('does not log impressions when hidden', async () => {\n    addLoggableElements();\n    sinon.stub(document, 'hidden').value(true);\n    await VisualLoggingTesting.LoggingDriver.startLogging({processingThrottler: throttler});\n    assert.isFalse(recordImpression.called);\n  });\n\n  it('logs impressions when visibility changes', async () => {\n    let hidden = true;\n    addLoggableElements();\n    sinon.stub(document, 'hidden').get(() => hidden);\n    await VisualLoggingTesting.LoggingDriver.startLogging({processingThrottler: throttler});\n\n    hidden = false;\n    const event = document.createEvent('Event');\n    event.initEvent('visibilitychange', true, true);\n    document.dispatchEvent(event);\n\n    await assertImpressionRecordedDeferred();\n  });\n\n  it('logs impressions on scroll', async () => {\n    addLoggableElements();\n    const parent = document.getElementById('parent') as HTMLElement;\n    parent.style.marginTop = '2000px';\n    await VisualLoggingTesting.LoggingDriver.startLogging({processingThrottler: throttler});\n\n    const scrollend = sinon.stub();\n    window.addEventListener('scrollend', scrollend);\n    window.scrollTo({\n      top: 2000,\n      left: 0,\n      behavior: 'instant',\n    });\n    await expectCalled(scrollend);\n    await assertImpressionRecordedDeferred();\n\n    scrollend.resetHistory();\n    window.scrollTo({\n      top: 0,\n      left: 0,\n      behavior: 'instant',\n    });\n    await expectCalled(scrollend);\n  });\n\n  it('logs impressions on mutation', async () => {\n    await VisualLoggingTesting.LoggingDriver.startLogging({processingThrottler: throttler});\n    addLoggableElements();\n    await assertImpressionRecordedDeferred();\n  });\n\n  it('logs impressions on mutation in shadow DOM', async () => {\n    const parent = document.createElement('div') as HTMLElement;\n    renderElementIntoDOM(parent);\n    const shadow = parent.attachShadow({mode: 'open'});\n    const shadowContent = document.createElement('div');\n    shadow.appendChild(shadowContent);\n\n    await VisualLoggingTesting.LoggingDriver.startLogging({processingThrottler: throttler});\n    shadowContent.innerHTML = '<div jslog=\"TreeItem\" style=\"width:300px;height:300px\"></div>';\n    await assertImpressionRecordedDeferred();\n  });\n\n  it('logs impressions on mutation in additional document', async () => {\n    const iframe = document.createElement('iframe') as HTMLIFrameElement;\n    renderElementIntoDOM(iframe);\n\n    await VisualLoggingTesting.LoggingDriver.startLogging({processingThrottler: throttler});\n    const iframeDocument = iframe.contentDocument;\n    assert.exists(iframeDocument);\n    await VisualLoggingTesting.LoggingDriver.addDocument(iframeDocument);\n    iframeDocument.body.innerHTML = '<div jslog=\"TreeItem\" style=\"width:300px;height:300px\"></div>';\n    await assertImpressionRecordedDeferred();\n  });\n\n  it('correctly determines visibility in additional document', async () => {\n    const iframe = document.createElement('iframe') as HTMLIFrameElement;\n    renderElementIntoDOM(iframe);\n    iframe.style.width = '100px';\n    iframe.style.height = '100px';\n    iframe.width = '100';\n    iframe.height = '100';\n    const iframeDocument = iframe.contentDocument;\n    assert.exists(iframeDocument);\n    iframeDocument.body.innerHTML =  // Second div should not be out of viewport and not logged\n        `<div style=\"width:150px;height:150px\"></div>\n         <div jslog=\"TreeItem\" style=\"width:150px;height:150px\"></div>`;\n\n    await VisualLoggingTesting.LoggingDriver.startLogging({processingThrottler: throttler});\n    await VisualLoggingTesting.LoggingDriver.addDocument(iframeDocument);\n    assert.isFalse(recordImpression.called);\n  });\n\n  it('hashes a string context', async () => {\n    const element = document.createElement('div') as HTMLElement;\n    element.setAttribute('jslog', 'TreeItem; track: hover; context: foobar');\n    element.style.width = '300px';\n    element.style.height = '300px';\n    renderElementIntoDOM(element);\n\n    await VisualLoggingTesting.LoggingDriver.startLogging();\n    assert.isTrue(recordImpression.calledOnce);\n    assert.strictEqual(recordImpression.firstCall.firstArg.impressions[0]?.context, -103332984);\n  });\n\n  it('logs clicks', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging();\n    const recordClick = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordClick',\n    );\n\n    const element = document.getElementById('element') as HTMLElement;\n    element.click();\n\n    await expectCalled(recordClick);\n  });\n\n  it('logs right clicks', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging();\n    const recordClick = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordClick',\n    );\n\n    const element = document.getElementById('element') as HTMLElement;\n    element.dispatchEvent(new MouseEvent('contextmenu'));\n\n    await expectCalled(recordClick);\n  });\n\n  it('logs middle clicks', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging();\n    const recordClick = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordClick',\n    );\n\n    const element = document.getElementById('element') as HTMLElement;\n    element.dispatchEvent(new MouseEvent('auxclick'));\n\n    await expectCalled(recordClick);\n  });\n\n  it('does not log clicks if not configured', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging();\n    const recordClick = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordClick',\n    );\n\n    const parent = document.getElementById('parent') as HTMLElement;\n    parent.click();\n\n    await new Promise(resolve => setTimeout(resolve, 0));\n    assert.isFalse(recordClick.called);\n  });\n\n  it('does not log click on double click', async () => {\n    addLoggableElements();\n    const element = document.getElementById('element') as HTMLElement;\n    element.setAttribute('jslog', 'TreeItem; context:42; track: click, dblclick');\n    await VisualLoggingTesting.LoggingDriver.startLogging({clickLogThrottler: throttler});\n    const recordClick = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordClick',\n    );\n\n    element.dispatchEvent(new MouseEvent('click'));\n    element.dispatchEvent(new MouseEvent('dblclick'));\n    const [logging] = await expectCalled(throttle);\n    assert.isTrue(throttle.calledTwice);\n    assert.isFalse(recordClick.called);\n\n    await logging();\n    assert.isTrue(recordClick.calledOnce);\n    assert.isTrue(recordClick.firstCall.firstArg.doubleClick);\n  });\n\n  it('does not log click on parent when clicked on child', async () => {\n    addLoggableElements();\n    const parent = document.getElementById('parent') as HTMLElement;\n    parent.setAttribute('jslog', 'TreeItem; track: click');\n    await VisualLoggingTesting.LoggingDriver.startLogging({clickLogThrottler: throttler});\n    const recordClick = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordClick',\n    );\n\n    const element = document.getElementById('element') as HTMLElement;\n    element.click();\n    const [logging] = await expectCalled(throttle);\n    assert.isFalse(recordClick.called);\n\n    await logging();\n    assert.isTrue(recordClick.calledOnce);\n    assert.strictEqual(recordClick.firstCall.firstArg.veid, getVeId(element));\n  });\n\n  const logsSelectOptions = (event: Event) => async () => {\n    const parent = document.createElement('div') as HTMLElement;\n    parent.innerHTML = `\n      <select jslog=\"TreeItem; context: 0\" id=\"select\" style=\"width: 30px; height: 20px\">\n        <option jslog=\"TreeItem; context: 1\">1</option>\n        <option jslog=\"TreeItem; context: 2\">2</option>\n      </select>`;\n    renderElementIntoDOM(parent);\n    const select = document.getElementById('select')!;\n    const recordClick = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordClick',\n    );\n\n    await VisualLoggingTesting.LoggingDriver.startLogging(\n        {processingThrottler: throttler, clickLogThrottler: throttler});\n\n    assert.isTrue(recordImpression.calledOnce);\n    const impressions = recordImpression.firstCall.firstArg.impressions;\n    assert.sameDeepMembers(impressions, [\n      {id: getVeId(select), type: 1, width: 30, height: 20, context: 0},\n    ]);\n\n    recordImpression.resetHistory();\n\n    throttle.callsArg(0);\n    select.dispatchEvent(event);\n\n    await expectCalled(recordClick);\n    assert.isTrue(recordClick.calledOnce);\n    assert.strictEqual(recordClick.firstCall.firstArg.veid, getVeId(select));\n\n    await expectCalled(recordImpression);\n    assert.isTrue(recordImpression.calledOnce);\n    assert.sameDeepMembers(recordImpression.firstCall.firstArg.impressions, [\n      {id: getVeId('option:first-child'), type: 1, parent: getVeId(select), context: 1, width: 0, height: 0},\n      {id: getVeId('option:last-child'), type: 1, parent: getVeId(select), context: 2, width: 0, height: 0},\n    ]);\n  };\n\n  it('logs impressions on select options on click', logsSelectOptions(new MouseEvent('click')));\n  it('logs impressions on select options on space press', logsSelectOptions(new KeyboardEvent('keypress', {key: ' '})));\n  it('logs impressions on select options on F4', logsSelectOptions(new KeyboardEvent('keydown', {code: 'F4'})));\n\n  it('logs option click on select change', async () => {\n    const parent = document.createElement('div') as HTMLElement;\n    parent.innerHTML = `\n      <select jslog=\"TreeItem; context: 0\" id=\"select\">\n        <option jslog=\"TreeItem; context: 1; track: click\">1</option>\n        <option jslog=\"TreeItem; context: 2; track: click\">2</option>\n      </select>`;\n    renderElementIntoDOM(parent);\n\n    await VisualLoggingTesting.LoggingDriver.startLogging({clickLogThrottler: throttler});\n    const recordClick = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordClick',\n    );\n\n    const select = document.getElementById('select') as HTMLSelectElement;\n    assert.exists(select);\n    select.selectedIndex = 1;\n    select.dispatchEvent(new Event('change'));\n    await expectCalled(throttle).then(([logging]) => logging());\n\n    assert.isTrue(recordClick.calledOnce);\n    assert.deepStrictEqual(\n        recordClick.firstCall.firstArg, {veid: getVeId(select.selectedOptions[0]), doubleClick: false});\n  });\n\n  it('logs keydown', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging({keyboardLogThrottler: throttler});\n    const recordKeyDown = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordKeyDown',\n    );\n\n    const element = document.getElementById('element') as HTMLElement;\n    element.dispatchEvent(new KeyboardEvent('keydown', {key: 'a'}));\n    element.dispatchEvent(new KeyboardEvent('keydown', {key: 'b'}));\n    const [logging] = await expectCalled(throttle);\n    assert.isTrue(throttle.calledTwice);\n    assert.isFalse(recordKeyDown.called);\n\n    await logging();\n    assert.isTrue(recordKeyDown.calledOnce);\n  });\n\n  it('logs keydown for specific codes', async () => {\n    addLoggableElements();\n\n    const element = document.getElementById('element') as HTMLElement;\n    element.setAttribute('jslog', 'TreeItem; context:42; track: keydown: KeyA|KeyB');\n    await VisualLoggingTesting.LoggingDriver.startLogging({keyboardLogThrottler: throttler});\n    const recordKeyDown = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordKeyDown',\n    );\n\n    element.dispatchEvent(new KeyboardEvent('keydown', {code: 'KeyC'}));\n    await new Promise(resolve => setTimeout(resolve, 0));\n    assert.isFalse(throttle.called);\n\n    element.dispatchEvent(new KeyboardEvent('keydown', {code: 'KeyA'}));\n    let [logging] = await expectCalled(throttle);\n    assert.isFalse(recordKeyDown.called);\n    await logging();\n    assert.isTrue(recordKeyDown.calledOnce);\n\n    recordKeyDown.resetHistory();\n\n    element.dispatchEvent(new KeyboardEvent('keydown', {code: 'KeyB'}));\n    [logging] = await expectCalled(throttle);\n    assert.isFalse(recordKeyDown.called);\n    await logging();\n    assert.isTrue(recordKeyDown.calledOnce);\n  });\n\n  it('logs change', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging();\n    const recordChange = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordChange',\n    );\n\n    const element = document.getElementById('element') as HTMLElement;\n    element.dispatchEvent(new Event('change'));\n    assert.isTrue(recordChange.calledOnce);\n  });\n\n  it('logs change for each input type', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging();\n    const recordChange = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordChange',\n    );\n\n    const element = document.getElementById('element') as HTMLElement;\n    element.dispatchEvent(new InputEvent('input', {inputType: 'insertText'}));\n    await new Promise(resolve => setTimeout(resolve, 0));\n    assert.isFalse(recordChange.called);\n    element.dispatchEvent(new InputEvent('input', {inputType: 'insertText'}));\n    await new Promise(resolve => setTimeout(resolve, 0));\n    assert.isFalse(recordChange.called);\n\n    let logging = expectCalled(recordChange);\n    element.dispatchEvent(new InputEvent('input', {inputType: 'inserFromPaste'}));\n    await logging;\n\n    logging = expectCalled(recordChange);\n    element.dispatchEvent(new InputEvent('input', {inputType: 'inserFromDrop'}));\n    await logging;\n    logging = expectCalled(recordChange);\n    element.dispatchEvent(new Event('change'));\n    await logging;\n  });\n\n  it('logs change on focus out after input', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging();\n    const recordChange = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordChange',\n    );\n\n    const element = document.getElementById('element') as HTMLElement;\n    element.dispatchEvent(new InputEvent('input', {inputType: 'insertText'}));\n    element.dispatchEvent(new Event('focusout'));\n    await expectCalled(recordChange);\n  });\n\n  it('logs change on new impressions', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging({processingThrottler: throttler});\n    const recordChange = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordChange',\n    );\n\n    const element = document.getElementById('element') as HTMLElement;\n    const parent = document.getElementById('parent') as HTMLElement;\n    element.dispatchEvent(new InputEvent('input', {inputType: 'insertText'}));\n    throttle.callsArg(0);\n    parent.appendChild(element.cloneNode());\n    await expectCalled(recordChange);\n  });\n\n  it('logs change on resize', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging({resizeLogThrottler: throttler});\n    const recordChange = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordChange',\n    );\n\n    const element = document.getElementById('element') as HTMLElement;\n    element.dispatchEvent(new InputEvent('input', {inputType: 'insertText'}));\n    throttle.callsArg(0);\n    element.style.width = '400px';\n    await expectCalled(recordChange);\n  });\n\n  it('does not log change on focus out without input', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging();\n    const recordChange = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordChange',\n    );\n\n    const element = document.getElementById('element') as HTMLElement;\n    element.dispatchEvent(new Event('focusout'));\n    await new Promise(resolve => setTimeout(resolve, 0));\n    assert.isFalse(recordChange.calledOnce);\n  });\n\n  it('logs hover', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging({hoverLogThrottler: throttler});\n    const recordHover = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordHover',\n    );\n\n    const element = document.getElementById('element') as HTMLElement;\n    element.dispatchEvent(new MouseEvent('mouseover'));\n    const [logging] = await expectCall(throttle);\n    assert.isFalse(recordHover.called);\n    await logging();\n    assert.isTrue(recordHover.calledOnce);\n  });\n\n  it('does not log hover if too short', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging({hoverLogThrottler: throttler});\n    const recordHover = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordHover',\n    );\n\n    const element = document.getElementById('element') as HTMLElement;\n    element.dispatchEvent(new MouseEvent('mouseover'));\n    await expectCall(throttle);\n    assert.isFalse(recordHover.called);\n    element.dispatchEvent(new MouseEvent('mouseout'));\n    await expectCalled(throttle).then(([work]) => work());\n    assert.isFalse(recordHover.called);\n  });\n\n  it('does not log hover if in descendent', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging({hoverLogThrottler: throttler});\n    const recordHover = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordHover',\n    );\n\n    const parent = document.getElementById('parent') as HTMLElement;\n    const element = document.getElementById('element') as HTMLElement;\n    parent.dispatchEvent(new MouseEvent('mouseover'));\n    await expectCall(throttle);\n\n    element.dispatchEvent(new MouseEvent('mouseover'));\n    await expectCall(throttle).then(([work]) => work());\n    assert.isTrue(recordHover.called);\n    assert.deepStrictEqual(recordHover.firstCall.firstArg, {veid: getVeId(parent)});\n  });\n\n  it('logs drag', async () => {\n    const dragLogThrottler = new Common.Throttler.Throttler(1000000000);\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging({dragLogThrottler});\n    const recordDrag = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordDrag',\n    );\n\n    const element = document.getElementById('element') as HTMLElement;\n    element.dispatchEvent(new MouseEvent('pointerdown'));\n    assert.exists(dragLogThrottler.process);\n    assert.isFalse(recordDrag.called);\n\n    await dragLogThrottler.schedule(async () => {}, Common.Throttler.Scheduling.AsSoonAsPossible);\n    await dragLogThrottler.process?.();\n    assert.isTrue(recordDrag.called);\n    assert.isTrue(recordDrag.calledOnce);\n  });\n\n  it('does not log drag if too short in time', async () => {\n    const dragLogThrottler = new Common.Throttler.Throttler(1000000000);\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging({dragLogThrottler});\n    const recordDrag = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordDrag',\n    );\n\n    const element = document.getElementById('element') as HTMLElement;\n    element.dispatchEvent(new MouseEvent('pointerdown'));\n    assert.exists(dragLogThrottler.process);\n    assert.isFalse(recordDrag.called);\n\n    element.dispatchEvent(new MouseEvent('pointerup'));\n\n    await dragLogThrottler.process?.();\n    assert.isFalse(recordDrag.called);\n  });\n\n  it('logs drag if short in time but long in distance', async () => {\n    const dragLogThrottler = new Common.Throttler.Throttler(1000000000);\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging({dragLogThrottler});\n    const recordDrag = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordDrag',\n    );\n\n    const element = document.getElementById('element') as HTMLElement;\n    element.dispatchEvent(new MouseEvent('pointerdown', {screenX: 0, screenY: 0}));\n    assert.exists(dragLogThrottler.process);\n    assert.isFalse(recordDrag.called);\n\n    element.dispatchEvent(new MouseEvent('pointerup', {screenX: 100, screenY: 100}));\n\n    await dragLogThrottler.process?.();\n    assert.isFalse(recordDrag.called);\n  });\n\n  it('logs resize', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging({resizeLogThrottler: throttler});\n    const recordResize = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordResize',\n    );\n\n    const element = document.getElementById('element') as HTMLElement;\n\n    element.style.height = '400px';\n    const [logging] = await expectCall(throttle, {callCount: 2});\n    assert.isFalse(recordResize.called);\n    await logging();\n    assert.isTrue(recordResize.calledOnce);\n  });\n\n  it('does not log resize if too small', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging({resizeLogThrottler: throttler});\n    const recordResize = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordResize',\n    );\n\n    const element = document.getElementById('element') as HTMLElement;\n    element.style.height = '301px';\n    assert.isFalse(recordResize.called);\n  });\n\n  it('logs resize on visibility change', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging({resizeLogThrottler: throttler});\n    const recordResize = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordResize',\n    );\n\n    const element = document.getElementById('element') as HTMLElement;\n\n    element.style.display = 'none';\n    const [logging] = await expectCall(throttle, {callCount: 2});\n    assert.isFalse(recordResize.called);\n\n    logging();\n    await expectCalled(recordResize);\n    assert.isTrue(recordResize.calledOnce);\n    assert.deepStrictEqual(recordResize.firstCall.firstArg, {veid: getVeId(element), width: 0, height: 0});\n\n    recordResize.resetHistory();\n\n    element.style.display = 'block';\n    assert.isFalse(recordResize.called);\n    throttle.callsArg(0);\n\n    await expectCall(recordResize);\n    assert.isTrue(recordResize.calledOnce);\n    assert.deepStrictEqual(recordResize.firstCall.firstArg, {veid: getVeId(element), width: 300, height: 300});\n  });\n\n  it('throttles resize per element', async () => {\n    addLoggableElements();\n    const element1 = document.getElementById('element') as HTMLElement;\n    const element2 = element1.cloneNode() as HTMLElement;\n    document.getElementById('parent')?.appendChild(element2);\n    await VisualLoggingTesting.LoggingDriver.startLogging({resizeLogThrottler: throttler});\n    const recordResize = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordResize',\n    );\n\n    element1.style.height = '200px';\n    await expectCall(throttle, {callCount: 2});\n    element2.style.height = '200px';\n    await expectCall(throttle, {callCount: 2});\n    element1.style.height = '100px';\n    await expectCall(throttle, {callCount: 2});\n    element2.style.height = '100px';\n    const [work] = await expectCall(throttle, {callCount: 2});\n\n    assert.isFalse(recordResize.called);\n    await work();\n    assert.isTrue(recordResize.calledTwice);\n    assert.strictEqual(recordResize.firstCall.firstArg.height, 100);\n    assert.strictEqual(recordResize.lastCall.firstArg.height, 100);\n    assert.notStrictEqual(recordResize.firstCall.firstArg.veid, recordResize.lastCall.firstArg.veid);\n  });\n\n  it('only logs resize of the outer element', async () => {\n    addLoggableElements();\n    const element = document.getElementById('element') as HTMLElement;\n    const child = document.createElement('div');\n    child.setAttribute('jslog', 'TreeItem; track: resize');\n    child.style.width = '100%';\n    child.style.height = '100%';\n    element.appendChild(child);\n\n    await VisualLoggingTesting.LoggingDriver.startLogging({resizeLogThrottler: throttler});\n    const recordResize = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordResize',\n    );\n\n    element.style.width = '400px';\n    const [work] = await expectCall(throttle, {callCount: 2});\n\n    assert.isFalse(recordResize.called);\n    await work();\n    assert.isTrue(recordResize.calledOnce);\n    assert.deepStrictEqual(recordResize.firstCall.firstArg, {veid: getVeId(element), width: 400, height: 300});\n  });\n\n  it('does not log resize intial impressions due to visibility change', async () => {\n    addLoggableElements();\n    const element = document.getElementById('element') as HTMLElement;\n    element.style.display = 'none';\n\n    await VisualLoggingTesting.LoggingDriver.startLogging(\n        {processingThrottler: throttler, resizeLogThrottler: throttler});\n    const recordResize = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordResize',\n    );\n    recordImpression.resetHistory();\n\n    element.style.display = 'block';\n    await expectCalled(throttle).then(([work]) => work());\n    assert.isTrue(throttle.calledOnce);\n    assert.isTrue(recordImpression.calledOnce);\n    assert.isFalse(recordResize.called);\n\n    await new Promise(resolve => setTimeout(resolve, 0));\n    assert.isFalse(recordResize.called);\n  });\n\n  it('properly handles the switch between visible elements', async () => {\n    addLoggableElements();\n    const element1 = document.getElementById('element') as HTMLElement;\n    const child = document.createElement('div');\n    child.id = 'child';\n    child.setAttribute('jslog', 'TreeItem; track: resize');\n    child.style.width = '100%';\n    child.style.height = '100%';\n    element1.appendChild(child);\n\n    const element2 = element1.cloneNode(/* deep=*/ true) as HTMLElement;\n    element2.id = 'element2';\n    document.getElementById('parent')?.appendChild(element2);\n\n    // First ensure both top level elements have impressions logged\n    await VisualLoggingTesting.LoggingDriver.startLogging({resizeLogThrottler: throttler});\n    const recordResize = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordResize',\n    );\n\n    // Now hide one and wait for logging to finish\n    throttle.callsArg(0);\n    element2.style.display = 'none';\n    await expectCalled(recordResize, {callCount: 2});\n    throttle.reset();\n    recordResize.reset();\n\n    // Now the actual test: hiding one element and show the other one\n    element1.style.display = 'none';\n    element2.style.display = 'block';\n    // Throttler is called by both resize and intersection observer for each element\n    await expectCalled(throttle, {callCount: 4}).then(([work]) => work());\n\n    assert.isTrue(recordResize.calledTwice);\n    assert.sameDeepMembers(recordResize.getCalls().map(c => c.firstArg), [\n      {veid: VisualLoggingTesting.LoggingState.getLoggingState(element1)?.veid, width: 0, height: 0},\n      {veid: VisualLoggingTesting.LoggingState.getLoggingState(element2)?.veid, width: 300, height: 300},\n    ]);\n  });\n\n  it('logs resize when removed from DOM', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging({resizeLogThrottler: throttler});\n    const recordResize = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordResize',\n    );\n\n    const element = document.getElementById('element') as HTMLElement;\n    const parent = document.getElementById('parent') as HTMLElement;\n\n    parent.removeChild(element);\n    const [logging] = await expectCall(throttle, {callCount: 2});\n    assert.isFalse(recordResize.called);\n\n    await logging();\n    assert.isTrue(recordResize.calledOnce);\n    assert.deepStrictEqual(recordResize.firstCall.firstArg, {veid: getVeId(element), width: 0, height: 0});\n  });\n\n  it('logs interactions before impressions and resize', async () => {\n    addLoggableElements();\n    await VisualLoggingTesting.LoggingDriver.startLogging({resizeLogThrottler: throttler});\n    const recordResize = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordResize',\n    );\n    const recordClick = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordClick',\n    );\n    const recordKeyDown = sinon.stub(\n        Host.InspectorFrontendHost.InspectorFrontendHostInstance,\n        'recordKeyDown',\n    );\n    recordImpression.resetHistory();\n\n    const element = document.getElementById('element') as HTMLElement;\n    const parent = document.getElementById('parent') as HTMLElement;\n\n    parent.removeChild(element);\n    parent.appendChild(element.cloneNode());\n    element.click();\n    element.dispatchEvent(new KeyboardEvent('keydown', {key: 'a'}));\n    throttle.callsArg(0);\n\n    await Promise.all([\n      expectCalled(recordImpression),\n      expectCalled(recordResize),\n      expectCalled(recordClick),\n      expectCalled(recordKeyDown),\n    ]);\n    assert.isTrue(recordClick.calledBefore(recordImpression));\n    assert.isTrue(recordClick.calledBefore(recordResize));\n    assert.isTrue(recordKeyDown.calledBefore(recordImpression));\n    assert.isTrue(recordKeyDown.calledBefore(recordResize));\n  });\n\n  it('logs non-DOM impressions', async () => {\n    addLoggableElements();\n    const loggable = {};\n    const parent = document.getElementById('parent')!;\n    VisualLoggingTesting.NonDomState.registerLoggable(loggable, {ve: 1, context: '123'}, parent);\n    await VisualLoggingTesting.LoggingDriver.startLogging();\n    assert.isTrue(recordImpression.calledOnce);\n\n    assert.sameDeepMembers(recordImpression.firstCall.firstArg.impressions, [\n      {id: getVeId(loggable), type: 1, context: 123, parent: getVeId(parent), width: 0, height: 0},\n      {id: getVeId('#element'), type: 1, context: 42, parent: getVeId(parent), width: 300, height: 300},\n      {id: getVeId(parent), type: 1, width: 300, height: 300},\n    ]);\n    assert.isEmpty(VisualLoggingTesting.NonDomState.getNonDomState().loggables);\n  });\n\n  it('logs root non-DOM impressions', async () => {\n    addLoggableElements();\n    const loggable = {};\n    VisualLoggingTesting.NonDomState.registerLoggable(loggable, {ve: 1, context: '123'}, undefined);\n    await VisualLoggingTesting.LoggingDriver.startLogging();\n    assert.isTrue(recordImpression.calledOnce);\n\n    assert.sameDeepMembers(recordImpression.firstCall.firstArg.impressions, [\n      {id: getVeId(loggable), type: 1, context: 123, width: 0, height: 0},\n      {id: getVeId('#element'), type: 1, context: 42, parent: getVeId('#parent'), width: 300, height: 300},\n      {id: getVeId('#parent'), type: 1, width: 300, height: 300},\n    ]);\n    assert.isEmpty(VisualLoggingTesting.NonDomState.getNonDomState().loggables);\n  });\n\n  it('postpones logging non-DOM impressions with detached parent', async () => {\n    addLoggableElements();\n    const loggable = {};\n    const parent = document.createElement('div');\n    VisualLoggingTesting.NonDomState.registerLoggable(loggable, {ve: 1, context: '123'}, parent);\n    await VisualLoggingTesting.LoggingDriver.startLogging();\n    assert.isTrue(recordImpression.calledOnce);\n\n    assert.sameDeepMembers(recordImpression.firstCall.firstArg.impressions, [\n      {id: getVeId('#element'), type: 1, context: 42, parent: getVeId('#parent'), width: 300, height: 300},\n      {id: getVeId('#parent'), type: 1, width: 300, height: 300},\n    ]);\n    assert.deepInclude(\n        VisualLoggingTesting.NonDomState.getNonDomState().loggables,\n        {loggable, config: {ve: 1, context: '123'}, parent});\n  });\n});\n"]}