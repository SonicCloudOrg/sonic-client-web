{"version":3,"file":"TimelineUIUtils.test.js","sourceRoot":"","sources":["../../../../../../front_end/panels/timeline/TimelineUIUtils.test.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../../core/common/common.js';\nimport type * as Platform from '../../core/platform/platform.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport type * as Protocol from '../../generated/protocol.js';\nimport * as Bindings from '../../models/bindings/bindings.js';\nimport * as TraceEngine from '../../models/trace/trace.js';\nimport * as Workspace from '../../models/workspace/workspace.js';\nimport * as Elements from '../../panels/elements/elements.js';\nimport {doubleRaf, renderElementIntoDOM} from '../../testing/DOMHelpers.js';\nimport {createTarget} from '../../testing/EnvironmentHelpers.js';\nimport {\n  clearMockConnectionResponseHandler,\n  describeWithMockConnection,\n  setMockConnectionResponseHandler,\n} from '../../testing/MockConnection.js';\nimport {\n  loadBasicSourceMapExample,\n  setupPageResourceLoaderForSourceMap,\n} from '../../testing/SourceMapHelpers.js';\nimport {\n  getEventOfType,\n  getMainThread,\n  makeCompleteEvent,\n  makeMockSamplesHandlerData,\n  makeProfileCall,\n} from '../../testing/TraceHelpers.js';\nimport {TraceLoader} from '../../testing/TraceLoader.js';\nimport * as Components from '../../ui/legacy/components/utils/utils.js';\nimport * as ThemeSupport from '../../ui/legacy/theme_support/theme_support.js';\n\nimport * as Timeline from './timeline.js';\n\ndescribeWithMockConnection('TimelineUIUtils', function() {\n  let target: SDK.Target.Target;\n  // Trace events contain script ids as strings. However, the linkifier\n  // utilities assume it is a number because that's how it's defined at\n  // the protocol level. For practicality, we declare these two\n  // variables so that we can satisfy type checking throughout the tests.\n  const SCRIPT_ID_NUMBER = 1;\n  const SCRIPT_ID_STRING = String(SCRIPT_ID_NUMBER) as Protocol.Runtime.ScriptId;\n\n  beforeEach(() => {\n    target = createTarget();\n\n    const workspace = Workspace.Workspace.WorkspaceImpl.instance();\n    const targetManager = SDK.TargetManager.TargetManager.instance();\n    const resourceMapping = new Bindings.ResourceMapping.ResourceMapping(targetManager, workspace);\n    const debuggerWorkspaceBinding = Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance({\n      forceNew: true,\n      resourceMapping,\n      targetManager,\n    });\n    Bindings.IgnoreListManager.IgnoreListManager.instance({forceNew: true, debuggerWorkspaceBinding});\n  });\n\n  afterEach(() => {\n    clearMockConnectionResponseHandler('DOM.pushNodesByBackendIdsToFrontend');\n  });\n\n  it('creates top frame location text for function calls', async function() {\n    const traceParsedData = await TraceLoader.traceEngine(this, 'one-second-interaction.json.gz');\n    const functionCallEvent =\n        traceParsedData.Renderer.allTraceEntries.find(TraceEngine.Types.TraceEvents.isTraceEventFunctionCall);\n    assert.isOk(functionCallEvent);\n    assert.strictEqual(\n        'chrome-extension://blijaeebfebmkmekmdnehcmmcjnblkeo/lib/utils.js:11:43',\n        await Timeline.TimelineUIUtils.TimelineUIUtils.buildDetailsTextForTraceEvent(\n            functionCallEvent, traceParsedData));\n  });\n\n  it('creates top frame location text as a fallback', async function() {\n    const traceParsedData = await TraceLoader.traceEngine(this, 'web-dev.json.gz');\n    const timerInstallEvent =\n        traceParsedData.Renderer.allTraceEntries.find(TraceEngine.Types.TraceEvents.isTraceEventTimerInstall);\n    assert.isOk(timerInstallEvent);\n    assert.strictEqual(\n        'https://web.dev/js/index-7b6f3de4.js:96:533',\n        await Timeline.TimelineUIUtils.TimelineUIUtils.buildDetailsTextForTraceEvent(\n            timerInstallEvent, traceParsedData));\n  });\n\n  describe('script location as an URL', function() {\n    it('makes the script location of a call frame a full URL when the inspected target is not the same the call frame was taken from (e.g. a loaded file)',\n       async function() {\n         // The actual trace doesn't matter here, just need one so we can pass\n         // it into buildDetailsNodeForTraceEvent\n         const traceParsedData = await TraceLoader.traceEngine(this, 'web-dev-with-commit.json.gz');\n\n         const fakeFunctionCall: TraceEngine.Types.TraceEvents.TraceEventFunctionCall = {\n           name: TraceEngine.Types.TraceEvents.KnownEventName.FunctionCall,\n           ph: TraceEngine.Types.TraceEvents.Phase.COMPLETE,\n           cat: 'devtools-timeline',\n           dur: TraceEngine.Types.Timing.MicroSeconds(100),\n           ts: TraceEngine.Types.Timing.MicroSeconds(100),\n           pid: TraceEngine.Types.TraceEvents.ProcessID(1),\n           tid: TraceEngine.Types.TraceEvents.ThreadID(1),\n           args: {\n             data: {\n               functionName: 'test',\n               url: 'https://google.com/test.js',\n               scriptId: Number(SCRIPT_ID_STRING),\n               lineNumber: 1,\n               columnNumber: 1,\n             },\n           },\n         };\n\n         target.setInspectedURL('https://not-google.com' as Platform.DevToolsPath.UrlString);\n         const node = await Timeline.TimelineUIUtils.TimelineUIUtils.buildDetailsNodeForTraceEvent(\n             fakeFunctionCall, target, new Components.Linkifier.Linkifier(), false, traceParsedData);\n         if (!node) {\n           throw new Error('Node was unexpectedly null');\n         }\n         assert.strictEqual(node.textContent, 'test @ google.com/test.js:1:1');\n       });\n\n    it('makes the script location of a call frame a script name when the inspected target is the one the call frame was taken from',\n       async function() {\n         // The actual trace doesn't matter here, just need one so we can pass\n         // it into buildDetailsNodeForTraceEvent\n         const traceParsedData = await TraceLoader.traceEngine(this, 'web-dev-with-commit.json.gz');\n         const fakeFunctionCall: TraceEngine.Types.TraceEvents.TraceEventFunctionCall = {\n           name: TraceEngine.Types.TraceEvents.KnownEventName.FunctionCall,\n           ph: TraceEngine.Types.TraceEvents.Phase.COMPLETE,\n           cat: 'devtools-timeline',\n           dur: TraceEngine.Types.Timing.MicroSeconds(100),\n           ts: TraceEngine.Types.Timing.MicroSeconds(100),\n           pid: TraceEngine.Types.TraceEvents.ProcessID(1),\n           tid: TraceEngine.Types.TraceEvents.ThreadID(1),\n           args: {\n             data: {\n               functionName: 'test',\n               url: 'https://google.com/test.js',\n               scriptId: Number(SCRIPT_ID_STRING),\n               lineNumber: 1,\n               columnNumber: 1,\n             },\n           },\n         };\n         target.setInspectedURL('https://google.com' as Platform.DevToolsPath.UrlString);\n         const node = await Timeline.TimelineUIUtils.TimelineUIUtils.buildDetailsNodeForTraceEvent(\n             fakeFunctionCall, target, new Components.Linkifier.Linkifier(), false, traceParsedData);\n         if (!node) {\n           throw new Error('Node was unexpectedly null');\n         }\n         assert.strictEqual(node.textContent, 'test @ /test.js:1:1');\n       });\n  });\n\n  describe('mapping to authored script when recording is fresh', function() {\n    beforeEach(async () => {\n      // Register mock script and source map.\n\n      const sourceMapContent = JSON.stringify({\n        'version': 3,\n        'names': ['unminified', 'par1', 'par2', 'console', 'log'],\n        'sources': [\n          '/original-script.ts',\n        ],\n        'file': '/test.js',\n        'sourcesContent': ['function unminified(par1, par2) {\\n  console.log(par1, par2);\\n}\\n'],\n        'mappings': 'AAAA,SAASA,EAAWC,EAAMC,GACxBC,QAAQC,IAAIH,EAAMC',\n      });\n      setupPageResourceLoaderForSourceMap(sourceMapContent);\n      target.setInspectedURL('https://google.com' as Platform.DevToolsPath.UrlString);\n      const scriptUrl = 'https://google.com/script.js' as Platform.DevToolsPath.UrlString;\n      const sourceMapUrl = 'script.js.map' as Platform.DevToolsPath.UrlString;\n      const debuggerModel = target.model(SDK.DebuggerModel.DebuggerModel);\n      assert.isNotNull(debuggerModel);\n      if (debuggerModel === null) {\n        return;\n      }\n      const sourceMapManager = debuggerModel.sourceMapManager();\n      const script = debuggerModel.parsedScriptSource(\n          SCRIPT_ID_STRING, scriptUrl, 0, 0, 0, 0, 0, '', undefined, false, sourceMapUrl, true, false, length, false,\n          null, null, null, null, null);\n      await sourceMapManager.sourceMapForClientPromise(script);\n    });\n    it('maps to the authored script when a call frame is provided', async function() {\n      const linkifier = new Components.Linkifier.Linkifier();\n      const node = Timeline.TimelineUIUtils.TimelineUIUtils.linkifyLocation({\n        scriptId: SCRIPT_ID_STRING,\n        url: 'https://google.com/test.js',\n        lineNumber: 0,\n        columnNumber: 0,\n        isFreshRecording: true,\n        target,\n        linkifier,\n      });\n      if (!node) {\n        throw new Error('Node was unexpectedly null');\n      }\n      // Wait for the location to be resolved using the registered source map.\n      await Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance().pendingLiveLocationChangesPromise();\n\n      assert.strictEqual(node.textContent, 'original-script.ts:1:1');\n    });\n\n    it('maps to the authored script when a trace event from the new engine with a stack trace is provided',\n       async function() {\n         const functionCallEvent = makeCompleteEvent('FunctionCall', 10, 100);\n         functionCallEvent.args = ({\n           data: {\n             stackTrace: [{\n               functionName: 'test',\n               url: 'https://google.com/test.js',\n               scriptId: SCRIPT_ID_NUMBER,\n               lineNumber: 0,\n               columnNumber: 0,\n             }],\n           },\n         });\n         const linkifier = new Components.Linkifier.Linkifier();\n         const node =\n             Timeline.TimelineUIUtils.TimelineUIUtils.linkifyTopCallFrame(functionCallEvent, target, linkifier, true);\n         if (!node) {\n           throw new Error('Node was unexpectedly null');\n         }\n         // Wait for the location to be resolved using the registered source map.\n         await Bindings.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance()\n             .pendingLiveLocationChangesPromise();\n\n         assert.strictEqual(node.textContent, 'original-script.ts:1:1');\n       });\n  });\n\n  describe('mapping to authored function name when recording is fresh', function() {\n    it('maps to the authored name and script of a profile call', async function() {\n      const {script} = await loadBasicSourceMapExample(target);\n      // Ideally we would get a column number we can use from the source\n      // map however the current status of the source map helpers makes\n      // it difficult to do so.\n      const columnNumber = 51;\n      const profileCall = makeProfileCall(\n          'function', 10, 100, TraceEngine.Types.TraceEvents.ProcessID(1), TraceEngine.Types.TraceEvents.ThreadID(1));\n\n      profileCall.callFrame = {\n        'columnNumber': columnNumber,\n        'functionName': 'minified',\n        'lineNumber': 0,\n        'scriptId': script.scriptId,\n        'url': 'file://gen.js',\n      };\n      const workersData: TraceEngine.Handlers.ModelHandlers.Workers.WorkersData = {\n        workerSessionIdEvents: [],\n        workerIdByThread: new Map(),\n        workerURLById: new Map(),\n      };\n      // This only includes data used in the SourceMapsResolver\n      const traceParsedData = {\n        Samples: makeMockSamplesHandlerData([profileCall]),\n        Workers: workersData,\n      } as TraceEngine.Handlers.Types.TraceParseData;\n\n      const resolver = new Timeline.SourceMapsResolver.SourceMapsResolver(traceParsedData);\n      await resolver.install();\n\n      const linkifier = new Components.Linkifier.Linkifier();\n      const node = await Timeline.TimelineUIUtils.TimelineUIUtils.buildDetailsNodeForTraceEvent(\n          profileCall, target, linkifier, true, traceParsedData);\n      if (!node) {\n        throw new Error('Node was unexpectedly null');\n      }\n      assert.isTrue(node.textContent?.startsWith('someFunction @'));\n    });\n  });\n  describe('adjusting timestamps for events and navigations', function() {\n    it('adjusts the time for a DCL event after a navigation', async function() {\n      const traceParsedData = await TraceLoader.traceEngine(this, 'web-dev.json.gz');\n\n      const mainFrameID = traceParsedData.Meta.mainFrameId;\n\n      const dclEvent = traceParsedData.PageLoadMetrics.allMarkerEvents.find(event => {\n        return TraceEngine.Types.TraceEvents.isTraceEventMarkDOMContent(event) &&\n            event.args.data?.frame === mainFrameID;\n      });\n      if (!dclEvent) {\n        throw new Error('Could not find DCL event');\n      }\n\n      const traceMinBound = traceParsedData.Meta.traceBounds.min;\n\n      // Round the time to 2DP to avoid needlessly long expectation numbers!\n      const unadjustedStartTimeMilliseconds =\n          TraceEngine.Helpers.Timing\n              .microSecondsToMilliseconds(\n                  TraceEngine.Types.Timing.MicroSeconds(dclEvent.ts - traceMinBound),\n                  )\n              .toFixed(2);\n      assert.strictEqual(unadjustedStartTimeMilliseconds, String(190.79));\n\n      const adjustedTime =\n          Timeline.TimelineUIUtils.timeStampForEventAdjustedForClosestNavigationIfPossible(dclEvent, traceParsedData);\n      assert.strictEqual(adjustedTime.toFixed(2), String(178.92));\n    });\n\n    it('can adjust the times for events that are not PageLoad markers', async function() {\n      const traceParsedData = await TraceLoader.traceEngine(this, 'user-timings.json.gz');\n      // Use a performance.mark event. Exact event is unimportant except that\n      // it should not be a Page Load event as those are covered by the tests\n      // above.\n      const userMark = traceParsedData.UserTimings.performanceMarks.find(event => event.name === 'mark1');\n      if (!userMark) {\n        throw new Error('Could not find user mark');\n      }\n\n      const adjustedMarkTime =\n          Timeline.TimelineUIUtils.timeStampForEventAdjustedForClosestNavigationIfPossible(userMark, traceParsedData);\n      assert.strictEqual(adjustedMarkTime.toFixed(2), String(79.88));\n    });\n  });\n\n  function getInnerTextAcrossShadowRoots(root: Node|null): string {\n    // Don't recurse into STYLE elements\n    if (!root || root.nodeName === 'STYLE') {\n      return '';\n    }\n    if (root.nodeType === Node.TEXT_NODE) {\n      return root.nodeValue || '';\n    }\n    if (root instanceof HTMLElement && root.shadowRoot) {\n      return getInnerTextAcrossShadowRoots(root.shadowRoot);\n    }\n    return Array.from(root.childNodes).map(getInnerTextAcrossShadowRoots).join('');\n  }\n\n  function getRowDataForDetailsElement(details: DocumentFragment) {\n    return Array.from(details.querySelectorAll<HTMLDivElement>('.timeline-details-view-row')).map(row => {\n      const title = row.querySelector<HTMLDivElement>('.timeline-details-view-row-title')?.innerText;\n      const valueEl = row.querySelector<HTMLDivElement>('.timeline-details-view-row-value') ??\n          row.querySelector<HTMLElement>('div,span');\n      let value = valueEl?.innerText || '';\n      if (!value && valueEl) {\n        // Stack traces and renderEventJson have the contents within a shadowRoot.\n        value = getInnerTextAcrossShadowRoots(valueEl).trim();\n      }\n      return {title, value};\n    });\n  }\n\n  function getStackTraceForDetailsElement(details: DocumentFragment): string[]|null {\n    const stackTraceContainer =\n        details\n            .querySelector<HTMLDivElement>(\n                '.timeline-details-view-row.timeline-details-stack-values .stack-preview-container')\n            ?.shadowRoot;\n    if (!stackTraceContainer) {\n      return null;\n    }\n    return Array.from(stackTraceContainer.querySelectorAll<HTMLTableRowElement>('tr')).map(row => {\n      const functionName = row.querySelector<HTMLElement>('.function-name')?.innerText;\n      const url = row.querySelector<HTMLElement>('.link')?.innerText;\n      return `${functionName || ''} @ ${url || ''}`;\n    });\n  }\n\n  function getPieChartDataForDetailsElement(details: DocumentFragment) {\n    const pieChartComp = details.querySelector<HTMLDivElement>('devtools-perf-piechart');\n    if (!pieChartComp?.shadowRoot) {\n      return [];\n    }\n    return Array.from(pieChartComp.shadowRoot.querySelectorAll<HTMLElement>('.pie-chart-legend-row')).map(row => {\n      const title = row.querySelector<HTMLDivElement>('.pie-chart-name')?.innerText;\n      const value = row.querySelector<HTMLDivElement>('.pie-chart-size')?.innerText;\n      return {title, value};\n    });\n  }\n\n  describe('colors', function() {\n    before(() => {\n      // Rather than use the real colours here and burden the test with having to\n      // inject loads of CSS, we fake out the colours. this is fine for our tests as\n      // the exact value of the colours is not important; we just make sure that it\n      // parses them out correctly. Each variable is given a different rgb() value to\n      // ensure we know the code is working and using the right one.\n      const styleElement = document.createElement('style');\n      styleElement.id = 'fake-perf-panel-colors';\n      styleElement.textContent = `\n:root {\n  --app-color-loading: rgb(0 0 0);\n  --app-color-loading-children: rgb(1 1 1);\n  --app-color-scripting: rgb(2 2 2);\n  --app-color-scripting-children: rgb(3 3 3);\n  --app-color-rendering: rgb(4 4 4);\n  --app-color-rendering-children: rgb(5 5 5);\n  --app-color-painting: rgb(6 6 6);\n  --app-color-painting-children: rgb(7 7 7);\n  --app-color-task: rgb(8 8 8);\n  --app-color-task-children: rgb(9 9 9);\n  --app-color-system: rgb(10 10 10);\n  --app-color-system-children: rgb(11 11 11);\n  --app-color-idle: rgb(12 12 12);\n  --app-color-idle-children: rgb(13 13 13);\n  --app-color-async: rgb(14 14 14);\n  --app-color-async-children: rgb(15 15 15);\n  --app-color-other: rgb(16 16 16);\n}\n`;\n      document.documentElement.appendChild(styleElement);\n      ThemeSupport.ThemeSupport.clearThemeCache();\n    });\n\n    after(() => {\n      const styleElementToRemove = document.documentElement.querySelector('#fake-perf-panel-colors');\n      if (styleElementToRemove) {\n        document.documentElement.removeChild(styleElementToRemove);\n      }\n      ThemeSupport.ThemeSupport.clearThemeCache();\n    });\n\n    it('should return the correct rgb value for a corresponding CSS variable', function() {\n      const parsedColor = Timeline.EventUICategory.getCategoryStyles().scripting.getComputedColorValue();\n      assert.strictEqual('rgb(2 2 2)', parsedColor);\n    });\n\n    it('should return the color as a CSS variable', function() {\n      const cssVariable = Timeline.EventUICategory.getCategoryStyles().scripting.getCSSValue();\n      assert.strictEqual('var(--app-color-scripting)', cssVariable);\n    });\n\n    it('treats the v8.parseOnBackgroundWaiting as scripting even though it would usually be idle', function() {\n      const event = makeCompleteEvent(\n          TraceEngine.Types.TraceEvents.KnownEventName.StreamingCompileScriptWaiting,\n          1,\n          1,\n          'v8,devtools.timeline,disabled-by-default-v8.compile',\n      );\n      assert.strictEqual('rgb(2 2 2)', Timeline.TimelineUIUtils.TimelineUIUtils.eventColor(event));\n    });\n\n    it('assigns the correct color to the swatch of an event\\'s title', async function() {\n      const traceParsedData = await TraceLoader.traceEngine(this, 'lcp-web-font.json.gz');\n      const events = traceParsedData.Renderer.allTraceEntries;\n      const task = events.find(event => {\n        return event.name.includes('RunTask');\n      });\n      if (!task) {\n        throw new Error('Could not find expected event.');\n      }\n\n      const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          traceParsedData,\n          task,\n          new Components.Linkifier.Linkifier(),\n          false,\n      );\n      const titleSwatch: HTMLElement|null = details.querySelector('.timeline-details-chip-title div');\n      assert.strictEqual(titleSwatch?.style.backgroundColor, 'rgb(10, 10, 10)');\n    });\n    it('assigns the correct color to the swatch of a network request title', async function() {\n      const traceParsedData = await TraceLoader.traceEngine(this, 'lcp-web-font.json.gz');\n      const networkRequests = traceParsedData.NetworkRequests.byTime;\n      const cssRequest = networkRequests.find(request => {\n        return request.args.data.url === 'https://chromedevtools.github.io/performance-stories/lcp-web-font/app.css';\n      });\n      if (!cssRequest) {\n        throw new Error('Could not find expected network request.');\n      }\n\n      const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildSyntheticNetworkRequestDetails(\n          traceParsedData,\n          cssRequest,\n          new Components.Linkifier.Linkifier(),\n      );\n      const titleSwatch: HTMLElement|null = details.querySelector('.timeline-details-chip-title div');\n      assert.strictEqual(titleSwatch?.style.backgroundColor, 'rgb(4, 4, 4)');\n    });\n  });\n\n  describe('testContentMatching', () => {\n    it('matches call frame events based on a regular expression and the contents of the event', async function() {\n      const traceParsedData = await TraceLoader.traceEngine(this, 'react-hello-world.json.gz');\n      // Find an event from the trace that represents some work that React did. This\n      // event is not chosen for any particular reason other than it was the example\n      // used in the bug report: crbug.com/1484504\n      const mainThread = getMainThread(traceParsedData.Renderer);\n      const performConcurrentWorkEvent = mainThread.entries.find(entry => {\n        if (TraceEngine.Types.TraceEvents.isProfileCall(entry)) {\n          return entry.callFrame.functionName === 'performConcurrentWorkOnRoot';\n        }\n        return false;\n      });\n      if (!performConcurrentWorkEvent) {\n        throw new Error('Could not find expected event');\n      }\n      assert.isTrue(Timeline.TimelineUIUtils.TimelineUIUtils.testContentMatching(\n          performConcurrentWorkEvent, /perfo/, traceParsedData));\n    });\n  });\n\n  describe('traceEventDetails', function() {\n    it('shows the interaction ID and INP breakdown metrics for a given interaction', async function() {\n      const traceParsedData = await TraceLoader.traceEngine(this, 'one-second-interaction.json.gz');\n      const interactionEvent = traceParsedData.UserInteractions.interactionEventsWithNoNesting.find(entry => {\n        return entry.dur === 979974 && entry.type === 'click';\n      });\n      if (!interactionEvent) {\n        throw new Error('Could not find expected event');\n      }\n      const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          traceParsedData,\n          interactionEvent,\n          new Components.Linkifier.Linkifier(),\n          false,\n      );\n      const rowData = getRowDataForDetailsElement(details);\n      assert.deepEqual(rowData, [\n        {\n          title: 'Warning',\n          value: 'Long interaction is indicating poor page responsiveness.',\n        },\n        {\n          title: 'ID',\n          value: '4122',\n        },\n        {\n          title: 'Input delay',\n          value: '1.00\\xA0ms',\n        },\n        {\n          title: 'Processing duration',\n          value: '977.00\\xA0ms',\n        },\n        {\n          title: 'Presentation delay',\n          value: '1.97\\xA0ms',\n        },\n      ]);\n    });\n\n    it('renders all event data for a generic trace', async function() {\n      const traceParsedData = await TraceLoader.traceEngine(this, 'generic-about-tracing.json.gz');\n      const event = traceParsedData.Renderer.allTraceEntries.find(entry => {\n        return entry.name === 'ThreadControllerImpl::RunTask';\n      });\n      if (!event) {\n        throw new Error('Could not find event.');\n      }\n      const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          traceParsedData,\n          event,\n          new Components.Linkifier.Linkifier(),\n          false,\n      );\n      const rowData = getRowDataForDetailsElement(details);\n      assert.deepEqual(rowData, [\n        {\n          title: '',\n          // Generic traces get their events rendered as JSON\n          value:\n              '{   \"args\": {\\n        \"chrome_task_annotator\": {\\n            \"delay_policy\": \"PRECISE\",\\n            \"task_delay_us\": 7159\\n        },\\n        \"src_file\": \"cc/scheduler/scheduler.cc\",\\n        \"src_func\": \"ScheduleBeginImplFrameDeadline\"\\n    },\\n    \"cat\": \"toplevel\",\\n    \"dur\": 222,\\n    \"name\": \"ThreadControllerImpl::RunTask\",\\n    \"ph\": \"X\",\\n    \"pid\": 1214129,\\n    \"tdur\": 163,\\n    \"tid\": 7,\\n    \"ts\": 1670373249790,\\n    \"tts\": 5752392,\\n    \"selfTime\": 202\\n}',\n        },\n      ]);\n    });\n\n    it('renders invalidations correctly', async function() {\n      // const {traceParsedData} = await TraceLoader.allModels(this, 'style-invalidation-change-attribute.json.gz');\n      const traceParsedData = await TraceLoader.traceEngine(this, 'style-invalidation-change-attribute.json.gz');\n      TraceLoader.initTraceBoundsManager(traceParsedData);\n\n      // Set up a fake DOM so that we can request nodes by backend Ids (even\n      // though we return none, we need to mock these calls else the frontend\n      // will not work.)\n      const documentNode = {nodeId: 1 as Protocol.DOM.BackendNodeId};\n      setMockConnectionResponseHandler('DOM.getDocument', () => ({root: documentNode}));\n      setMockConnectionResponseHandler('DOM.pushNodesByBackendIdsToFrontend', () => {\n        return {\n          nodeIds: [],\n        };\n      });\n\n      const updateLayoutTreeEvent = traceParsedData.Renderer.allTraceEntries.find(event => {\n        return TraceEngine.Types.TraceEvents.isTraceEventUpdateLayoutTree(event) &&\n            event.args.beginData?.stackTrace?.[0].functionName === 'testFuncs.changeAttributeAndDisplay';\n      });\n      if (!updateLayoutTreeEvent) {\n        throw new Error('Could not find update layout tree event');\n      }\n\n      const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          traceParsedData,\n          updateLayoutTreeEvent,\n          new Components.Linkifier.Linkifier(),\n          false,\n      );\n      const rowData = getRowDataForDetailsElement(details);\n      assert.deepEqual(rowData, [\n        {\n          title: 'Elements Affected',\n          value: '3',\n        },\n        {\n          title: 'Selector Stats',\n          value: 'Select \"\" to collect detailed CSS selector matching statistics.',\n        },\n        {\n          // The \"Recalculation forced\" Stack trace\n          title: undefined,\n          value:\n              'testFuncs.changeAttributeAndDisplay @ chromedevtools.github.io/performance-stories/style-invalidations/app.js:47:40',\n        },\n        {\n          title: 'Initiated by',\n          value: 'Schedule Style Recalculation',\n        },\n        {\n          title: 'Pending for',\n          value: '7.1 ms',\n        },\n        {\n          title: 'PseudoClass:active',\n          value: 'BUTTON id=\\'changeAttributeAndDisplay\\'',\n        },\n        {\n          title: 'Attribute (dir)',\n          value:\n              'DIV id=\\'testElementFour\\' at chromedevtools.github.io/performance-stories/style-invalidations/app.js:46',\n        },\n        {\n          title: 'Attribute (dir)',\n          value:\n              'DIV id=\\'testElementFive\\' at chromedevtools.github.io/performance-stories/style-invalidations/app.js:47',\n        },\n        {\n          title: 'Element has pending invalidation list',\n          value: 'DIV id=\\'testElementFour\\'',\n        },\n        {\n          title: 'Element has pending invalidation list',\n          value: 'DIV id=\\'testElementFive\\'',\n        },\n      ]);\n    });\n\n    it('renders details for a v8.compile (\"Compile Script\") event', async function() {\n      const traceParsedData = await TraceLoader.traceEngine(this, 'user-timings.json.gz');\n\n      const compileEvent =\n          traceParsedData.Renderer.allTraceEntries.find(TraceEngine.Types.TraceEvents.isTraceEventV8Compile);\n      if (!compileEvent) {\n        throw new Error('Could not find expected event');\n      }\n      const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          traceParsedData,\n          compileEvent,\n          new Components.Linkifier.Linkifier(),\n          false,\n      );\n      const rowData = getRowDataForDetailsElement(details);\n      assert.deepEqual(rowData, [\n        {\n          title: 'Script',\n          // URL plus line/col number\n          value: 'chrome-extension://blijaeebfebmkmekmdnehcmmcjnblkeo/lib/utils.js:1:1',\n        },\n        {\n          title: 'Streamed',\n          value: 'false: inline script',\n        },\n        {title: 'Compilation cache status', value: 'script not eligible'},\n      ]);\n    });\n\n    it('renders the details for a layout shift properly', async function() {\n      // Set related CDP methods responses to return our mock document and node.\n      const domModel = target.model(SDK.DOMModel.DOMModel);\n      assert.exists(domModel);\n      const documentNode = {nodeId: 1 as Protocol.DOM.NodeId};\n      const docc = new SDK.DOMModel.DOMNode(domModel) as SDK.DOMModel.DOMDocument;\n      const domNode2 = new SDK.DOMModel.DOMNode(domModel);\n      const domID = 58 as Protocol.DOM.NodeId;\n      domNode2.id = domID;\n\n      setMockConnectionResponseHandler('DOM.pushNodesByBackendIdsToFrontend', () => ({nodeIds: [domID]}));\n\n      setMockConnectionResponseHandler('DOM.getDocument', () => ({root: documentNode}));\n      await domModel.requestDocument();\n      domModel.registerNode(domNode2);\n      domNode2.init(docc, false, {nodeName: 'A test node name', nodeId: domID} as Protocol.DOM.Node);\n      const traceParsedData = await TraceLoader.traceEngine(this, 'cls-single-frame.json.gz');\n      const layoutShift = traceParsedData.LayoutShifts.clusters[0].events[0];\n      Common.Linkifier.registerLinkifier({\n        contextTypes() {\n          return [Timeline.CLSLinkifier.CLSRect];\n        },\n        async loadLinkifier() {\n          return Timeline.CLSLinkifier.Linkifier.instance();\n        },\n      });\n      Common.Linkifier.registerLinkifier({\n        contextTypes() {\n          return [\n            SDK.DOMModel.DOMNode,\n          ];\n        },\n        async loadLinkifier() {\n          return Elements.DOMLinkifier.Linkifier.instance();\n        },\n      });\n\n      if (!layoutShift) {\n        throw new Error('Could not find LayoutShift event.');\n      }\n\n      const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          traceParsedData,\n          layoutShift,\n          new Components.Linkifier.Linkifier(),\n          false,\n      );\n      const rowData = getRowDataForDetailsElement(details);\n      assert.deepEqual(\n          rowData,\n          [\n            {\n              title: 'Warning',\n              value: 'Cumulative Layout Shifts can result in poor user experiences. It has recently evolved.',\n            },\n            {title: 'Score', value: '0.04218'},\n            {title: 'Cumulative Score', value: '0.04218'},\n            {title: 'Current Cluster ID', value: '1'},\n            {title: 'Current Cluster Score', value: '0.2952'},\n            {title: 'Had recent input', value: 'No'},\n            {title: 'Moved from', value: 'Location: [120,670], Size: [900x900]'},\n            {title: 'Moved to', value: 'Location: [120,1270], Size: [900x478]'},\n            {title: 'Related Node', value: 'A test node name'},\n          ],\n      );\n    });\n\n    it('renders the details for an extension entry properly', async function() {\n      const traceParsedData = await TraceLoader.traceEngine(this, 'extension-tracks-and-marks.json.gz');\n      const extensionEntry = traceParsedData.ExtensionTraceData.extensionTrackData[0].flameChartEntries[0];\n\n      if (!extensionEntry) {\n        throw new Error('Could not find extension entry.');\n      }\n\n      const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          traceParsedData,\n          extensionEntry,\n          new Components.Linkifier.Linkifier(),\n          false,\n      );\n      const rowData = getRowDataForDetailsElement(details);\n      assert.deepEqual(\n          rowData,\n          [\n            {\n              title: 'Description',\n              value: 'This is a top level rendering task',\n            },\n            {title: 'Tip', value: 'A tip to improve this'},\n          ],\n      );\n    });\n\n    it('renders the details for an extension marker properly', async function() {\n      const traceParsedData = await TraceLoader.traceEngine(this, 'extension-tracks-and-marks.json.gz');\n      const extensionMark = traceParsedData.ExtensionTraceData.extensionMarkers[0];\n\n      if (!extensionMark) {\n        throw new Error('Could not find extension mark.');\n      }\n\n      const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          traceParsedData,\n          extensionMark,\n          new Components.Linkifier.Linkifier(),\n          false,\n      );\n      const rowData = getRowDataForDetailsElement(details);\n      assert.deepEqual(\n          rowData,\n          [\n            {\n              title: 'Description',\n              value: 'This marks the start of a task',\n            },\n          ],\n      );\n    });\n\n    it('renders the details for a profile call properly', async function() {\n      Common.Linkifier.registerLinkifier({\n        contextTypes() {\n          return [Timeline.CLSLinkifier.CLSRect];\n        },\n        async loadLinkifier() {\n          return Timeline.CLSLinkifier.Linkifier.instance();\n        },\n      });\n\n      const traceParsedData = await TraceLoader.traceEngine(this, 'simple-js-program.json.gz');\n      const [process] = traceParsedData.Renderer.processes.values();\n      const [thread] = process.threads.values();\n      const profileCalls = thread.entries.filter(entry => TraceEngine.Types.TraceEvents.isProfileCall(entry));\n\n      if (!profileCalls) {\n        throw new Error('Could not find renderer events');\n      }\n\n      const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          traceParsedData,\n          profileCalls[0],\n          new Components.Linkifier.Linkifier(),\n          false,\n      );\n      const rowData = getRowDataForDetailsElement(details);\n      assert.deepEqual(\n          rowData,\n          [\n            {\n              title: 'Function',\n              value: '(anonymous) @ www.google.com:21:17',\n            },\n          ],\n      );\n    });\n    it('renders the stack trace of a ScheduleStyleRecalculation properly', async function() {\n      Common.Linkifier.registerLinkifier({\n        contextTypes() {\n          return [Timeline.CLSLinkifier.CLSRect];\n        },\n        async loadLinkifier() {\n          return Timeline.CLSLinkifier.Linkifier.instance();\n        },\n      });\n\n      const traceParsedData = await TraceLoader.traceEngine(this, 'web-dev.json.gz');\n      TraceLoader.initTraceBoundsManager(traceParsedData);\n      const [process] = traceParsedData.Renderer.processes.values();\n      const [thread] = process.threads.values();\n      const scheduleStyleRecalcs =\n          thread.entries.filter(entry => TraceEngine.Types.TraceEvents.isTraceEventScheduleStyleRecalculation(entry));\n\n      const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          traceParsedData,\n          scheduleStyleRecalcs[1],\n          new Components.Linkifier.Linkifier(),\n          false,\n      );\n      const rowData = getRowDataForDetailsElement(details)[0];\n      assert.deepEqual(\n          rowData,\n          {\n            title: 'Details',\n            value: 'web.dev/js/app.js?v=1423cda3:1:183',\n          },\n      );\n      const stackTraceData = getStackTraceForDetailsElement(details);\n      assert.deepEqual(\n          stackTraceData,\n          ['(anonymous) @ web.dev/js/app.js?v=1423cda3:1:183'],\n      );\n    });\n\n    it('renders the stack trace of a RecalculateStyles properly', async function() {\n      Common.Linkifier.registerLinkifier({\n        contextTypes() {\n          return [Timeline.CLSLinkifier.CLSRect];\n        },\n        async loadLinkifier() {\n          return Timeline.CLSLinkifier.Linkifier.instance();\n        },\n      });\n\n      const traceParsedData = await TraceLoader.traceEngine(this, 'web-dev.json.gz');\n      TraceLoader.initTraceBoundsManager(traceParsedData);\n      const [process] = traceParsedData.Renderer.processes.values();\n      const [thread] = process.threads.values();\n      const stylesRecalc =\n          thread.entries.filter(entry => entry.name === TraceEngine.Types.TraceEvents.KnownEventName.UpdateLayoutTree);\n\n      const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          traceParsedData,\n          stylesRecalc[3],\n          new Components.Linkifier.Linkifier(),\n          false,\n      );\n      const stackTraceData = getStackTraceForDetailsElement(details);\n      assert.deepEqual(\n          stackTraceData,\n          ['(anonymous) @ web.dev/js/app.js?v=1423cda3:1:183'],\n      );\n    });\n\n    it('renders the warning for a trace event in its details', async function() {\n      const traceParsedData = await TraceLoader.traceEngine(this, 'simple-js-program.json.gz');\n\n      const events = traceParsedData.Renderer.allTraceEntries;\n      const longTask = events.find(e => (e.dur || 0) > 1_000_000);\n      if (!longTask) {\n        throw new Error('Could not find Long Task event.');\n      }\n\n      const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          traceParsedData,\n          longTask,\n          new Components.Linkifier.Linkifier(),\n          false,\n      );\n      const rowData = getRowDataForDetailsElement(details);\n      assert.deepEqual(\n          rowData,\n          [\n            {\n              title: 'Warning',\n              value: 'Long task took 1.30\\u00A0s.',\n            },\n          ],\n      );\n    });\n\n    it('shows information for the WebSocketCreate initiator when viewing a WebSocketSendHandshakeRequest event',\n       async function() {\n         const traceParsedData = await TraceLoader.traceEngine(this, 'web-sockets.json.gz');\n         TraceLoader.initTraceBoundsManager(traceParsedData);\n\n         const sendHandshake = traceParsedData.Renderer.allTraceEntries.find(\n             TraceEngine.Types.TraceEvents.isTraceEventWebSocketSendHandshakeRequest);\n         if (!sendHandshake) {\n           throw new Error('Could not find handshake event.');\n         }\n\n         const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n             traceParsedData,\n             sendHandshake,\n             new Components.Linkifier.Linkifier(),\n             false,\n         );\n         const rowData = getRowDataForDetailsElement(details);\n         const expectedRowData = [\n           {title: 'URL', value: 'wss://socketsbay.com/wss/v2/1/demo/'},\n           // The 'First Invalidated' Stack trace\n           {title: undefined, value: 'connect @ socketsbay.com/test-websockets:314:25'},\n           {title: 'Initiated by', 'value': 'Create WebSocket'},\n           {title: 'Pending for', value: '72.0 ms'},\n         ];\n         assert.deepEqual(\n             rowData,\n             expectedRowData,\n         );\n       });\n\n    it('shows information for the events initiated by WebSocketCreate when viewing a WebSocketCreate event',\n       async function() {\n         const traceParsedData = await TraceLoader.traceEngine(this, 'web-sockets.json.gz');\n         TraceLoader.initTraceBoundsManager(traceParsedData);\n\n         const sendHandshake =\n             traceParsedData.Renderer.allTraceEntries.find(TraceEngine.Types.TraceEvents.isTraceEventWebSocketCreate);\n         if (!sendHandshake) {\n           throw new Error('Could not find handshake event.');\n         }\n\n         const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n             traceParsedData,\n             sendHandshake,\n             new Components.Linkifier.Linkifier(),\n             false,\n         );\n         const rowData = getRowDataForDetailsElement(details);\n         const expectedRowData = [\n           {title: 'URL', value: 'wss://socketsbay.com/wss/v2/1/demo/'},\n           // The initiator stack trace\n           {title: undefined, value: 'connect @ socketsbay.com/test-websockets:314:25'},\n           // The 2 entries under \"Initiator for\" are displayed as seperate links and in the UI it is obvious they are seperate\n           {title: 'Initiator for', 'value': 'Send WebSocket Handshake Receive WebSocket Handshake'},\n         ];\n         assert.deepEqual(\n             rowData,\n             expectedRowData,\n         );\n       });\n\n    it('shows the aggregated time information for an event', async function() {\n      const traceParsedData = await TraceLoader.traceEngine(this, 'web-dev.json.gz');\n      const event = traceParsedData.Renderer.allTraceEntries.find(e => e.ts === 1020034919877 && e.name === 'RunTask');\n      if (!event) {\n        throw new Error('Could not find renderer events');\n      }\n      const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildTraceEventDetails(\n          traceParsedData,\n          event,\n          new Components.Linkifier.Linkifier(),\n          true,\n      );\n      const pieChartData = getPieChartDataForDetailsElement(details);\n\n      const expectedPieChartData = [\n        {title: 'System (self)', value: '2\\u00A0ms'},\n        {title: 'System (children)', value: '2\\u00A0ms'},\n        {title: 'Rendering', value: '28\\u00A0ms'},\n        {title: 'Painting', value: '2\\u00A0ms'},\n        {title: 'Total', value: '34\\u00A0ms'},\n      ];\n      assert.deepEqual(\n          pieChartData,\n          expectedPieChartData,\n      );\n    });\n  });\n\n  it('can generate details for a frame', async function() {\n    const traceParsedData = await TraceLoader.traceEngine(this, 'web-dev-with-commit.json.gz');\n    const frame = traceParsedData.Frames.frames.at(0);\n    if (!frame) {\n      throw new Error('Could not find expected frame');\n    }\n    const filmStrip = TraceEngine.Extras.FilmStrip.fromTraceData(traceParsedData);\n    const details =\n        Timeline.TimelineUIUtils.TimelineUIUtils.generateDetailsContentForFrame(frame, filmStrip, filmStrip.frames[0]);\n    const container = document.createElement('div');\n    renderElementIntoDOM(container);\n    container.appendChild(details);\n    // Give the image element time to render and load.\n    await doubleRaf();\n    const img = container.querySelector<HTMLImageElement>('.timeline-filmstrip-preview img');\n    assert.isTrue(img?.currentSrc.includes(filmStrip.frames[0].screenshotEvent.args.dataUri));\n\n    const durationRow = container.querySelector<HTMLElement>('[data-row-title=\"Duration\"]');\n    const durationValue = durationRow?.querySelector<HTMLSpanElement>('.timeline-details-view-row-value span');\n    if (!durationValue) {\n      throw new Error('Could not find duration');\n    }\n    // Strip the unicode spaces out and replace with simple spaces for easy\n    // assertions.\n    const value = (durationValue.innerText.replaceAll(/\\s/g, ' '));\n    assert.strictEqual(value, '37.85 ms (at 109.82 ms)');\n  });\n\n  describe('buildNetworkRequestDetails', function() {\n    it('renders the right details for a network event from TraceEngine', async function() {\n      const traceParsedData = await TraceLoader.traceEngine(this, 'lcp-web-font.json.gz');\n      const networkRequests = traceParsedData.NetworkRequests.byTime;\n      const cssRequest = networkRequests.find(request => {\n        return request.args.data.url === 'https://chromedevtools.github.io/performance-stories/lcp-web-font/app.css';\n      });\n      if (!cssRequest) {\n        throw new Error('Could not find expected network request.');\n      }\n\n      const details = await Timeline.TimelineUIUtils.TimelineUIUtils.buildSyntheticNetworkRequestDetails(\n          traceParsedData,\n          cssRequest,\n          new Components.Linkifier.Linkifier(),\n      );\n\n      const rowData = getRowDataForDetailsElement(details);\n\n      assert.deepEqual(\n          rowData,\n          [\n            {title: 'URL', value: 'chromedevtools.github.io/performance-stories/lcp-web-font/app.css'},\n            {title: 'Duration', value: '12.58\\xA0ms (8.29\\xA0ms load from cache + 4.29\\xA0ms resource loading)'},\n            {title: 'Request Method', value: 'GET'},\n            {title: 'Initial Priority', value: 'Highest'},\n            {title: 'Priority', value: 'Highest'},\n            {title: 'Mime Type', value: 'text/css'},\n            {title: 'Encoded Data', value: ' (from cache)'},\n            {title: 'Decoded Body', value: '96 B'},\n          ],\n      );\n    });\n  });\n\n  describe('eventTitle', function() {\n    it('renders the correct title for an EventTiming interaction event', async function() {\n      const traceParsedData = await TraceLoader.traceEngine(this, 'slow-interaction-button-click.json.gz');\n      const interactionEvent = traceParsedData.UserInteractions.interactionEventsWithNoNesting[0];\n      const details = Timeline.TimelineUIUtils.TimelineUIUtils.eventTitle(interactionEvent);\n      assert.deepEqual(details, 'Pointer');\n    });\n\n    it('will use the resolved function name for a profile node that has a sourcemap', async function() {\n      // Timeline.SourceMapsResolver.SourceMapsResolver.\n      const traceParsedData = await TraceLoader.traceEngine(this, 'slow-interaction-button-click.json.gz');\n\n      const mainThread = getMainThread(traceParsedData.Renderer);\n      const profileEntry = mainThread.entries.find(entry => {\n        return TraceEngine.Types.TraceEvents.isProfileCall(entry);\n      });\n      if (!profileEntry || !TraceEngine.Types.TraceEvents.isProfileCall(profileEntry)) {\n        throw new Error('Could not find a profile entry');\n      }\n\n      // Fake that we resolved the entry's name from a sourcemap.\n      Timeline.SourceMapsResolver.SourceMapsResolver.storeResolvedNodeNameForEntry(\n          profileEntry.pid, profileEntry.tid, profileEntry.nodeId, 'resolved-function-test');\n\n      const title = Timeline.TimelineUIUtils.TimelineUIUtils.eventTitle(profileEntry);\n      assert.strictEqual(title, 'resolved-function-test');\n    });\n  });\n\n  describe('eventStyle', function() {\n    it('returns the correct style for profile calls', async function() {\n      const traceParsedData = await TraceLoader.traceEngine(this, 'simple-js-program.json.gz');\n      const rendererHandler = traceParsedData.Renderer;\n      if (!rendererHandler) {\n        throw new Error('RendererHandler is undefined');\n      }\n      const [process] = rendererHandler.processes.values();\n      const [thread] = process.threads.values();\n      const profileCalls = thread.entries.filter(entry => TraceEngine.Types.TraceEvents.isProfileCall(entry));\n      const style = Timeline.TimelineUIUtils.TimelineUIUtils.eventStyle(profileCalls[0]);\n      assert.strictEqual(style.category.name, 'scripting');\n      assert.strictEqual(style.category.color, 'rgb(250 204 21 / 100%)');\n    });\n  });\n\n  describe('statsForTimeRange', () => {\n    it('correctly aggregates up stats', async () => {\n      const mainThread = TraceEngine.Types.TraceEvents.ThreadID(1);\n      const pid = TraceEngine.Types.TraceEvents.ProcessID(100);\n      function microsec(x: number): TraceEngine.Types.Timing.MicroSeconds {\n        return TraceEngine.Types.Timing.MicroSeconds(x);\n      }\n\n      const events: TraceEngine.Types.TraceEvents.TraceEventData[] = [\n        {\n          cat: 'disabled-by-default-devtools.timeline',\n          name: 'TracingStartedInBrowser',\n          ph: TraceEngine.Types.TraceEvents.Phase.INSTANT,\n          pid: pid,\n          tid: mainThread,\n          ts: microsec(100),\n          args: {\n            data: {\n              frames: [\n                {frame: 'frame1', url: 'frameurl', name: 'frame-name'},\n              ],\n            },\n          },\n        } as TraceEngine.Types.TraceEvents.TraceEventTracingStartedInBrowser,\n        {\n          cat: 'disabled-by-default-devtools.timeline',\n          name: 'SetLayerTreeId',\n          ph: TraceEngine.Types.TraceEvents.Phase.INSTANT,\n          pid: pid,\n          tid: mainThread,\n          ts: microsec(101),\n          args: {data: {frame: 'frame1', layerTreeId: 17}},\n        } as TraceEngine.Types.TraceEvents.TraceEventSetLayerTreeId,\n        {\n          cat: 'toplevel',\n          name: 'Program',\n          ph: TraceEngine.Types.TraceEvents.Phase.COMPLETE,\n          ts: microsec(100000),\n          dur: microsec(3000),\n          tid: mainThread,\n          pid: pid,\n          args: {},\n        },\n        {\n          cat: 'disabled-by-default-devtools.timeline',\n          name: 'FunctionCall',\n          ph: TraceEngine.Types.TraceEvents.Phase.COMPLETE,\n          ts: microsec(100500),\n          dur: microsec(1500),\n          tid: mainThread,\n          pid: pid,\n          args: {},\n        },\n        {\n          cat: 'disabled-by-default-devtools.timeline',\n          name: 'Layout',\n          ph: TraceEngine.Types.TraceEvents.Phase.COMPLETE,\n          ts: microsec(101000),\n          dur: microsec(1000),\n          tid: mainThread,\n          pid: pid,\n          args: {\n            beginData: {\n              frame: 'FAKE_FRAME_ID',\n              dirtyObjects: 0,\n              partialLayout: false,\n              totalObjects: 1,\n            },\n            endData: {layoutRoots: []},\n          },\n        } as TraceEngine.Types.TraceEvents.TraceEventLayout,\n\n        {\n          cat: 'toplevel',\n          name: 'Program',\n          ph: TraceEngine.Types.TraceEvents.Phase.COMPLETE,\n          ts: microsec(104000),\n          dur: microsec(4000),\n          tid: mainThread,\n          pid: pid,\n          args: {},\n        },\n        {\n          cat: 'disabled-by-default-devtools.timeline',\n          name: 'FunctionCall',\n          ph: TraceEngine.Types.TraceEvents.Phase.COMPLETE,\n          ts: microsec(104000),\n          dur: microsec(1000),\n          tid: mainThread,\n          pid: pid,\n          args: {},\n        },\n        {\n          cat: 'disabled-by-default-devtools.timeline',\n          name: 'CommitLoad',\n          ph: TraceEngine.Types.TraceEvents.Phase.COMPLETE,\n          ts: microsec(105000),\n          dur: microsec(1000),\n          tid: mainThread,\n          pid: pid,\n          args: {},\n        },\n        {\n          cat: 'disabled-by-default-devtools.timeline',\n          name: 'Layout',\n          ph: TraceEngine.Types.TraceEvents.Phase.COMPLETE,\n          ts: microsec(107000),\n          dur: microsec(1000),\n          tid: mainThread,\n          pid: pid,\n          args: {\n            beginData: {\n              frame: 'FAKE_FRAME_ID',\n              dirtyObjects: 0,\n              partialLayout: false,\n              totalObjects: 1,\n            },\n            endData: {layoutRoots: []},\n          },\n        } as TraceEngine.Types.TraceEvents.TraceEventLayout,\n      ];\n\n      const rangeStats101To103 = Timeline.TimelineUIUtils.TimelineUIUtils.statsForTimeRange(\n          events,\n          TraceEngine.Types.Timing.MilliSeconds(101),\n          TraceEngine.Types.Timing.MilliSeconds(103),\n      );\n      assert.deepEqual(rangeStats101To103, {\n        other: 1,\n        rendering: 1,\n        scripting: 0,\n        idle: 0,\n      });\n      const rangeStats104To109 = Timeline.TimelineUIUtils.TimelineUIUtils.statsForTimeRange(\n          events,\n          TraceEngine.Types.Timing.MilliSeconds(104),\n          TraceEngine.Types.Timing.MilliSeconds(109),\n      );\n      assert.deepEqual(rangeStats104To109, {\n        other: 2,\n        rendering: 1,\n        scripting: 1,\n        idle: 1,\n      });\n    });\n  });\n\n  describe('isMarkerEvent', () => {\n    it('is true for a timestamp event', async function() {\n      const traceParsedData = await TraceLoader.traceEngine(this, 'web-dev-initial-url.json.gz');\n      const timestamp =\n          traceParsedData.Renderer.allTraceEntries.find(TraceEngine.Types.TraceEvents.isTraceEventTimeStamp);\n      assert.isOk(timestamp);\n      assert.isTrue(Timeline.TimelineUIUtils.isMarkerEvent(traceParsedData, timestamp));\n    });\n\n    it('is true for a Mark First Paint event', async function() {\n      const traceParsedData = await TraceLoader.traceEngine(this, 'web-dev-initial-url.json.gz');\n      const markFirstPaint =\n          traceParsedData.PageLoadMetrics.allMarkerEvents.find(TraceEngine.Types.TraceEvents.isTraceEventFirstPaint);\n      assert.isOk(markFirstPaint);\n      assert.isTrue(Timeline.TimelineUIUtils.isMarkerEvent(traceParsedData, markFirstPaint));\n    });\n\n    it('is true for a Mark FCP event', async function() {\n      const traceParsedData = await TraceLoader.traceEngine(this, 'web-dev-initial-url.json.gz');\n      const markFCPEvent = traceParsedData.PageLoadMetrics.allMarkerEvents.find(\n          TraceEngine.Types.TraceEvents.isTraceEventFirstContentfulPaint);\n      assert.isOk(markFCPEvent);\n      assert.isTrue(Timeline.TimelineUIUtils.isMarkerEvent(traceParsedData, markFCPEvent));\n    });\n\n    it('is false for a Mark FCP event not on the main frame', async function() {\n      const traceParsedData = await TraceLoader.traceEngine(this, 'web-dev-initial-url.json.gz');\n      const markFCPEvent = traceParsedData.PageLoadMetrics.allMarkerEvents.find(\n          TraceEngine.Types.TraceEvents.isTraceEventFirstContentfulPaint);\n      assert.isOk(markFCPEvent);\n      assert.isOk(markFCPEvent.args);\n      // Now make a copy (so we do not mutate any data) and pretend it is not on the main frame.\n      const copyOfEvent = {...markFCPEvent, args: {...markFCPEvent.args}};\n      copyOfEvent.args.frame = 'not-the-main-frame';\n      assert.isFalse(Timeline.TimelineUIUtils.isMarkerEvent(traceParsedData, copyOfEvent));\n    });\n\n    it('is true for a MarkDOMContent event', async function() {\n      const traceParsedData = await TraceLoader.traceEngine(this, 'web-dev-initial-url.json.gz');\n      const markDOMContentEvent = traceParsedData.PageLoadMetrics.allMarkerEvents.find(\n          TraceEngine.Types.TraceEvents.isTraceEventMarkDOMContent);\n      assert.isOk(markDOMContentEvent);\n      assert.isTrue(Timeline.TimelineUIUtils.isMarkerEvent(traceParsedData, markDOMContentEvent));\n    });\n\n    it('is true for a MarkLoad event', async function() {\n      const traceParsedData = await TraceLoader.traceEngine(this, 'web-dev-initial-url.json.gz');\n      const markLoadEvent =\n          traceParsedData.PageLoadMetrics.allMarkerEvents.find(TraceEngine.Types.TraceEvents.isTraceEventMarkLoad);\n      assert.isOk(markLoadEvent);\n      assert.isTrue(Timeline.TimelineUIUtils.isMarkerEvent(traceParsedData, markLoadEvent));\n    });\n\n    it('is true for a LCP candiadate event', async function() {\n      const traceParsedData = await TraceLoader.traceEngine(this, 'web-dev-initial-url.json.gz');\n      const markLCPCandidate = traceParsedData.PageLoadMetrics.allMarkerEvents.find(\n          TraceEngine.Types.TraceEvents.isTraceEventLargestContentfulPaintCandidate);\n      assert.isOk(markLCPCandidate);\n      assert.isTrue(Timeline.TimelineUIUtils.isMarkerEvent(traceParsedData, markLCPCandidate));\n    });\n\n    it('is false for a MarkDOMContent event not on outermost main frame', async function() {\n      const traceParsedData = await TraceLoader.traceEngine(this, 'web-dev-initial-url.json.gz');\n      const markDOMContentEvent = traceParsedData.PageLoadMetrics.allMarkerEvents.find(\n          TraceEngine.Types.TraceEvents.isTraceEventMarkDOMContent);\n      assert.isOk(markDOMContentEvent);\n      assert.isOk(markDOMContentEvent.args);\n      assert.isOk(markDOMContentEvent.args.data);\n\n      const copyOfEventNotOutermostFrame = {\n        ...markDOMContentEvent,\n        args: {\n          ...markDOMContentEvent.args,\n          data: {\n            ...markDOMContentEvent.args.data,\n            isOutermostMainFrame: false,\n          },\n        },\n\n      };\n      assert.isFalse(Timeline.TimelineUIUtils.isMarkerEvent(traceParsedData, copyOfEventNotOutermostFrame));\n    });\n  });\n\n  describe('displayNameForFrame', () => {\n    it('trims the URL at 80 chars by default', async () => {\n      const frame: TraceEngine.Types.TraceEvents.TraceFrame = {\n        name: 'test-frame',\n        url: 'https://' +\n            'a'.repeat(80),\n        frame: 'frame-id',\n        processId: TraceEngine.Types.TraceEvents.ProcessID(1),\n      };\n      const name = Timeline.TimelineUIUtils.TimelineUIUtils.displayNameForFrame(frame);\n      assert.strictEqual(name, `https://${'a'.repeat(72) /* 80 minus the 8 chars for 'https://' */}`);\n      assert.lengthOf(name, 80);\n    });\n\n    it('uses the frame name if the URL is about:', async () => {\n      const frame: TraceEngine.Types.TraceEvents.TraceFrame = {\n        name: 'test-frame',\n        url: 'about:blank',\n        frame: 'frame-id',\n        processId: TraceEngine.Types.TraceEvents.ProcessID(1),\n      };\n      const name = Timeline.TimelineUIUtils.TimelineUIUtils.displayNameForFrame(frame);\n      assert.strictEqual(name, '\"test-frame\"');\n    });\n\n    it('trims the frame name from the middle if it is too long', async () => {\n      const frame: TraceEngine.Types.TraceEvents.TraceFrame = {\n        name: 'test-frame-that-is-long',\n        url: 'about:blank',\n        frame: 'frame-id',\n        processId: TraceEngine.Types.TraceEvents.ProcessID(1),\n      };\n      const name = Timeline.TimelineUIUtils.TimelineUIUtils.displayNameForFrame(frame, 10);\n      assert.strictEqual(name, '\"test-…long\"');\n    });\n  });\n\n  describe('buildDetailsNodeForMarkerEvents', () => {\n    it('builds the right link for an LCP Event', async function() {\n      const traceParsedData = await TraceLoader.traceEngine(this, 'web-dev.json.gz');\n      const markLCPEvent = getEventOfType(\n          traceParsedData.PageLoadMetrics.allMarkerEvents,\n          TraceEngine.Types.TraceEvents.isTraceEventLargestContentfulPaintCandidate);\n      const html = Timeline.TimelineUIUtils.TimelineUIUtils.buildDetailsNodeForMarkerEvents(\n          markLCPEvent,\n      );\n      const url = html.querySelector('x-link')?.getAttribute('href');\n      assert.strictEqual(url, 'https://web.dev/lcp/');\n      assert.strictEqual(html.innerText, 'Learn more about largest contentful paint.');\n    });\n\n    it('builds the right link for an FCP Event', async function() {\n      const traceParsedData = await TraceLoader.traceEngine(this, 'web-dev.json.gz');\n      const markFCPEvent = getEventOfType(\n          traceParsedData.PageLoadMetrics.allMarkerEvents,\n          TraceEngine.Types.TraceEvents.isTraceEventFirstContentfulPaint);\n      const html = Timeline.TimelineUIUtils.TimelineUIUtils.buildDetailsNodeForMarkerEvents(\n          markFCPEvent,\n      );\n      const url = html.querySelector('x-link')?.getAttribute('href');\n      assert.strictEqual(url, 'https://web.dev/first-contentful-paint/');\n      assert.strictEqual(html.innerText, 'Learn more about first contentful paint.');\n    });\n\n    it('builds a generic event for other marker events', async function() {\n      const traceParsedData = await TraceLoader.traceEngine(this, 'web-dev.json.gz');\n      const markLoadEvent = getEventOfType(\n          traceParsedData.PageLoadMetrics.allMarkerEvents, TraceEngine.Types.TraceEvents.isTraceEventMarkLoad);\n      const html = Timeline.TimelineUIUtils.TimelineUIUtils.buildDetailsNodeForMarkerEvents(\n          markLoadEvent,\n      );\n      const url = html.querySelector('x-link')?.getAttribute('href');\n      assert.strictEqual(url, 'https://web.dev/user-centric-performance-metrics/');\n      assert.strictEqual(html.innerText, 'Learn more about page performance metrics.');\n    });\n  });\n});\n"]}