{"version":3,"file":"PreloadingDetailsReportView.js","sourceRoot":"","sources":["../../../../../../../../front_end/panels/application/preloading/components/PreloadingDetailsReportView.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2022 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../../../../core/common/common.js';\nimport * as i18n from '../../../../core/i18n/i18n.js';\nimport type * as Platform from '../../../../core/platform/platform.js';\nimport {assertNotNullOrUndefined} from '../../../../core/platform/platform.js';\nimport * as SDK from '../../../../core/sdk/sdk.js';\nimport * as Protocol from '../../../../generated/protocol.js';\nimport * as Logs from '../../../../models/logs/logs.js';\nimport * as Buttons from '../../../../ui/components/buttons/buttons.js';\nimport * as LegacyWrapper from '../../../../ui/components/legacy_wrapper/legacy_wrapper.js';\nimport * as Coordinator from '../../../../ui/components/render_coordinator/render_coordinator.js';\nimport * as ReportView from '../../../../ui/components/report_view/report_view.js';\nimport * as RequestLinkIcon from '../../../../ui/components/request_link_icon/request_link_icon.js';\nimport * as UI from '../../../../ui/legacy/legacy.js';\nimport * as LitHtml from '../../../../ui/lit-html/lit-html.js';\nimport * as VisualLogging from '../../../../ui/visual_logging/visual_logging.js';\nimport * as PreloadingHelper from '../helper/helper.js';\n\nimport preloadingDetailsReportViewStyles from './preloadingDetailsReportView.css.js';\nimport * as PreloadingString from './PreloadingString.js';\nimport {prefetchFailureReason, prerenderFailureReason, ruleSetLocationShort} from './PreloadingString.js';\n\nconst UIStrings = {\n  /**\n   *@description Text in PreloadingDetailsReportView of the Application panel\n   */\n  selectAnElementForMoreDetails: 'Select an element for more details',\n  /**\n   *@description Text in details\n   */\n  detailsDetailedInformation: 'Detailed information',\n  /**\n   *@description Text in details\n   */\n  detailsAction: 'Action',\n  /**\n   *@description Text in details\n   */\n  detailsStatus: 'Status',\n  /**\n   *@description Text in details\n   */\n  detailsFailureReason: 'Failure reason',\n  /**\n   *@description Header of rule set\n   */\n  detailsRuleSet: 'Rule set',\n  /**\n   *@description Description: status\n   */\n  detailedStatusNotTriggered: 'Speculative load attempt is not yet triggered.',\n  /**\n   *@description Description: status\n   */\n  detailedStatusPending: 'Speculative load attempt is eligible but pending.',\n  /**\n   *@description Description: status\n   */\n  detailedStatusRunning: 'Speculative load is running.',\n  /**\n   *@description Description: status\n   */\n  detailedStatusReady: 'Speculative load finished and the result is ready for the next navigation.',\n  /**\n   *@description Description: status\n   */\n  detailedStatusSuccess: 'Speculative load finished and used for a navigation.',\n  /**\n   *@description Description: status\n   */\n  detailedStatusFailure: 'Speculative load failed.',\n  /**\n   *@description button: Contents of button to inspect prerendered page\n   */\n  buttonInspect: 'Inspect',\n  /**\n   *@description button: Title of button to inspect prerendered page\n   */\n  buttonClickToInspect: 'Click to inspect prerendered page',\n  /**\n   *@description button: Title of button to reveal rule set\n   */\n  buttonClickToRevealRuleSet: 'Click to reveal rule set',\n};\nconst str_ =\n    i18n.i18n.registerUIStrings('panels/application/preloading/components/PreloadingDetailsReportView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nclass PreloadingUIUtils {\n  static detailedStatus({status}: SDK.PreloadingModel.PreloadingAttempt): string {\n    // See content/public/browser/preloading.h PreloadingAttemptOutcome.\n    switch (status) {\n      case SDK.PreloadingModel.PreloadingStatus.NotTriggered:\n        return i18nString(UIStrings.detailedStatusNotTriggered);\n      case SDK.PreloadingModel.PreloadingStatus.Pending:\n        return i18nString(UIStrings.detailedStatusPending);\n      case SDK.PreloadingModel.PreloadingStatus.Running:\n        return i18nString(UIStrings.detailedStatusRunning);\n      case SDK.PreloadingModel.PreloadingStatus.Ready:\n        return i18nString(UIStrings.detailedStatusReady);\n      case SDK.PreloadingModel.PreloadingStatus.Success:\n        return i18nString(UIStrings.detailedStatusSuccess);\n      case SDK.PreloadingModel.PreloadingStatus.Failure:\n        return i18nString(UIStrings.detailedStatusFailure);\n      // NotSupported is used to handle unreachable case. For example,\n      // there is no code path for\n      // PreloadingTriggeringOutcome::kTriggeredButPending in prefetch,\n      // which is mapped to NotSupported. So, we regard it as an\n      // internal error.\n      case SDK.PreloadingModel.PreloadingStatus.NotSupported:\n        return i18n.i18n.lockedString('Internal error');\n    }\n  }\n}\n\nconst coordinator = Coordinator.RenderCoordinator.RenderCoordinator.instance();\n\nexport type PreloadingDetailsReportViewData = PreloadingDetailsReportViewDataInternal|null;\ninterface PreloadingDetailsReportViewDataInternal {\n  preloadingAttempt: SDK.PreloadingModel.PreloadingAttempt;\n  ruleSets: Protocol.Preload.RuleSet[];\n  pageURL: Platform.DevToolsPath.UrlString;\n  requestResolver?: Logs.RequestResolver.RequestResolver;\n}\n\nexport class PreloadingDetailsReportView extends LegacyWrapper.LegacyWrapper.WrappableComponent<UI.Widget.VBox> {\n  static readonly litTagName = LitHtml.literal`devtools-resources-preloading-details-report-view`;\n\n  readonly #shadow = this.attachShadow({mode: 'open'});\n  #data: PreloadingDetailsReportViewData = null;\n\n  connectedCallback(): void {\n    this.#shadow.adoptedStyleSheets = [preloadingDetailsReportViewStyles];\n  }\n\n  set data(data: PreloadingDetailsReportViewData) {\n    this.#data = data;\n    void this.#render();\n  }\n\n  async #render(): Promise<void> {\n    await coordinator.write('PreloadingDetailsReportView render', () => {\n      if (this.#data === null) {\n        // Disabled until https://crbug.com/1079231 is fixed.\n        // clang-format off\n        LitHtml.render(LitHtml.html`\n          <div class=\"preloading-noselected\">\n            <div>\n              <p>${i18nString(UIStrings.selectAnElementForMoreDetails)}</p>\n            </div>\n          </div>\n        `, this.#shadow, {host: this});\n        // clang-format on\n        return;\n      }\n\n      const detailedStatus = PreloadingUIUtils.detailedStatus(this.#data.preloadingAttempt);\n      const pageURL = this.#data.pageURL;\n\n      // Disabled until https://crbug.com/1079231 is fixed.\n      // clang-format off\n      LitHtml.render(LitHtml.html`\n        <${ReportView.ReportView.Report.litTagName} .data=${{reportTitle: 'Speculative Loading Attempt'} as ReportView.ReportView.ReportData}\n        jslog=${VisualLogging.section('preloading-details')}>\n          <${ReportView.ReportView.ReportSectionHeader.litTagName}>${i18nString(UIStrings.detailsDetailedInformation)}</${\n            ReportView.ReportView.ReportSectionHeader.litTagName}>\n\n          ${this.#url()}\n          ${this.#action()}\n\n          <${ReportView.ReportView.ReportKey.litTagName}>${i18nString(UIStrings.detailsStatus)}</${\n            ReportView.ReportView.ReportKey.litTagName}>\n          <${ReportView.ReportView.ReportValue.litTagName}>\n            ${detailedStatus}\n          </${ReportView.ReportView.ReportValue.litTagName}>\n\n          ${this.#maybePrefetchFailureReason()}\n          ${this.#maybePrerenderFailureReason()}\n\n          ${this.#data.ruleSets.map(ruleSet => this.#renderRuleSet(ruleSet, pageURL))}\n        </${ReportView.ReportView.Report.litTagName}>\n      `, this.#shadow, {host: this});\n      // clang-format on\n    });\n  }\n\n  #url(): LitHtml.LitTemplate {\n    assertNotNullOrUndefined(this.#data);\n    const attempt = this.#data.preloadingAttempt;\n\n    let value;\n    if (attempt.action === Protocol.Preload.SpeculationAction.Prefetch && attempt.requestId !== undefined) {\n      // Disabled until https://crbug.com/1079231 is fixed.\n      // clang-format off\n      value = LitHtml.html`\n          <${RequestLinkIcon.RequestLinkIcon.RequestLinkIcon.litTagName}\n            .data=${\n              {\n                affectedRequest: {\n                  requestId: attempt.requestId,\n                  url: attempt.key.url,\n                },\n                requestResolver: this.#data.requestResolver || new Logs.RequestResolver.RequestResolver(),\n                displayURL: true,\n                urlToDisplay: attempt.key.url,\n              } as RequestLinkIcon.RequestLinkIcon.RequestLinkIconData\n            }\n          >\n          </${RequestLinkIcon.RequestLinkIcon.RequestLinkIcon.litTagName}>\n      `;\n    } else {\n      // Disabled until https://crbug.com/1079231 is fixed.\n      // clang-format off\n      value = LitHtml.html`\n          <div class=\"text-ellipsis\" title=${attempt.key.url}>${attempt.key.url}</div>\n      `;\n      // clang-format on\n    }\n\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    return LitHtml.html`\n        <${ReportView.ReportView.ReportKey.litTagName}>${i18n.i18n.lockedString('URL')}</${\n          ReportView.ReportView.ReportKey.litTagName}>\n        <${ReportView.ReportView.ReportValue.litTagName}>\n          ${value}\n        </${ReportView.ReportView.ReportValue.litTagName}>\n    `;\n    // clang-format on\n  }\n\n  #action(): LitHtml.LitTemplate {\n    assertNotNullOrUndefined(this.#data);\n    const attempt = this.#data.preloadingAttempt;\n\n    const action = PreloadingString.capitalizedAction(this.#data.preloadingAttempt.action);\n\n    let maybeInspectButton: LitHtml.LitTemplate = LitHtml.nothing;\n    (() => {\n      if (attempt.action !== Protocol.Preload.SpeculationAction.Prerender) {\n        return;\n      }\n\n      const target = SDK.TargetManager.TargetManager.instance().primaryPageTarget();\n      if (target === null) {\n        return;\n      }\n\n      const prerenderTarget = SDK.TargetManager.TargetManager.instance().targets().find(\n          child => child.targetInfo()?.subtype === 'prerender' && child.inspectedURL() === attempt.key.url);\n\n      const disabled = (prerenderTarget === undefined);\n      const inspect = (): void => {\n        if (prerenderTarget === undefined) {\n          return;\n        }\n        UI.Context.Context.instance().setFlavor(SDK.Target.Target, prerenderTarget);\n      };\n      // Disabled until https://crbug.com/1079231 is fixed.\n      // clang-format off\n      maybeInspectButton = LitHtml.html`\n          <${Buttons.Button.Button.litTagName}\n            @click=${inspect}\n            .title=${i18nString(UIStrings.buttonClickToInspect)}\n            .size=${Buttons.Button.Size.SMALL}\n            .variant=${Buttons.Button.Variant.OUTLINED}\n            .disabled=${disabled}\n            jslog=${VisualLogging.action('inspect-prerendered-page').track({click: true})}\n          >\n            ${i18nString(UIStrings.buttonInspect)}\n          </${Buttons.Button.Button.litTagName}>\n      `;\n      // clang-format on\n    })();\n\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    return LitHtml.html`\n        <${ReportView.ReportView.ReportKey.litTagName}>${i18nString(UIStrings.detailsAction)}</${\n          ReportView.ReportView.ReportKey.litTagName}>\n        <${ReportView.ReportView.ReportValue.litTagName}>\n          <div class=\"text-ellipsis\" title=\"\">\n            ${action}\n            ${maybeInspectButton}\n          </div>\n        </${ReportView.ReportView.ReportValue.litTagName}>\n    `;\n    // clang-format on\n  }\n\n  #maybePrefetchFailureReason(): LitHtml.LitTemplate {\n    assertNotNullOrUndefined(this.#data);\n    const attempt = this.#data.preloadingAttempt;\n\n    if (attempt.action !== Protocol.Preload.SpeculationAction.Prefetch) {\n      return LitHtml.nothing;\n    }\n\n    const failureDescription = prefetchFailureReason(attempt);\n    if (failureDescription === null) {\n      return LitHtml.nothing;\n    }\n\n    return LitHtml.html`\n        <${ReportView.ReportView.ReportKey.litTagName}>${i18nString(UIStrings.detailsFailureReason)}</${\n        ReportView.ReportView.ReportKey.litTagName}>\n        <${ReportView.ReportView.ReportValue.litTagName}>\n          ${failureDescription}\n        </${ReportView.ReportView.ReportValue.litTagName}>\n    `;\n  }\n\n  #maybePrerenderFailureReason(): LitHtml.LitTemplate {\n    assertNotNullOrUndefined(this.#data);\n    const attempt = this.#data.preloadingAttempt;\n\n    if (attempt.action !== Protocol.Preload.SpeculationAction.Prerender) {\n      return LitHtml.nothing;\n    }\n\n    const failureReason = prerenderFailureReason(attempt);\n    if (failureReason === null) {\n      return LitHtml.nothing;\n    }\n\n    return LitHtml.html`\n        <${ReportView.ReportView.ReportKey.litTagName}>${i18nString(UIStrings.detailsFailureReason)}</${\n        ReportView.ReportView.ReportKey.litTagName}>\n        <${ReportView.ReportView.ReportValue.litTagName}>\n          ${failureReason}\n        </${ReportView.ReportView.ReportValue.litTagName}>\n    `;\n  }\n\n  #renderRuleSet(ruleSet: Protocol.Preload.RuleSet, pageURL: Platform.DevToolsPath.UrlString): LitHtml.LitTemplate {\n    const revealRuleSetView = (): void => {\n      void Common.Revealer.reveal(new PreloadingHelper.PreloadingForward.RuleSetView(ruleSet.id));\n    };\n    const location = ruleSetLocationShort(ruleSet, pageURL);\n\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    return LitHtml.html`\n      <${ReportView.ReportView.ReportKey.litTagName}>${i18nString(UIStrings.detailsRuleSet)}</${\n        ReportView.ReportView.ReportKey.litTagName}>\n      <${ReportView.ReportView.ReportValue.litTagName}>\n        <div class=\"text-ellipsis\" title=\"\">\n          <button class=\"link\" role=\"link\"\n            @click=${revealRuleSetView}\n            title=${i18nString(UIStrings.buttonClickToRevealRuleSet)}\n            style=${LitHtml.Directives.styleMap({\n              color: 'var(--sys-color-primary)',\n              'text-decoration': 'underline',\n            })}\n            jslog=${VisualLogging.action('reveal-rule-set').track({click: true})}\n          >\n            ${location}\n          </button>\n        </div>\n      </${ReportView.ReportView.ReportValue.litTagName}>\n    `;\n    // clang-format on\n  }\n}\n\ncustomElements.define('devtools-resources-preloading-details-report-view', PreloadingDetailsReportView);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'devtools-resources-preloading-details-report-view': PreloadingDetailsReportView;\n  }\n}\n"]}