{"version":3,"file":"RequestCookiesView.js","sourceRoot":"","sources":["../../../../../../front_end/panels/network/RequestCookiesView.ts"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright (C) 2011 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as Protocol from '../../generated/protocol.js';\nimport * as IconButton from '../../ui/components/icon_button/icon_button.js';\nimport * as CookieTable from '../../ui/legacy/components/cookie_table/cookie_table.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\n\nimport requestCookiesViewStyles from './requestCookiesView.css.js';\n\nconst UIStrings = {\n  /**\n   *@description Text in Request Cookies View of the Network panel\n   */\n  thisRequestHasNoCookies: 'This request has no cookies.',\n  /**\n   * @description Title for a table which shows all of the cookies associated with a selected network\n   * request, in the Network panel. Noun phrase.\n   */\n  requestCookies: 'Request Cookies',\n  /**\n   *@description Tooltip to explain what request cookies are\n   */\n  cookiesThatWereSentToTheServerIn: 'Cookies that were sent to the server in the \\'cookie\\' header of the request',\n  /**\n   *@description Label for showing request cookies that were not actually sent\n   */\n  showFilteredOutRequestCookies: 'show filtered out request cookies',\n  /**\n   *@description Text in Request Headers View of the Network Panel\n   */\n  noRequestCookiesWereSent: 'No request cookies were sent.',\n  /**\n   *@description Text in Request Cookies View of the Network panel\n   */\n  responseCookies: 'Response Cookies',\n  /**\n   *@description Tooltip to explain what response cookies are\n   */\n  cookiesThatWereReceivedFromThe:\n      'Cookies that were received from the server in the \\'`set-cookie`\\' header of the response',\n  /**\n   *@description Label for response cookies with invalid syntax\n   */\n  malformedResponseCookies: 'Malformed Response Cookies',\n  /**\n   * @description Tooltip to explain what malformed response cookies are. Malformed cookies are\n   * cookies that did not match the expected format and could not be interpreted, and are invalid.\n   */\n  cookiesThatWereReceivedFromTheServer:\n      'Cookies that were received from the server in the \\'`set-cookie`\\' header of the response but were malformed',\n\n  /**\n   * @description Informational text to explain that there were other cookies\n   * that were not used and not shown in the list.\n   * @example {Learn more} PH1\n   *\n   */\n  siteHasCookieInOtherPartition:\n      'This site has cookies in another partition, that were not sent with this request. {PH1}',\n  /**\n   * @description Title of a link to the developer documentation.\n   */\n  learnMore: 'Learn more',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/network/RequestCookiesView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport class RequestCookiesView extends UI.Widget.Widget {\n  private request: SDK.NetworkRequest.NetworkRequest;\n  private readonly showFilteredOutCookiesSetting: Common.Settings.Setting<boolean>;\n  private readonly emptyWidget: UI.EmptyWidget.EmptyWidget;\n  private readonly requestCookiesTitle: HTMLElement;\n  private readonly requestCookiesEmpty: HTMLElement;\n  private readonly requestCookiesTable: CookieTable.CookiesTable.CookiesTable;\n  private readonly responseCookiesTitle: HTMLElement;\n  private readonly responseCookiesTable: CookieTable.CookiesTable.CookiesTable;\n  private readonly siteHasCookieInOtherPartition: HTMLElement;\n  private readonly malformedResponseCookiesTitle: HTMLElement;\n  private readonly malformedResponseCookiesList: HTMLElement;\n\n  constructor(request: SDK.NetworkRequest.NetworkRequest) {\n    super();\n\n    this.element.classList.add('request-cookies-view');\n    this.element.setAttribute('jslog', `${VisualLogging.pane('cookies').track({resize: true})}`);\n\n    this.request = request;\n    this.showFilteredOutCookiesSetting = Common.Settings.Settings.instance().createSetting(\n        'show-filtered-out-request-cookies', /* defaultValue */ false);\n\n    this.emptyWidget = new UI.EmptyWidget.EmptyWidget(i18nString(UIStrings.thisRequestHasNoCookies));\n    this.emptyWidget.show(this.element);\n\n    this.requestCookiesTitle = this.element.createChild('div');\n    const titleText = this.requestCookiesTitle.createChild('span', 'request-cookies-title');\n    titleText.textContent = i18nString(UIStrings.requestCookies);\n    UI.Tooltip.Tooltip.install(titleText, i18nString(UIStrings.cookiesThatWereSentToTheServerIn));\n\n    const requestCookiesCheckbox =\n        (UI.SettingsUI.createSettingCheckbox(\n             i18nString(UIStrings.showFilteredOutRequestCookies), this.showFilteredOutCookiesSetting, true) as\n         UI.UIUtils.CheckboxLabel);\n    requestCookiesCheckbox.checkboxElement.addEventListener('change', () => {\n      this.refreshRequestCookiesView();\n    });\n    this.requestCookiesTitle.appendChild(requestCookiesCheckbox);\n\n    this.requestCookiesEmpty = this.element.createChild('div', 'cookies-panel-item');\n    this.requestCookiesEmpty.textContent = i18nString(UIStrings.noRequestCookiesWereSent);\n\n    this.requestCookiesTable = new CookieTable.CookiesTable.CookiesTable(/* renderInline */ true);\n    this.requestCookiesTable.contentElement.classList.add('cookie-table', 'cookies-panel-item');\n    this.requestCookiesTable.show(this.element);\n\n    this.siteHasCookieInOtherPartition =\n        this.element.createChild('div', 'cookies-panel-item site-has-cookies-in-other-partition');\n    this.siteHasCookieInOtherPartition.appendChild(\n        i18n.i18n.getFormatLocalizedString(str_, UIStrings.siteHasCookieInOtherPartition, {\n          PH1: UI.XLink.XLink.create(\n              'https://developer.chrome.com/en/docs/privacy-sandbox/chips/', i18nString(UIStrings.learnMore), undefined,\n              undefined, 'learn-more'),\n        }));\n\n    this.responseCookiesTitle = this.element.createChild('div', 'request-cookies-title');\n    this.responseCookiesTitle.textContent = i18nString(UIStrings.responseCookies);\n    this.responseCookiesTitle.title = i18nString(UIStrings.cookiesThatWereReceivedFromThe);\n\n    this.responseCookiesTable = new CookieTable.CookiesTable.CookiesTable(/* renderInline */ true);\n    this.responseCookiesTable.contentElement.classList.add('cookie-table', 'cookies-panel-item');\n    this.responseCookiesTable.show(this.element);\n\n    this.malformedResponseCookiesTitle = this.element.createChild('div', 'request-cookies-title');\n    this.malformedResponseCookiesTitle.textContent = i18nString(UIStrings.malformedResponseCookies);\n    UI.Tooltip.Tooltip.install(\n        this.malformedResponseCookiesTitle, i18nString(UIStrings.cookiesThatWereReceivedFromTheServer));\n\n    this.malformedResponseCookiesList = this.element.createChild('div');\n  }\n\n  private getRequestCookies(): {\n    requestCookies: Array<SDK.Cookie.Cookie>,\n    requestCookieToBlockedReasons: Map<SDK.Cookie.Cookie, SDK.CookieModel.BlockedReason[]>,\n    requestCookieToExemptionReason: Map<SDK.Cookie.Cookie, SDK.CookieModel.ExemptionReason>,\n  } {\n    const requestCookieToBlockedReasons = new Map<SDK.Cookie.Cookie, SDK.CookieModel.BlockedReason[]>();\n    const requestCookieToExemptionReason = new Map<SDK.Cookie.Cookie, SDK.CookieModel.ExemptionReason>();\n    const requestCookies =\n        this.request.includedRequestCookies().map(includedRequestCookie => includedRequestCookie.cookie);\n\n    if (this.showFilteredOutCookiesSetting.get()) {\n      for (const blockedCookie of this.request.blockedRequestCookies()) {\n        requestCookieToBlockedReasons.set(blockedCookie.cookie, blockedCookie.blockedReasons.map(blockedReason => {\n          return {\n            attribute: SDK.NetworkRequest.cookieBlockedReasonToAttribute(blockedReason),\n            uiString: SDK.NetworkRequest.cookieBlockedReasonToUiString(blockedReason),\n          };\n        }));\n        requestCookies.push(blockedCookie.cookie);\n      }\n    }\n    for (const includedCookie of this.request.includedRequestCookies()) {\n      if (includedCookie.exemptionReason) {\n        requestCookieToExemptionReason.set(includedCookie.cookie, {\n          uiString: SDK.NetworkRequest.cookieExemptionReasonToUiString(includedCookie.exemptionReason),\n        });\n      }\n    }\n    return {requestCookies, requestCookieToBlockedReasons, requestCookieToExemptionReason};\n  }\n\n  private getResponseCookies(): {\n    responseCookies: Array<SDK.Cookie.Cookie>,\n    responseCookieToBlockedReasons: Map<SDK.Cookie.Cookie, Array<SDK.CookieModel.BlockedReason>>,\n    responseCookieToExemptionReason: Map<SDK.Cookie.Cookie, SDK.CookieModel.ExemptionReason>,\n    malformedResponseCookies: Array<SDK.NetworkRequest.BlockedSetCookieWithReason>,\n  } {\n    let responseCookies: SDK.Cookie.Cookie[] = [];\n    const responseCookieToBlockedReasons = new Map<SDK.Cookie.Cookie, SDK.CookieModel.BlockedReason[]>();\n    const responseCookieToExemptionReason = new Map<SDK.Cookie.Cookie, SDK.CookieModel.ExemptionReason>();\n    const malformedResponseCookies: SDK.NetworkRequest.BlockedSetCookieWithReason[] = [];\n\n    if (this.request.responseCookies.length) {\n      responseCookies = this.request.nonBlockedResponseCookies();\n      for (const blockedCookie of this.request.blockedResponseCookies()) {\n        const parsedCookies = SDK.CookieParser.CookieParser.parseSetCookie(blockedCookie.cookieLine);\n        if ((parsedCookies && !parsedCookies.length) ||\n            blockedCookie.blockedReasons.includes(Protocol.Network.SetCookieBlockedReason.SyntaxError) ||\n            blockedCookie.blockedReasons.includes(\n                Protocol.Network.SetCookieBlockedReason.NameValuePairExceedsMaxSize)) {\n          malformedResponseCookies.push(blockedCookie);\n          continue;\n        }\n\n        let cookie: SDK.Cookie.Cookie|(SDK.Cookie.Cookie | null) = blockedCookie.cookie;\n        if (!cookie && parsedCookies) {\n          cookie = parsedCookies[0];\n        }\n        if (cookie) {\n          responseCookieToBlockedReasons.set(cookie, blockedCookie.blockedReasons.map(blockedReason => {\n            return {\n              attribute: SDK.NetworkRequest.setCookieBlockedReasonToAttribute(blockedReason),\n              uiString: SDK.NetworkRequest.setCookieBlockedReasonToUiString(blockedReason),\n            };\n          }));\n          responseCookies.push(cookie);\n        }\n      }\n      for (const exemptedCookie of this.request.exemptedResponseCookies()) {\n        // `responseCookies` are generated from `Set-Cookie` header, which should include the exempted cookies, whereas\n        // exempted cookies are received via CDP as objects of type cookie. Therefore they are different objects in\n        // DevTools and need to be matched here in order for the rendering logic to be able to lookup a potential\n        // exemption reason for a cookie.\n        const matchedResponseCookie =\n            responseCookies.find(responseCookie => exemptedCookie.cookieLine === responseCookie.getCookieLine());\n        if (matchedResponseCookie) {\n          responseCookieToExemptionReason.set(matchedResponseCookie, {\n            uiString: SDK.NetworkRequest.cookieExemptionReasonToUiString(exemptedCookie.exemptionReason),\n          });\n        }\n      }\n    }\n\n    return {responseCookies, responseCookieToBlockedReasons, responseCookieToExemptionReason, malformedResponseCookies};\n  }\n\n  private refreshRequestCookiesView(): void {\n    if (!this.isShowing()) {\n      return;\n    }\n\n    const gotCookies = this.request.hasRequestCookies() || this.request.responseCookies.length;\n    if (gotCookies) {\n      this.emptyWidget.hideWidget();\n    } else {\n      this.emptyWidget.showWidget();\n    }\n\n    const {requestCookies, requestCookieToBlockedReasons, requestCookieToExemptionReason} = this.getRequestCookies();\n    const {responseCookies, responseCookieToBlockedReasons, responseCookieToExemptionReason, malformedResponseCookies} =\n        this.getResponseCookies();\n\n    if (requestCookies.length) {\n      this.requestCookiesTitle.classList.remove('hidden');\n      this.requestCookiesEmpty.classList.add('hidden');\n      this.requestCookiesTable.showWidget();\n      this.requestCookiesTable.setCookies(\n          requestCookies, requestCookieToBlockedReasons, requestCookieToExemptionReason);\n\n    } else if (this.request.blockedRequestCookies().length) {\n      this.requestCookiesTitle.classList.remove('hidden');\n      this.requestCookiesEmpty.classList.remove('hidden');\n      this.requestCookiesTable.hideWidget();\n\n    } else {\n      this.requestCookiesTitle.classList.add('hidden');\n      this.requestCookiesEmpty.classList.add('hidden');\n      this.requestCookiesTable.hideWidget();\n    }\n\n    if (responseCookies.length) {\n      this.responseCookiesTitle.classList.remove('hidden');\n      this.responseCookiesTable.showWidget();\n      this.responseCookiesTable.setCookies(\n          responseCookies, responseCookieToBlockedReasons, responseCookieToExemptionReason);\n    } else {\n      this.responseCookiesTitle.classList.add('hidden');\n      this.responseCookiesTable.hideWidget();\n    }\n\n    if (malformedResponseCookies.length) {\n      this.malformedResponseCookiesTitle.classList.remove('hidden');\n      this.malformedResponseCookiesList.classList.remove('hidden');\n\n      this.malformedResponseCookiesList.removeChildren();\n      for (const malformedCookie of malformedResponseCookies) {\n        const listItem = this.malformedResponseCookiesList.createChild('span', 'cookie-line source-code');\n        const icon = new IconButton.Icon.Icon();\n        icon.data = {iconName: 'cross-circle-filled', color: 'var(--icon-error)', width: '14px', height: '14px'};\n        icon.classList.add('cookie-warning-icon');\n        listItem.appendChild(icon);\n        UI.UIUtils.createTextChild(listItem, malformedCookie.cookieLine);\n\n        if (malformedCookie.blockedReasons.includes(\n                Protocol.Network.SetCookieBlockedReason.NameValuePairExceedsMaxSize)) {\n          listItem.title = SDK.NetworkRequest.setCookieBlockedReasonToUiString(\n              Protocol.Network.SetCookieBlockedReason.NameValuePairExceedsMaxSize);\n        } else {\n          listItem.title =\n              SDK.NetworkRequest.setCookieBlockedReasonToUiString(Protocol.Network.SetCookieBlockedReason.SyntaxError);\n        }\n      }\n    } else {\n      this.malformedResponseCookiesTitle.classList.add('hidden');\n      this.malformedResponseCookiesList.classList.add('hidden');\n    }\n\n    if (this.request.siteHasCookieInOtherPartition()) {\n      this.siteHasCookieInOtherPartition.classList.remove('hidden');\n    } else {\n      this.siteHasCookieInOtherPartition.classList.add('hidden');\n    }\n  }\n\n  override wasShown(): void {\n    super.wasShown();\n    this.registerCSSFiles([requestCookiesViewStyles]);\n    this.request.addEventListener(\n        SDK.NetworkRequest.Events.RequestHeadersChanged, this.refreshRequestCookiesView, this);\n    this.request.addEventListener(\n        SDK.NetworkRequest.Events.ResponseHeadersChanged, this.refreshRequestCookiesView, this);\n\n    this.refreshRequestCookiesView();\n  }\n\n  override willHide(): void {\n    this.request.removeEventListener(\n        SDK.NetworkRequest.Events.RequestHeadersChanged, this.refreshRequestCookiesView, this);\n    this.request.removeEventListener(\n        SDK.NetworkRequest.Events.ResponseHeadersChanged, this.refreshRequestCookiesView, this);\n  }\n}\n"]}