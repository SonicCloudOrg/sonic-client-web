{"version":3,"file":"ResponseHeaderSection.js","sourceRoot":"","sources":["../../../../../../../front_end/panels/network/components/ResponseHeaderSection.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2022 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../../../core/common/common.js';\nimport * as Host from '../../../core/host/host.js';\nimport * as i18n from '../../../core/i18n/i18n.js';\nimport * as Platform from '../../../core/platform/platform.js';\nimport {type NameValue} from '../../../core/sdk/NetworkRequest.js';\nimport type * as SDK from '../../../core/sdk/sdk.js';\nimport * as Protocol from '../../../generated/protocol.js';\nimport * as IssuesManager from '../../../models/issues_manager/issues_manager.js';\nimport * as Persistence from '../../../models/persistence/persistence.js';\nimport type * as Workspace from '../../../models/workspace/workspace.js';\nimport * as NetworkForward from '../../../panels/network/forward/forward.js';\nimport * as Sources from '../../../panels/sources/sources.js';\nimport * as Buttons from '../../../ui/components/buttons/buttons.js';\nimport * as UI from '../../../ui/legacy/legacy.js';\nimport * as LitHtml from '../../../ui/lit-html/lit-html.js';\nimport * as VisualLogging from '../../../ui/visual_logging/visual_logging.js';\n\nimport {\n  compareHeaders,\n  EditingAllowedStatus,\n  type HeaderDescriptor,\n  type HeaderDetailsDescriptor,\n  type HeaderEditedEvent,\n  type HeaderEditorDescriptor,\n  type HeaderRemovedEvent,\n  HeaderSectionRow,\n  type HeaderSectionRowData,\n  isValidHeaderName,\n} from './HeaderSectionRow.js';\nimport responseHeaderSectionStyles from './ResponseHeaderSection.css.js';\n\nconst {render, html} = LitHtml;\n\nconst UIStrings = {\n  /**\n   *@description Label for a button which allows adding an HTTP header.\n   */\n  addHeader: 'Add header',\n  /**\n   *@description Explanation text for which cross-origin policy to set.\n   */\n  chooseThisOptionIfTheResourceAnd:\n      'Choose this option if the resource and the document are served from the same site.',\n  /**\n   *@description Explanation text for which cross-origin policy to set.\n   */\n  onlyChooseThisOptionIfAn:\n      'Only choose this option if an arbitrary website including this resource does not impose a security risk.',\n  /**\n   *@description Message in the Headers View of the Network panel when a cross-origin opener policy blocked loading a sandbox iframe.\n   */\n  thisDocumentWasBlockedFrom:\n      'The document was blocked from loading in a popup opened by a sandboxed iframe because this document specified a cross-origin opener policy.',\n  /**\n   *@description Message in the Headers View of the Network panel when a cross-origin embedder policy header needs to be set.\n   */\n  toEmbedThisFrameInYourDocument:\n      'To embed this frame in your document, the response needs to enable the cross-origin embedder policy by specifying the following response header:',\n  /**\n   *@description Message in the Headers View of the Network panel when a cross-origin resource policy header needs to be set.\n   */\n  toUseThisResourceFromADifferent:\n      'To use this resource from a different origin, the server needs to specify a cross-origin resource policy in the response headers:',\n  /**\n   *@description Message in the Headers View of the Network panel when the cross-origin resource policy header is too strict.\n   */\n  toUseThisResourceFromADifferentOrigin:\n      'To use this resource from a different origin, the server may relax the cross-origin resource policy response header:',\n  /**\n   *@description Message in the Headers View of the Network panel when the cross-origin resource policy header is too strict.\n   */\n  toUseThisResourceFromADifferentSite:\n      'To use this resource from a different site, the server may relax the cross-origin resource policy response header:',\n};\n\nconst str_ = i18n.i18n.registerUIStrings('panels/network/components/ResponseHeaderSection.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nconst i18nLazyString = i18n.i18n.getLazilyComputedLocalizedString.bind(undefined, str_);\n\nconst plusIconUrl = new URL('../../../Images/plus.svg', import.meta.url).toString();\n\nexport const RESPONSE_HEADER_SECTION_DATA_KEY = 'ResponseHeaderSection';\n\nexport interface ResponseHeaderSectionData {\n  request: SDK.NetworkRequest.NetworkRequest;\n  toReveal?: {section: NetworkForward.UIRequestLocation.UIHeaderSection, header?: string};\n}\n\nclass ResponseHeaderSectionBase extends HTMLElement {\n  protected readonly shadow = this.attachShadow({mode: 'open'});\n  protected headerDetails: HeaderDetailsDescriptor[] = [];\n\n  connectedCallback(): void {\n    this.shadow.adoptedStyleSheets = [responseHeaderSectionStyles];\n  }\n\n  protected setHeaders(headers: NameValue[]): void {\n    headers.sort(function(a, b) {\n      return Platform.StringUtilities.compare(a.name.toLowerCase(), b.name.toLowerCase());\n    });\n\n    this.headerDetails = headers.map(header => ({\n                                       name: Platform.StringUtilities.toLowerCaseString(header.name),\n                                       value: header.value.replace(/\\s/g, ' '),\n                                     }));\n  }\n\n  protected highlightHeaders(data: ResponseHeaderSectionData): void {\n    if (data.toReveal?.section === NetworkForward.UIRequestLocation.UIHeaderSection.Response) {\n      this.headerDetails.filter(header => compareHeaders(header.name, data.toReveal?.header?.toLowerCase()))\n          .forEach(header => {\n            header.highlight = true;\n          });\n    }\n  }\n}\n\nexport class EarlyHintsHeaderSection extends ResponseHeaderSectionBase {\n  static readonly litTagName = LitHtml.literal`devtools-early-hints-header-section`;\n  #request?: SDK.NetworkRequest.NetworkRequest;\n\n  set data(data: ResponseHeaderSectionData) {\n    this.#request = data.request;\n\n    this.setHeaders(this.#request.earlyHintsHeaders);\n    this.highlightHeaders(data);\n\n    this.#render();\n  }\n\n  #render(): void {\n    if (!this.#request) {\n      return;\n    }\n\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    render(html`\n      ${this.headerDetails.map(header => html`\n        <${HeaderSectionRow.litTagName} .data=${{\n        header: header,\n      } as HeaderSectionRowData}></${HeaderSectionRow.litTagName}>\n      `)}\n    `, this.shadow, { host: this });\n    // clang-format on\n  }\n}\n\ncustomElements.define('devtools-early-hints-header-section', EarlyHintsHeaderSection);\n\nexport class ResponseHeaderSection extends ResponseHeaderSectionBase {\n  static readonly litTagName = LitHtml.literal`devtools-response-header-section`;\n  #request?: SDK.NetworkRequest.NetworkRequest;\n  #headerEditors: HeaderEditorDescriptor[] = [];\n  #uiSourceCode: Workspace.UISourceCode.UISourceCode|null = null;\n  #overrides: Persistence.NetworkPersistenceManager.HeaderOverride[] = [];\n  #isEditingAllowed = EditingAllowedStatus.Disabled;\n\n  set data(data: ResponseHeaderSectionData) {\n    this.#request = data.request;\n    this.#isEditingAllowed =\n        Persistence.NetworkPersistenceManager.NetworkPersistenceManager.isForbiddenNetworkUrl(this.#request.url()) ?\n        EditingAllowedStatus.Forbidden :\n        EditingAllowedStatus.Disabled;\n    // If the request has been locally overridden, its 'sortedResponseHeaders'\n    // contains no 'set-cookie' headers, because they have been filtered out by\n    // the Chromium backend. DevTools therefore uses previously stored values.\n    const headers = this.#request.sortedResponseHeaders.concat(this.#request.setCookieHeaders);\n    this.setHeaders(headers);\n\n    const headersWithIssues = [];\n    if (this.#request.wasBlocked()) {\n      const headerWithIssues =\n          BlockedReasonDetails.get((this.#request.blockedReason() as Protocol.Network.BlockedReason));\n      if (headerWithIssues) {\n        if (IssuesManager.RelatedIssue.hasIssueOfCategory(\n                this.#request, IssuesManager.Issue.IssueCategory.CrossOriginEmbedderPolicy)) {\n          const followLink = (): void => {\n            Host.userMetrics.issuesPanelOpenedFrom(Host.UserMetrics.IssueOpener.LearnMoreLinkCOEP);\n            if (this.#request) {\n              void IssuesManager.RelatedIssue.reveal(\n                  this.#request, IssuesManager.Issue.IssueCategory.CrossOriginEmbedderPolicy);\n            }\n          };\n          if (headerWithIssues.blockedDetails) {\n            headerWithIssues.blockedDetails.reveal = followLink;\n          }\n        }\n        headersWithIssues.push(headerWithIssues);\n      }\n    }\n\n    function mergeHeadersWithIssues(\n        headers: HeaderDetailsDescriptor[], headersWithIssues: HeaderDetailsDescriptor[]): HeaderDetailsDescriptor[] {\n      let i = 0, j = 0;\n      const result: HeaderDetailsDescriptor[] = [];\n      while (i < headers.length && j < headersWithIssues.length) {\n        if (headers[i].name < headersWithIssues[j].name) {\n          result.push({...headers[i++], headerNotSet: false});\n        } else if (headers[i].name > headersWithIssues[j].name) {\n          result.push({...headersWithIssues[j++], headerNotSet: true});\n        } else {\n          result.push({...headersWithIssues[j++], ...headers[i++], headerNotSet: false});\n        }\n      }\n      while (i < headers.length) {\n        result.push({...headers[i++], headerNotSet: false});\n      }\n      while (j < headersWithIssues.length) {\n        result.push({...headersWithIssues[j++], headerNotSet: true});\n      }\n      return result;\n    }\n\n    this.headerDetails = mergeHeadersWithIssues(this.headerDetails, headersWithIssues);\n\n    const blockedResponseCookies = this.#request.blockedResponseCookies();\n    const blockedCookieLineToReasons = new Map<string, Protocol.Network.SetCookieBlockedReason[]>(\n        blockedResponseCookies?.map(c => [c.cookieLine.replace(/\\s/g, ' '), c.blockedReasons]));\n    for (const header of this.headerDetails) {\n      if (header.name === 'set-cookie' && header.value) {\n        const matchingBlockedReasons = blockedCookieLineToReasons.get(header.value);\n        if (matchingBlockedReasons) {\n          header.setCookieBlockedReasons = matchingBlockedReasons;\n        }\n      }\n    }\n\n    this.highlightHeaders(data);\n\n    const dataAssociatedWithRequest = this.#request.getAssociatedData(RESPONSE_HEADER_SECTION_DATA_KEY);\n    if (dataAssociatedWithRequest) {\n      this.#headerEditors = dataAssociatedWithRequest as HeaderEditorDescriptor[];\n    } else {\n      this.#headerEditors = this.headerDetails.map(header => ({\n                                                     name: header.name,\n                                                     value: header.value,\n                                                     originalValue: header.value,\n                                                     valueEditable: this.#isEditingAllowed,\n                                                   }));\n      this.#markOverrides();\n    }\n\n    void this.#loadOverridesFileInfo();\n    this.#request.setAssociatedData(RESPONSE_HEADER_SECTION_DATA_KEY, this.#headerEditors);\n    this.#render();\n  }\n\n  #resetEditorState(): void {\n    if (!this.#request) {\n      return;\n    }\n    this.#isEditingAllowed =\n        Persistence.NetworkPersistenceManager.NetworkPersistenceManager.isForbiddenNetworkUrl(this.#request.url()) ?\n        EditingAllowedStatus.Forbidden :\n        EditingAllowedStatus.Disabled;\n    this.#headerEditors = this.headerDetails.map(header => ({\n                                                   name: header.name,\n                                                   value: header.value,\n                                                   originalValue: header.value,\n                                                   valueEditable: this.#isEditingAllowed,\n                                                 }));\n    this.#markOverrides();\n    this.#request.setAssociatedData(RESPONSE_HEADER_SECTION_DATA_KEY, this.#headerEditors);\n  }\n\n  async #loadOverridesFileInfo(): Promise<void> {\n    if (!this.#request) {\n      return;\n    }\n    this.#uiSourceCode =\n        Persistence.NetworkPersistenceManager.NetworkPersistenceManager.instance().getHeadersUISourceCodeFromUrl(\n            this.#request.url());\n    if (!this.#uiSourceCode) {\n      this.#resetEditorState();\n      this.#render();\n      return;\n    }\n    try {\n      const deferredContent = await this.#uiSourceCode.requestContent();\n      this.#overrides =\n          JSON.parse(deferredContent.content || '[]') as Persistence.NetworkPersistenceManager.HeaderOverride[];\n      if (!this.#overrides.every(Persistence.NetworkPersistenceManager.isHeaderOverride)) {\n        throw 'Type mismatch after parsing';\n      }\n      if (Common.Settings.Settings.instance().moduleSetting('persistence-network-overrides-enabled').get() &&\n          this.#isEditingAllowed === EditingAllowedStatus.Disabled) {\n        this.#isEditingAllowed = EditingAllowedStatus.Enabled;\n      }\n      for (const header of this.#headerEditors) {\n        header.valueEditable = this.#isEditingAllowed;\n      }\n    } catch (error) {\n      console.error(\n          'Failed to parse', this.#uiSourceCode?.url() || 'source code file', 'for locally overriding headers.');\n      this.#resetEditorState();\n    } finally {\n      this.#render();\n    }\n  }\n\n  #markOverrides(): void {\n    if (!this.#request || this.#request.originalResponseHeaders.length === 0) {\n      return;\n    }\n    const originalHeaders =\n        this.#request.originalResponseHeaders.map(header => ({\n                                                    name: Platform.StringUtilities.toLowerCaseString(header.name),\n                                                    value: header.value.replace(/\\s/g, ' '),\n                                                  }));\n    originalHeaders.sort(function(a, b) {\n      return Platform.StringUtilities.compare(a.name, b.name);\n    });\n\n    // Loop over actual headers and original headers simultaneously and mark each actual header as\n    // overridden if there is no identical original header.\n    // If there are multiple headers with the same name, concatenate their values first before\n    // comparing them.\n    let indexActual = 0;\n    let indexOriginal = 0;\n    while (indexActual < this.headerDetails.length) {\n      const currentName = this.headerDetails[indexActual].name;\n      let actualValue = this.headerDetails[indexActual].value || '';\n      const headerNotSet = this.headerDetails[indexActual].headerNotSet;\n      while (indexActual < this.headerDetails.length - 1 && this.headerDetails[indexActual + 1].name === currentName) {\n        indexActual++;\n        actualValue += `, ${this.headerDetails[indexActual].value}`;\n      }\n\n      while (indexOriginal < originalHeaders.length && originalHeaders[indexOriginal].name < currentName) {\n        indexOriginal++;\n      }\n      if (indexOriginal < originalHeaders.length && originalHeaders[indexOriginal].name === currentName) {\n        let originalValue = originalHeaders[indexOriginal].value;\n        while (indexOriginal < originalHeaders.length - 1 && originalHeaders[indexOriginal + 1].name === currentName) {\n          indexOriginal++;\n          originalValue += `, ${originalHeaders[indexOriginal].value}`;\n        }\n        indexOriginal++;\n        if (currentName !== 'set-cookie' && !headerNotSet && !compareHeaders(actualValue, originalValue)) {\n          this.#headerEditors.filter(header => compareHeaders(header.name, currentName)).forEach(header => {\n            header.isOverride = true;\n          });\n        }\n      } else if (currentName !== 'set-cookie' && !headerNotSet) {\n        this.#headerEditors.filter(header => compareHeaders(header.name, currentName)).forEach(header => {\n          header.isOverride = true;\n        });\n      }\n      indexActual++;\n    }\n\n    // Special case for 'set-cookie' headers: compare each header individually\n    // and don't treat all 'set-cookie' headers as a single unit.\n    this.#headerEditors.filter(header => header.name === 'set-cookie').forEach(header => {\n      if (this.#request?.originalResponseHeaders.find(\n              originalHeader => Platform.StringUtilities.toLowerCaseString(originalHeader.name) === 'set-cookie' &&\n                  compareHeaders(originalHeader.value, header.value)) === undefined) {\n        header.isOverride = true;\n      }\n    });\n  }\n\n  #onHeaderEdited(event: HeaderEditedEvent): void {\n    const target = event.target as HTMLElement;\n    if (target.dataset.index === undefined) {\n      return;\n    }\n    const index = Number(target.dataset.index);\n    if (isValidHeaderName(event.headerName)) {\n      this.#updateOverrides(event.headerName, event.headerValue, index);\n      Host.userMetrics.actionTaken(Host.UserMetrics.Action.HeaderOverrideHeaderEdited);\n    }\n  }\n\n  #fileNameFromUrl(url: Platform.DevToolsPath.UrlString): Platform.DevToolsPath.RawPathString {\n    const rawPath =\n        Persistence.NetworkPersistenceManager.NetworkPersistenceManager.instance().rawPathFromUrl(url, true);\n    const lastIndexOfSlash = rawPath.lastIndexOf('/');\n    return Common.ParsedURL.ParsedURL.substring(rawPath, lastIndexOfSlash + 1);\n  }\n\n  #commitOverrides(): void {\n    this.#uiSourceCode?.setWorkingCopy(JSON.stringify(this.#overrides, null, 2));\n    this.#uiSourceCode?.commitWorkingCopy();\n  }\n\n  #removeEntryFromOverrides(\n      rawFileName: Platform.DevToolsPath.RawPathString, headerName: Platform.StringUtilities.LowerCaseString,\n      headerValue: string): void {\n    for (let blockIndex = this.#overrides.length - 1; blockIndex >= 0; blockIndex--) {\n      const block = this.#overrides[blockIndex];\n      if (block.applyTo !== rawFileName) {\n        continue;\n      }\n      const foundIndex = block.headers.findIndex(\n          header => compareHeaders(header.name, headerName) && compareHeaders(header.value, headerValue));\n      if (foundIndex < 0) {\n        continue;\n      }\n      block.headers.splice(foundIndex, 1);\n      if (block.headers.length === 0) {\n        this.#overrides.splice(blockIndex, 1);\n      }\n      return;\n    }\n  }\n\n  #onHeaderRemoved(event: HeaderRemovedEvent): void {\n    const target = event.target as HTMLElement;\n    if (target.dataset.index === undefined || !this.#request) {\n      return;\n    }\n    const index = Number(target.dataset.index);\n    const rawFileName = this.#fileNameFromUrl(this.#request.url());\n    this.#removeEntryFromOverrides(rawFileName, event.headerName, event.headerValue);\n    this.#commitOverrides();\n    this.#headerEditors[index].isDeleted = true;\n    this.#render();\n    Host.userMetrics.actionTaken(Host.UserMetrics.Action.HeaderOverrideHeaderRemoved);\n  }\n\n  #updateOverrides(headerName: Platform.StringUtilities.LowerCaseString, headerValue: string, index: number): void {\n    if (!this.#request) {\n      return;\n    }\n    // If 'originalResponseHeaders' are not populated (because there was no\n    // request interception), fill them with a copy of 'sortedResponseHeaders'.\n    // This ensures we have access to the original values when undoing edits.\n    if (this.#request.originalResponseHeaders.length === 0) {\n      this.#request.originalResponseHeaders =\n          this.#request.sortedResponseHeaders.map(headerEntry => ({...headerEntry}));\n    }\n\n    const previousName = this.#headerEditors[index].name;\n    const previousValue = this.#headerEditors[index].value;\n    this.#headerEditors[index].name = headerName;\n    this.#headerEditors[index].value = headerValue;\n\n    let headersToUpdate: HeaderEditorDescriptor[] = [];\n    if (headerName === 'set-cookie') {\n      // Special case for 'set-cookie' headers: each such header is treated\n      // separately without looking at other 'set-cookie' headers.\n      headersToUpdate.push({name: headerName, value: headerValue, valueEditable: this.#isEditingAllowed});\n    } else {\n      // If multiple headers have the same name 'foo', we treat them as a unit.\n      // If there are overrides for 'foo', all original 'foo' headers are removed\n      // and replaced with the override(s) for 'foo'.\n      headersToUpdate = this.#headerEditors.filter(\n          header => compareHeaders(header.name, headerName) &&\n              (!compareHeaders(header.value, header.originalValue) || header.isOverride));\n    }\n\n    const rawFileName = this.#fileNameFromUrl(this.#request.url());\n\n    // If the last override-block matches 'rawFileName', use this last block.\n    // Otherwise just append a new block at the end. We are not using earlier\n    // blocks, because they could be overruled by later blocks, which contain\n    // wildcards in the filenames they apply to.\n    let block: Persistence.NetworkPersistenceManager.HeaderOverride|null = null;\n    const [lastOverride] = this.#overrides.slice(-1);\n    if (lastOverride?.applyTo === rawFileName) {\n      block = lastOverride;\n    } else {\n      block = {\n        applyTo: rawFileName,\n        headers: [],\n      };\n      this.#overrides.push(block);\n    }\n\n    if (headerName === 'set-cookie') {\n      // Special case for 'set-cookie' headers: only remove the one specific\n      // header which is currently being modified, keep all other headers\n      // (including other 'set-cookie' headers).\n      const foundIndex = block.headers.findIndex(\n          header => compareHeaders(header.name, previousName) && compareHeaders(header.value, previousValue));\n      if (foundIndex >= 0) {\n        block.headers.splice(foundIndex, 1);\n      }\n    } else {\n      // Keep header overrides for all headers with a different name.\n      block.headers = block.headers.filter(header => !compareHeaders(header.name, headerName));\n    }\n\n    // If a header name has been edited (only possible when adding headers),\n    // remove the previous override entry.\n    if (!compareHeaders(this.#headerEditors[index].name, previousName)) {\n      for (let i = 0; i < block.headers.length; ++i) {\n        if (compareHeaders(block.headers[i].name, previousName) &&\n            compareHeaders(block.headers[i].value, previousValue)) {\n          block.headers.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    // Append freshly edited header overrides.\n    for (const header of headersToUpdate) {\n      block.headers.push({name: header.name, value: header.value || ''});\n    }\n\n    if (block.headers.length === 0) {\n      this.#overrides.pop();\n    }\n    this.#commitOverrides();\n  }\n\n  #onAddHeaderClick(): void {\n    this.#headerEditors.push({\n      name: Platform.StringUtilities.toLowerCaseString(i18n.i18n.lockedString('header-name')),\n      value: i18n.i18n.lockedString('header value'),\n      isOverride: true,\n      nameEditable: true,\n      valueEditable: EditingAllowedStatus.Enabled,\n    });\n    const index = this.#headerEditors.length - 1;\n    this.#updateOverrides(this.#headerEditors[index].name, this.#headerEditors[index].value || '', index);\n    this.#render();\n\n    const rows = this.shadow.querySelectorAll<HeaderSectionRow>('devtools-header-section-row');\n    const [lastRow] = Array.from(rows).slice(-1);\n    lastRow?.focus();\n    Host.userMetrics.actionTaken(Host.UserMetrics.Action.HeaderOverrideHeaderAdded);\n  }\n\n  #render(): void {\n    if (!this.#request) {\n      return;\n    }\n\n    const headerDescriptors: HeaderDescriptor[] = this.#headerEditors.map(\n        (headerEditor, index) => ({...this.headerDetails[index], ...headerEditor, isResponseHeader: true}));\n\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    render(html`\n      ${headerDescriptors.map((header, index) => html`\n        <${HeaderSectionRow.litTagName}\n            .data=${{header} as HeaderSectionRowData}\n            @headeredited=${this.#onHeaderEdited}\n            @headerremoved=${this.#onHeaderRemoved}\n            @enableheaderediting=${this.#onEnableHeaderEditingClick}\n            data-index=${index}\n            jslog=${VisualLogging.item('response-header')}\n        ></${HeaderSectionRow.litTagName}>\n      `)}\n      ${this.#isEditingAllowed === EditingAllowedStatus.Enabled ? html`\n        <${Buttons.Button.Button.litTagName}\n          class=\"add-header-button\"\n          .variant=${Buttons.Button.Variant.OUTLINED}\n          .iconUrl=${plusIconUrl}\n          @click=${this.#onAddHeaderClick}\n          jslog=${VisualLogging.action('add-header').track({click: true})}>\n          ${i18nString(UIStrings.addHeader)}\n        </${Buttons.Button.Button.litTagName}>\n      ` : LitHtml.nothing}\n    `, this.shadow, {host: this});\n    // clang-format on\n  }\n\n  async #onEnableHeaderEditingClick(): Promise<void> {\n    if (!this.#request) {\n      return;\n    }\n    Host.userMetrics.actionTaken(Host.UserMetrics.Action.HeaderOverrideEnableEditingClicked);\n    const requestUrl = this.#request.url();\n    const networkPersistanceManager = Persistence.NetworkPersistenceManager.NetworkPersistenceManager.instance();\n    if (networkPersistanceManager.project()) {\n      Common.Settings.Settings.instance().moduleSetting('persistence-network-overrides-enabled').set(true);\n      await networkPersistanceManager.getOrCreateHeadersUISourceCodeFromUrl(requestUrl);\n    } else {  // If folder for local overrides has not been provided yet\n      UI.InspectorView.InspectorView.instance().displaySelectOverrideFolderInfobar(async () => {\n        await Sources.SourcesNavigator.OverridesNavigatorView.instance().setupNewWorkspace();\n        await networkPersistanceManager.getOrCreateHeadersUISourceCodeFromUrl(requestUrl);\n      });\n    }\n  }\n}\n\ncustomElements.define('devtools-response-header-section', ResponseHeaderSection);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'devtools-response-header-section': ResponseHeaderSection;\n    'devtools-early-hints-header-section': EarlyHintsHeaderSection;\n  }\n}\n\nconst BlockedReasonDetails = new Map<Protocol.Network.BlockedReason, HeaderDetailsDescriptor>([\n  [\n    Protocol.Network.BlockedReason.CoepFrameResourceNeedsCoepHeader,\n    {\n      name: Platform.StringUtilities.toLowerCaseString('cross-origin-embedder-policy'),\n      value: null,\n      blockedDetails: {\n        explanation: i18nLazyString(UIStrings.toEmbedThisFrameInYourDocument),\n        examples: [{codeSnippet: 'Cross-Origin-Embedder-Policy: require-corp', comment: undefined}],\n        link: {url: 'https://web.dev/coop-coep/'},\n      },\n    },\n  ],\n  [\n    Protocol.Network.BlockedReason.CorpNotSameOriginAfterDefaultedToSameOriginByCoep,\n    {\n      name: Platform.StringUtilities.toLowerCaseString('cross-origin-resource-policy'),\n      value: null,\n      blockedDetails: {\n        explanation: i18nLazyString(UIStrings.toUseThisResourceFromADifferent),\n        examples: [\n          {\n            codeSnippet: 'Cross-Origin-Resource-Policy: same-site',\n            comment: i18nLazyString(UIStrings.chooseThisOptionIfTheResourceAnd),\n          },\n          {\n            codeSnippet: 'Cross-Origin-Resource-Policy: cross-origin',\n            comment: i18nLazyString(UIStrings.onlyChooseThisOptionIfAn),\n          },\n        ],\n        link: {url: 'https://web.dev/coop-coep/'},\n      },\n    },\n  ],\n  [\n    Protocol.Network.BlockedReason.CoopSandboxedIframeCannotNavigateToCoopPage,\n    {\n      name: Platform.StringUtilities.toLowerCaseString('cross-origin-opener-policy'),\n      value: null,\n      headerValueIncorrect: false,\n      blockedDetails: {\n        explanation: i18nLazyString(UIStrings.thisDocumentWasBlockedFrom),\n        examples: [],\n        link: {url: 'https://web.dev/coop-coep/'},\n      },\n    },\n  ],\n  [\n    Protocol.Network.BlockedReason.CorpNotSameSite,\n    {\n      name: Platform.StringUtilities.toLowerCaseString('cross-origin-resource-policy'),\n      value: null,\n      headerValueIncorrect: true,\n      blockedDetails: {\n        explanation: i18nLazyString(UIStrings.toUseThisResourceFromADifferentSite),\n        examples: [\n          {\n            codeSnippet: 'Cross-Origin-Resource-Policy: cross-origin',\n            comment: i18nLazyString(UIStrings.onlyChooseThisOptionIfAn),\n          },\n        ],\n        link: null,\n      },\n    },\n  ],\n  [\n    Protocol.Network.BlockedReason.CorpNotSameOrigin,\n    {\n      name: Platform.StringUtilities.toLowerCaseString('cross-origin-resource-policy'),\n      value: null,\n      headerValueIncorrect: true,\n      blockedDetails: {\n        explanation: i18nLazyString(UIStrings.toUseThisResourceFromADifferentOrigin),\n        examples: [\n          {\n            codeSnippet: 'Cross-Origin-Resource-Policy: same-site',\n            comment: i18nLazyString(UIStrings.chooseThisOptionIfTheResourceAnd),\n          },\n          {\n            codeSnippet: 'Cross-Origin-Resource-Policy: cross-origin',\n            comment: i18nLazyString(UIStrings.onlyChooseThisOptionIfAn),\n          },\n        ],\n        link: null,\n      },\n    },\n  ],\n]);\n"]}