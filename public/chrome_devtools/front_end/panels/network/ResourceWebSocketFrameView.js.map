{"version":3,"file":"ResourceWebSocketFrameView.js","sourceRoot":"","sources":["../../../../../../front_end/panels/network/ResourceWebSocketFrameView.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n/*\n * Copyright (C) 2012 Research In Motion Limited. All rights reserved.\n *\n * This library is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 2 of the License, or (at your option) any later version.\n *\n * This library is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public\n * License along with this library; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA\n */\n\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as TextUtils from '../../models/text_utils/text_utils.js';\nimport * as DataGrid from '../../ui/legacy/components/data_grid/data_grid.js';\nimport * as SourceFrame from '../../ui/legacy/components/source_frame/source_frame.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\n\nimport {BinaryResourceView} from './BinaryResourceView.js';\nimport webSocketFrameViewStyles from './webSocketFrameView.css.js';\n\nconst UIStrings = {\n  /**\n   *@description Text in Event Source Messages View of the Network panel\n   */\n  data: 'Data',\n  /**\n   *@description Text in Resource Web Socket Frame View of the Network panel\n   */\n  length: 'Length',\n  /**\n   *@description Text that refers to the time\n   */\n  time: 'Time',\n  /**\n   *@description Data grid name for Web Socket Frame data grids\n   */\n  webSocketFrame: 'Web Socket Frame',\n  /**\n   *@description Text to clear everything\n   */\n  clearAll: 'Clear All',\n  /**\n   *@description Text to filter result items\n   */\n  filter: 'Filter',\n  /**\n   *@description Text in Resource Web Socket Frame View of the Network panel\n   */\n  selectMessageToBrowseItsContent: 'Select message to browse its content.',\n  /**\n   *@description Text in Resource Web Socket Frame View of the Network panel\n   */\n  copyMessageD: 'Copy message...',\n  /**\n   *@description A context menu item in the Resource Web Socket Frame View of the Network panel\n   */\n  copyMessage: 'Copy message',\n  /**\n   *@description Text to clear everything\n   */\n  clearAllL: 'Clear all',\n  /**\n   * @description Text in Resource Web Socket Frame View of the Network panel. Displays which Opcode\n   * is relevant to a particular operation. 'mask' indicates that the Opcode used a mask, which is a\n   * way of modifying a value by overlaying another value on top of it, partially covering/changing\n   * it, hence 'masking' it.\n   * https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers\n   * @example {Localized name of the Opcode} PH1\n   * @example {0} PH2\n   */\n  sOpcodeSMask: '{PH1} (Opcode {PH2}, mask)',\n  /**\n   * @description Text in Resource Web Socket Frame View of the Network panel. Displays which Opcode\n   * is relevant to a particular operation.\n   * @example {Localized name of the Opcode} PH1\n   * @example {0} PH2\n   */\n  sOpcodeS: '{PH1} (Opcode {PH2})',\n  /**\n   *@description Op codes continuation frame of map in Resource Web Socket Frame View of the Network panel\n   */\n  continuationFrame: 'Continuation Frame',\n  /**\n   *@description Op codes text frame of map in Resource Web Socket Frame View of the Network panel\n   */\n  textMessage: 'Text Message',\n  /**\n   *@description Op codes binary frame of map in Resource Web Socket Frame View of the Network panel\n   */\n  binaryMessage: 'Binary Message',\n  /**\n   *@description Op codes continuation frame of map in Resource Web Socket Frame View of the Network panel indicating that the web socket connection has been closed.\n   */\n  connectionCloseMessage: 'Connection Close Message',\n  /**\n   *@description Op codes ping frame of map in Resource Web Socket Frame View of the Network panel\n   */\n  pingMessage: 'Ping Message',\n  /**\n   *@description Op codes pong frame of map in Resource Web Socket Frame View of the Network panel\n   */\n  pongMessage: 'Pong Message',\n  /**\n   *@description Text for everything\n   */\n  all: 'All',\n  /**\n   *@description Text in Resource Web Socket Frame View of the Network panel\n   */\n  send: 'Send',\n  /**\n   *@description Text in Resource Web Socket Frame View of the Network panel\n   */\n  receive: 'Receive',\n  /**\n   *@description Text for something not available\n   */\n  na: 'N/A',\n  /**\n   *@description Example for placeholder text\n   */\n  filterUsingRegex: 'Filter using regex (example: (web)?socket)',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/network/ResourceWebSocketFrameView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nconst i18nLazyString = i18n.i18n.getLazilyComputedLocalizedString.bind(undefined, str_);\nexport class ResourceWebSocketFrameView extends UI.Widget.VBox {\n  private readonly request: SDK.NetworkRequest.NetworkRequest;\n  private readonly splitWidget: UI.SplitWidget.SplitWidget;\n  private dataGrid: DataGrid.SortableDataGrid.SortableDataGrid<unknown>;\n  private readonly timeComparator:\n      (arg0: DataGrid.SortableDataGrid.SortableDataGridNode<ResourceWebSocketFrameNode>,\n       arg1: DataGrid.SortableDataGrid.SortableDataGridNode<ResourceWebSocketFrameNode>) => number;\n  private readonly mainToolbar: UI.Toolbar.Toolbar;\n  private readonly clearAllButton: UI.Toolbar.ToolbarButton;\n  private readonly filterTypeCombobox: UI.Toolbar.ToolbarComboBox;\n  private filterType: string|null;\n  private readonly filterTextInput: UI.Toolbar.ToolbarInput;\n  private filterRegex: RegExp|null;\n  private readonly frameEmptyWidget: UI.EmptyWidget.EmptyWidget;\n  private readonly selectedNode: ResourceWebSocketFrameNode|null;\n  private currentSelectedNode?: ResourceWebSocketFrameNode|null;\n\n  private messageFilterSetting: Common.Settings.Setting<string> =\n      Common.Settings.Settings.instance().createSetting('network-web-socket-message-filter', '');\n\n  constructor(request: SDK.NetworkRequest.NetworkRequest) {\n    super();\n\n    this.element.classList.add('websocket-frame-view');\n    this.element.setAttribute('jslog', `${VisualLogging.pane('web-socket-messages').track({resize: true})}`);\n    this.request = request;\n\n    this.splitWidget = new UI.SplitWidget.SplitWidget(false, true, 'resource-web-socket-frame-split-view-state');\n    this.splitWidget.show(this.element);\n\n    const columns = ([\n      {id: 'data', title: i18nString(UIStrings.data), sortable: false, weight: 88},\n      {\n        id: 'length',\n        title: i18nString(UIStrings.length),\n        sortable: false,\n        align: DataGrid.DataGrid.Align.Right,\n        weight: 5,\n      },\n      {id: 'time', title: i18nString(UIStrings.time), sortable: true, weight: 7},\n    ] as DataGrid.DataGrid.ColumnDescriptor[]);\n\n    this.dataGrid = new DataGrid.SortableDataGrid.SortableDataGrid({\n      displayName: i18nString(UIStrings.webSocketFrame),\n      columns,\n      editCallback: undefined,\n      deleteCallback: undefined,\n      refreshCallback: undefined,\n    });\n    this.dataGrid.setRowContextMenuCallback(onRowContextMenu.bind(this));\n    this.dataGrid.setStickToBottom(true);\n    this.dataGrid.setCellClass('websocket-frame-view-td');\n    this.timeComparator =\n        (resourceWebSocketFrameNodeTimeComparator as\n             (arg0: DataGrid.SortableDataGrid.SortableDataGridNode<ResourceWebSocketFrameNode>,\n              arg1: DataGrid.SortableDataGrid.SortableDataGridNode<ResourceWebSocketFrameNode>) => number);\n    this.dataGrid.sortNodes(this.timeComparator, false);\n    this.dataGrid.markColumnAsSortedBy('time', DataGrid.DataGrid.Order.Ascending);\n    this.dataGrid.addEventListener(DataGrid.DataGrid.Events.SortingChanged, this.sortItems, this);\n\n    this.dataGrid.setName('resource-web-socket-frame-view');\n    this.dataGrid.addEventListener(DataGrid.DataGrid.Events.SelectedNode, event => {\n      void this.onFrameSelected(event);\n    }, this);\n    this.dataGrid.addEventListener(DataGrid.DataGrid.Events.DeselectedNode, this.onFrameDeselected, this);\n\n    this.mainToolbar = new UI.Toolbar.Toolbar('');\n\n    this.clearAllButton = new UI.Toolbar.ToolbarButton(i18nString(UIStrings.clearAll), 'clear');\n    this.clearAllButton.addEventListener(UI.Toolbar.ToolbarButton.Events.Click, this.clearFrames, this);\n    this.mainToolbar.appendToolbarItem(this.clearAllButton);\n\n    this.filterTypeCombobox =\n        new UI.Toolbar.ToolbarComboBox(this.updateFilterSetting.bind(this), i18nString(UIStrings.filter));\n    for (const filterItem of FILTER_TYPES) {\n      const option = this.filterTypeCombobox.createOption(filterItem.label(), filterItem.name);\n      this.filterTypeCombobox.addOption(option);\n    }\n    this.mainToolbar.appendToolbarItem(this.filterTypeCombobox);\n    this.filterType = null;\n\n    const placeholder = i18nString(UIStrings.filterUsingRegex);\n    this.filterTextInput = new UI.Toolbar.ToolbarFilter(placeholder, 0.4);\n    this.filterTextInput.addEventListener(UI.Toolbar.ToolbarInput.Event.TextChanged, this.updateFilterSetting, this);\n    const filter = this.messageFilterSetting.get();\n    if (filter) {\n      this.filterTextInput.setValue(filter);\n    }\n    this.filterRegex = null;\n    this.mainToolbar.appendToolbarItem(this.filterTextInput);\n\n    const mainContainer = new UI.Widget.VBox();\n    mainContainer.element.appendChild(this.mainToolbar.element);\n    this.dataGrid.asWidget().show(mainContainer.element);\n    mainContainer.setMinimumSize(0, 72);\n    this.splitWidget.setMainWidget(mainContainer);\n\n    this.frameEmptyWidget = new UI.EmptyWidget.EmptyWidget(i18nString(UIStrings.selectMessageToBrowseItsContent));\n    this.splitWidget.setSidebarWidget(this.frameEmptyWidget);\n\n    this.selectedNode = null;\n    if (filter) {\n      this.applyFilter(filter);\n    }\n\n    function onRowContextMenu(\n        this: ResourceWebSocketFrameView, contextMenu: UI.ContextMenu.ContextMenu,\n        genericNode: DataGrid.DataGrid.DataGridNode<unknown>): void {\n      const node = (genericNode as ResourceWebSocketFrameNode);\n      const binaryView = node.binaryView();\n      if (binaryView) {\n        binaryView.addCopyToContextMenu(contextMenu, i18nString(UIStrings.copyMessageD));\n      } else {\n        contextMenu.clipboardSection().appendItem(\n            i18nString(UIStrings.copyMessage),\n            Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText.bind(\n                Host.InspectorFrontendHost.InspectorFrontendHostInstance, node.data.data),\n            {jslogContext: 'copy'});\n      }\n      contextMenu.footerSection().appendItem(\n          i18nString(UIStrings.clearAllL), this.clearFrames.bind(this), {jslogContext: 'clear-all'});\n    }\n  }\n\n  static opCodeDescription(opCode: number, mask: boolean): string {\n    const localizedDescription = opCodeDescriptions[opCode] || (() => '');\n    if (mask) {\n      return i18nString(UIStrings.sOpcodeSMask, {PH1: localizedDescription(), PH2: opCode});\n    }\n    return i18nString(UIStrings.sOpcodeS, {PH1: localizedDescription(), PH2: opCode});\n  }\n\n  override wasShown(): void {\n    this.refresh();\n    this.registerCSSFiles([webSocketFrameViewStyles]);\n    this.request.addEventListener(SDK.NetworkRequest.Events.WebsocketFrameAdded, this.frameAdded, this);\n  }\n\n  override willHide(): void {\n    this.request.removeEventListener(SDK.NetworkRequest.Events.WebsocketFrameAdded, this.frameAdded, this);\n  }\n\n  private frameAdded(event: Common.EventTarget.EventTargetEvent<SDK.NetworkRequest.WebSocketFrame>): void {\n    const frame = event.data;\n    if (!this.frameFilter(frame)) {\n      return;\n    }\n    this.dataGrid.insertChild(new ResourceWebSocketFrameNode(this.request.url(), frame));\n  }\n\n  private frameFilter(frame: SDK.NetworkRequest.WebSocketFrame): boolean {\n    if (this.filterType && frame.type !== this.filterType) {\n      return false;\n    }\n    return !this.filterRegex || this.filterRegex.test(frame.text);\n  }\n\n  private clearFrames(): void {\n    // TODO(allada): actially remove frames from request.\n    clearFrameOffsets.set(this.request, this.request.frames().length);\n    this.refresh();\n  }\n\n  private updateFilterSetting(): void {\n    const text = this.filterTextInput.value();\n    this.messageFilterSetting.set(text);\n    this.applyFilter(text);\n  }\n\n  private applyFilter(text: string): void {\n    const type = (this.filterTypeCombobox.selectedOption() as HTMLOptionElement).value;\n    if (text) {\n      try {\n        this.filterRegex = new RegExp(text, 'i');\n      } catch (e: unknown) {\n        this.filterRegex = new RegExp(Platform.StringUtilities.escapeForRegExp(text), 'i');\n      }\n    } else {\n      this.filterRegex = null;\n    }\n    this.filterType = type === 'all' ? null : type;\n    this.refresh();\n  }\n\n  private async onFrameSelected(event: Common.EventTarget.EventTargetEvent<DataGrid.DataGrid.DataGridNode<unknown>>):\n      Promise<void> {\n    this.currentSelectedNode = (event.data as ResourceWebSocketFrameNode);\n    const content = this.currentSelectedNode.dataText();\n\n    const binaryView = this.currentSelectedNode.binaryView();\n    if (binaryView) {\n      this.splitWidget.setSidebarWidget(binaryView);\n      return;\n    }\n\n    const jsonView = await SourceFrame.JSONView.JSONView.createView(content);\n    if (jsonView) {\n      this.splitWidget.setSidebarWidget(jsonView);\n      return;\n    }\n\n    this.splitWidget.setSidebarWidget(new SourceFrame.ResourceSourceFrame.ResourceSourceFrame(\n        TextUtils.StaticContentProvider.StaticContentProvider.fromString(\n            this.request.url(), Common.ResourceType.resourceTypes.WebSocket, content),\n        ''));\n  }\n\n  private onFrameDeselected(): void {\n    this.currentSelectedNode = null;\n    this.splitWidget.setSidebarWidget(this.frameEmptyWidget);\n  }\n\n  refresh(): void {\n    this.dataGrid.rootNode().removeChildren();\n\n    const url = this.request.url();\n    let frames = this.request.frames();\n    const offset = clearFrameOffsets.get(this.request) || 0;\n    frames = frames.slice(offset);\n    frames = frames.filter(this.frameFilter.bind(this));\n    frames.forEach(frame => this.dataGrid.insertChild(new ResourceWebSocketFrameNode(url, frame)));\n  }\n\n  private sortItems(): void {\n    this.dataGrid.sortNodes(this.timeComparator, !this.dataGrid.isSortOrderAscending());\n  }\n}\n\nconst enum OpCodes {\n  ContinuationFrame = 0,\n  TextFrame = 1,\n  BinaryFrame = 2,\n  ConnectionCloseFrame = 8,\n  PingFrame = 9,\n  PongFrame = 10,\n}\n\nexport const opCodeDescriptions: (() => string)[] = (function(): (() => Common.UIString.LocalizedString)[] {\n  const map = [];\n  map[OpCodes.ContinuationFrame] = i18nLazyString(UIStrings.continuationFrame);\n  map[OpCodes.TextFrame] = i18nLazyString(UIStrings.textMessage);\n  map[OpCodes.BinaryFrame] = i18nLazyString(UIStrings.binaryMessage);\n  map[OpCodes.ConnectionCloseFrame] = i18nLazyString(UIStrings.connectionCloseMessage);\n  map[OpCodes.PingFrame] = i18nLazyString(UIStrings.pingMessage);\n  map[OpCodes.PongFrame] = i18nLazyString(UIStrings.pongMessage);\n  return map;\n})();\n\nconst FILTER_TYPES: UI.FilterBar.Item[] = [\n  {name: 'all', label: i18nLazyString(UIStrings.all), jslogContext: 'all'},\n  {name: 'send', label: i18nLazyString(UIStrings.send), jslogContext: 'send'},\n  {name: 'receive', label: i18nLazyString(UIStrings.receive), jslogContext: 'receive'},\n];\n\nexport class ResourceWebSocketFrameNode extends DataGrid.SortableDataGrid.SortableDataGridNode<unknown> {\n  private readonly url: Platform.DevToolsPath.UrlString;\n  readonly frame: SDK.NetworkRequest.WebSocketFrame;\n  private readonly isTextFrame: boolean;\n  private dataTextInternal: string;\n  private binaryViewInternal: BinaryResourceView|null;\n\n  constructor(url: Platform.DevToolsPath.UrlString, frame: SDK.NetworkRequest.WebSocketFrame) {\n    let length = String(frame.text.length);\n    const time = new Date(frame.time * 1000);\n    const timeText = ('0' + time.getHours()).substr(-2) + ':' + ('0' + time.getMinutes()).substr(-2) + ':' +\n        ('0' + time.getSeconds()).substr(-2) + '.' + ('00' + time.getMilliseconds()).substr(-3);\n    const timeNode = document.createElement('div');\n    UI.UIUtils.createTextChild(timeNode, timeText);\n    UI.Tooltip.Tooltip.install(timeNode, time.toLocaleString());\n\n    let dataText: string = frame.text;\n    let description = ResourceWebSocketFrameView.opCodeDescription(frame.opCode, frame.mask);\n    const isTextFrame = frame.opCode === OpCodes.TextFrame;\n\n    if (frame.type === SDK.NetworkRequest.WebSocketFrameType.Error) {\n      description = dataText;\n      length = i18nString(UIStrings.na);\n\n    } else if (isTextFrame) {\n      description = dataText;\n\n    } else if (frame.opCode === OpCodes.BinaryFrame) {\n      length = Platform.NumberUtilities.bytesToString(Platform.StringUtilities.base64ToSize(frame.text));\n      description = opCodeDescriptions[frame.opCode]();\n\n    } else {\n      dataText = description;\n    }\n\n    super({data: description, length: length, time: timeNode});\n\n    this.url = url;\n    this.frame = frame;\n    this.isTextFrame = isTextFrame;\n    this.dataTextInternal = dataText;\n\n    this.binaryViewInternal = null;\n  }\n\n  override createCells(element: Element): void {\n    element.classList.toggle(\n        'websocket-frame-view-row-error', this.frame.type === SDK.NetworkRequest.WebSocketFrameType.Error);\n    element.classList.toggle(\n        'websocket-frame-view-row-send', this.frame.type === SDK.NetworkRequest.WebSocketFrameType.Send);\n    element.classList.toggle(\n        'websocket-frame-view-row-receive', this.frame.type === SDK.NetworkRequest.WebSocketFrameType.Receive);\n    super.createCells(element);\n  }\n\n  override nodeSelfHeight(): number {\n    return 21;\n  }\n\n  dataText(): string {\n    return this.dataTextInternal;\n  }\n\n  opCode(): OpCodes {\n    return this.frame.opCode as OpCodes;\n  }\n\n  binaryView(): BinaryResourceView|null {\n    if (this.isTextFrame || this.frame.type === SDK.NetworkRequest.WebSocketFrameType.Error) {\n      return null;\n    }\n\n    if (!this.binaryViewInternal) {\n      if (this.dataTextInternal.length > 0) {\n        this.binaryViewInternal = new BinaryResourceView(\n            this.dataTextInternal, Platform.DevToolsPath.EmptyUrlString, Common.ResourceType.resourceTypes.WebSocket);\n      }\n    }\n    return this.binaryViewInternal;\n  }\n}\n\nfunction resourceWebSocketFrameNodeTimeComparator(\n    a: ResourceWebSocketFrameNode, b: ResourceWebSocketFrameNode): number {\n  return a.frame.time - b.frame.time;\n}\n\nconst clearFrameOffsets = new WeakMap<SDK.NetworkRequest.NetworkRequest, number>();\n"]}