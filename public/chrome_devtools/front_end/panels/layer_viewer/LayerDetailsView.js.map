{"version":3,"file":"LayerDetailsView.js","sourceRoot":"","sources":["../../../../../../front_end/panels/layer_viewer/LayerDetailsView.ts"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright (C) 2013 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport type * as Protocol from '../../generated/protocol.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\n\nimport layerDetailsViewStyles from './layerDetailsView.css.js';\nimport {\n  type LayerView,\n  type LayerViewHost,\n  ScrollRectSelection,\n  type Selection,\n  type SnapshotSelection,\n  Type,\n} from './LayerViewHost.js';\n\nconst UIStrings = {\n  /**\n   *@description Text in Layer Details View of the Layers panel\n   */\n  selectALayerToSeeItsDetails: 'Select a layer to see its details',\n  /**\n   *@description Element text content in Layer Details View of the Layers panel\n   *@example {Touch event handler} PH1\n   *@example {10} PH2\n   *@example {10} PH3\n   *@example {10} PH4\n   *@example {10} PH5\n   */\n  scrollRectangleDimensions: '{PH1} {PH2} × {PH3} (at {PH4}, {PH5})',\n  /**\n   * @description Text in Layer Details View of the Layers panel. Used to indicate that a particular\n   * layer of the website is unnamed (was not given a name/doesn't have one).\n   */\n  unnamed: '<unnamed>',\n  /**\n   *@description Text in Layer Details View of the Layers panel\n   *@example {Nearest Layer Shifting Sticky Box} PH1\n   *@example {&lt;unnamed&gt;} PH2\n   *@example {5} PH3\n   */\n  stickyAncenstorLayersS: '{PH1}: {PH2} ({PH3})',\n  /**\n   *@description Sticky box rect element text content in Layer Details View of the Layers panel\n   *@example {10} PH1\n   *@example {10} PH2\n   *@example {10} PH3\n   *@example {10} PH4\n   */\n  stickyBoxRectangleDimensions: 'Sticky Box {PH1} × {PH2} (at {PH3}, {PH4})',\n  /**\n   * @description Containing block rect element text content in Layer Details View of the Layers panel.\n   * The placeholder are width, height, x position, and y position respectively.\n   *@example {10} PH1\n   *@example {10} PH2\n   *@example {10} PH3\n   *@example {10} PH4\n   */\n  containingBlocRectangleDimensions: 'Containing Block {PH1} × {PH2} (at {PH3}, {PH4})',\n  /**\n   * @description Text in Layer Details View of the Layers panel. This also means \"The nearest sticky\n   * box that causes a layer shift\".\n   */\n  nearestLayerShiftingStickyBox: 'Nearest Layer Shifting Sticky Box',\n  /**\n   * @description Text in Layer Details View of the Layers panel. This also means \"The nearest block\n   * that causes a layer shift\".\n   */\n  nearestLayerShiftingContaining: 'Nearest Layer Shifting Containing Block',\n  /**\n   *@description Size cell text content in Layer Details View of the Layers panel\n   *@example {10} PH1\n   *@example {10} PH2\n   *@example {10} PH3\n   *@example {10} PH4\n   */\n  updateRectangleDimensions: '{PH1} × {PH2} (at {PH3}, {PH4})',\n  /**\n   *@description Text for the size of something\n   */\n  size: 'Size',\n  /**\n   *@description Text in Layer Details View of the Layers panel\n   */\n  compositingReasons: 'Compositing Reasons',\n  /**\n   *@description Text in Layer Details View of the Layers panel\n   */\n  memoryEstimate: 'Memory estimate',\n  /**\n   *@description Text in Layer Details View of the Layers panel\n   */\n  paintCount: 'Paint count',\n  /**\n   *@description Text in Layer Details View of the Layers panel\n   */\n  slowScrollRegions: 'Slow scroll regions',\n  /**\n   *@description Text in Layer Details View of the Layers panel\n   */\n  stickyPositionConstraint: 'Sticky position constraint',\n  /**\n   *@description Title of the paint profiler, old name of the performance pane\n   */\n  paintProfiler: 'Paint Profiler',\n  /**\n   *@description Text in Layer Details View of the Layers panel\n   */\n  nonFastScrollable: 'Non fast scrollable',\n  /**\n   *@description Text in Layer Details View of the Layers panel\n   */\n  touchEventHandler: 'Touch event handler',\n  /**\n   *@description Text in Layer Details View of the Layers panel\n   */\n  wheelEventHandler: 'Wheel event handler',\n  /**\n   * @description Text in Layer Details View of the Layers panel. Means that this rectangle needs to\n   * be repainted when the webpage is scrolled. 'repaints' means that the browser engine needs to\n   * draw the pixels for this rectangle to the user's monitor again.\n   */\n  repaintsOnScroll: 'Repaints on scroll',\n  /**\n   *@description Text in Layer Details View of the Layers panel\n   */\n  mainThreadScrollingReason: 'Main thread scrolling reason',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/layer_viewer/LayerDetailsView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nconst i18nLazyString = i18n.i18n.getLazilyComputedLocalizedString.bind(undefined, str_);\nexport class LayerDetailsView extends Common.ObjectWrapper.eventMixin<EventTypes, typeof UI.Widget.Widget>(\n    UI.Widget.Widget) implements LayerView {\n  private readonly layerViewHost: LayerViewHost;\n  private readonly emptyWidget: UI.EmptyWidget.EmptyWidget;\n  private layerSnapshotMap: Map<SDK.LayerTreeBase.Layer, SnapshotSelection>;\n  private tableElement!: HTMLElement;\n  private tbodyElement!: HTMLElement;\n  private sizeCell!: HTMLElement;\n  private compositingReasonsCell!: HTMLElement;\n  private memoryEstimateCell!: HTMLElement;\n  private paintCountCell!: HTMLElement;\n  private scrollRectsCell!: HTMLElement;\n  private stickyPositionConstraintCell!: HTMLElement;\n  private paintProfilerLink!: HTMLElement;\n  private selection: Selection|null;\n\n  constructor(layerViewHost: LayerViewHost) {\n    super(true);\n    this.element.setAttribute('jslog', `${VisualLogging.pane('layers-details')}`);\n\n    this.layerViewHost = layerViewHost;\n    this.layerViewHost.registerView(this);\n    this.emptyWidget = new UI.EmptyWidget.EmptyWidget(i18nString(UIStrings.selectALayerToSeeItsDetails));\n    this.layerSnapshotMap = this.layerViewHost.getLayerSnapshotMap();\n\n    this.buildContent();\n    this.selection = null;\n  }\n\n  hoverObject(_selection: Selection|null): void {\n  }\n\n  selectObject(selection: Selection|null): void {\n    this.selection = selection;\n    if (this.isShowing()) {\n      this.update();\n    }\n  }\n\n  setLayerTree(_layerTree: SDK.LayerTreeBase.LayerTreeBase|null): void {\n  }\n\n  override wasShown(): void {\n    super.wasShown();\n    this.registerCSSFiles([layerDetailsViewStyles]);\n    this.update();\n  }\n\n  private onScrollRectClicked(index: number, event: Event): void {\n    if ((event as KeyboardEvent).which !== 1) {\n      return;\n    }\n    if (!this.selection) {\n      return;\n    }\n    this.layerViewHost.selectObject(new ScrollRectSelection(this.selection.layer(), index));\n  }\n\n  private invokeProfilerLink(): void {\n    if (!this.selection) {\n      return;\n    }\n    const snapshotSelection =\n        this.selection.type() === Type.Snapshot ? this.selection : this.layerSnapshotMap.get(this.selection.layer());\n    if (snapshotSelection) {\n      this.dispatchEventToListeners(Events.PaintProfilerRequested, snapshotSelection);\n    }\n  }\n\n  private createScrollRectElement(scrollRect: Protocol.LayerTree.ScrollRect, index: number): void {\n    if (index) {\n      UI.UIUtils.createTextChild(this.scrollRectsCell, ', ');\n    }\n    const element = this.scrollRectsCell.createChild('span', 'scroll-rect');\n    if (this.selection && (this.selection as ScrollRectSelection).scrollRectIndex === index) {\n      element.classList.add('active');\n    }\n    element.textContent = i18nString(UIStrings.scrollRectangleDimensions, {\n      PH1: String(slowScrollRectNames.get(scrollRect.type as unknown as SDK.LayerTreeBase.Layer.ScrollRectType)?.()),\n      PH2: scrollRect.rect.width,\n      PH3: scrollRect.rect.height,\n      PH4: scrollRect.rect.x,\n      PH5: scrollRect.rect.y,\n    });\n    element.addEventListener('click', this.onScrollRectClicked.bind(this, index), false);\n    element.setAttribute('jslog', `${VisualLogging.action('layers.select-object').track({click: true})}`);\n  }\n\n  private formatStickyAncestorLayer(title: string, layer: SDK.LayerTreeBase.Layer|null): string {\n    if (!layer) {\n      return '';\n    }\n\n    const node = layer.nodeForSelfOrAncestor();\n    const name = node ? node.simpleSelector() : i18nString(UIStrings.unnamed);\n    return i18nString(UIStrings.stickyAncenstorLayersS, {PH1: title, PH2: name, PH3: layer.id()});\n  }\n\n  private createStickyAncestorChild(title: string, layer: SDK.LayerTreeBase.Layer|null): void {\n    if (!layer) {\n      return;\n    }\n\n    UI.UIUtils.createTextChild(this.stickyPositionConstraintCell, ', ');\n    const child = this.stickyPositionConstraintCell.createChild('span');\n    child.textContent = this.formatStickyAncestorLayer(title, layer);\n  }\n\n  private populateStickyPositionConstraintCell(constraint: SDK.LayerTreeBase.StickyPositionConstraint|null): void {\n    this.stickyPositionConstraintCell.removeChildren();\n    if (!constraint) {\n      return;\n    }\n\n    const stickyBoxRect = constraint.stickyBoxRect();\n    const stickyBoxRectElement = this.stickyPositionConstraintCell.createChild('span');\n    stickyBoxRectElement.textContent = i18nString(\n        UIStrings.stickyBoxRectangleDimensions,\n        {PH1: stickyBoxRect.width, PH2: stickyBoxRect.height, PH3: stickyBoxRect.x, PH4: stickyBoxRect.y});\n\n    UI.UIUtils.createTextChild(this.stickyPositionConstraintCell, ', ');\n\n    const containingBlockRect = constraint.containingBlockRect();\n    const containingBlockRectElement = this.stickyPositionConstraintCell.createChild('span');\n    containingBlockRectElement.textContent = i18nString(UIStrings.containingBlocRectangleDimensions, {\n      PH1: containingBlockRect.width,\n      PH2: containingBlockRect.height,\n      PH3: containingBlockRect.x,\n      PH4: containingBlockRect.y,\n    });\n\n    this.createStickyAncestorChild(\n        i18nString(UIStrings.nearestLayerShiftingStickyBox), constraint.nearestLayerShiftingStickyBox());\n    this.createStickyAncestorChild(\n        i18nString(UIStrings.nearestLayerShiftingContaining), constraint.nearestLayerShiftingContainingBlock());\n  }\n\n  update(): void {\n    const layer = this.selection && this.selection.layer();\n    if (!layer) {\n      this.tableElement.remove();\n      this.paintProfilerLink.remove();\n      this.emptyWidget.show(this.contentElement);\n      return;\n    }\n    this.emptyWidget.detach();\n    this.contentElement.appendChild(this.tableElement);\n    this.contentElement.appendChild(this.paintProfilerLink);\n    this.sizeCell.textContent = i18nString(\n        UIStrings.updateRectangleDimensions,\n        {PH1: layer.width(), PH2: layer.height(), PH3: layer.offsetX(), PH4: layer.offsetY()});\n    if (this.paintCountCell.parentElement) {\n      this.paintCountCell.parentElement.classList.toggle('hidden', !layer.paintCount());\n    }\n    this.paintCountCell.textContent = String(layer.paintCount());\n    this.memoryEstimateCell.textContent = Platform.NumberUtilities.bytesToString(layer.gpuMemoryUsage());\n    void layer.requestCompositingReasons().then(this.updateCompositingReasons.bind(this));\n    this.scrollRectsCell.removeChildren();\n    layer.scrollRects().forEach(this.createScrollRectElement.bind(this));\n    this.populateStickyPositionConstraintCell(layer.stickyPositionConstraint());\n    const snapshot = this.selection && this.selection.type() === Type.Snapshot ?\n        (this.selection as SnapshotSelection).snapshot() :\n        null;\n\n    this.paintProfilerLink.classList.toggle('hidden', !(this.layerSnapshotMap.has(layer) || snapshot));\n  }\n\n  private buildContent(): void {\n    this.tableElement = this.contentElement.createChild('table') as HTMLElement;\n    this.tbodyElement = this.tableElement.createChild('tbody') as HTMLElement;\n    this.sizeCell = this.createRow(i18nString(UIStrings.size));\n    this.compositingReasonsCell = this.createRow(i18nString(UIStrings.compositingReasons));\n    this.memoryEstimateCell = this.createRow(i18nString(UIStrings.memoryEstimate));\n    this.paintCountCell = this.createRow(i18nString(UIStrings.paintCount));\n    this.scrollRectsCell = this.createRow(i18nString(UIStrings.slowScrollRegions));\n    this.stickyPositionConstraintCell = this.createRow(i18nString(UIStrings.stickyPositionConstraint));\n    this.paintProfilerLink = this.contentElement.createChild(\n                                 'button', 'hidden devtools-link link-margin text-button link-style') as HTMLElement;\n    UI.ARIAUtils.markAsLink(this.paintProfilerLink);\n    this.paintProfilerLink.textContent = i18nString(UIStrings.paintProfiler);\n    this.paintProfilerLink.tabIndex = 0;\n    this.paintProfilerLink.addEventListener('click', e => {\n      e.consume(true);\n      this.invokeProfilerLink();\n    });\n    this.paintProfilerLink.setAttribute(\n        'jslog', `${VisualLogging.action('layers.paint-profiler').track({click: true, keydown: 'Enter'})}`);\n  }\n\n  private createRow(title: string): HTMLElement {\n    const tr = this.tbodyElement.createChild('tr');\n    const titleCell = tr.createChild('td');\n    titleCell.textContent = title;\n    return tr.createChild('td');\n  }\n\n  private updateCompositingReasons(compositingReasons: string[]): void {\n    if (!compositingReasons || !compositingReasons.length) {\n      this.compositingReasonsCell.textContent = 'n/a';\n      return;\n    }\n    this.compositingReasonsCell.removeChildren();\n    const list = this.compositingReasonsCell.createChild('ul');\n    for (const compositingReason of compositingReasons) {\n      list.createChild('li').textContent = compositingReason;\n    }\n  }\n}\n\nexport const enum Events {\n  PaintProfilerRequested = 'PaintProfilerRequested',\n}\n\nexport type EventTypes = {\n  [Events.PaintProfilerRequested]: Selection,\n};\n\nexport const slowScrollRectNames = new Map([\n  [SDK.LayerTreeBase.Layer.ScrollRectType.NonFastScrollable, i18nLazyString(UIStrings.nonFastScrollable)],\n  [SDK.LayerTreeBase.Layer.ScrollRectType.TouchEventHandler, i18nLazyString(UIStrings.touchEventHandler)],\n  [SDK.LayerTreeBase.Layer.ScrollRectType.WheelEventHandler, i18nLazyString(UIStrings.wheelEventHandler)],\n  [SDK.LayerTreeBase.Layer.ScrollRectType.RepaintsOnScroll, i18nLazyString(UIStrings.repaintsOnScroll)],\n  [\n    SDK.LayerTreeBase.Layer.ScrollRectType.MainThreadScrollingReason,\n    i18nLazyString(UIStrings.mainThreadScrollingReason),\n  ],\n]);\n"]}