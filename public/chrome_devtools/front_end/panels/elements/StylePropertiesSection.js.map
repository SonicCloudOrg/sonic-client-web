{"version":3,"file":"StylePropertiesSection.js","sourceRoot":"","sources":["../../../../../../front_end/panels/elements/StylePropertiesSection.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2022 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n/*\n * Copyright (C) 2007 Apple Inc.  All rights reserved.\n * Copyright (C) 2009 Joseph Pecoraro\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *\n * 1.  Redistributions of source code must retain the above copyright\n *     notice, this list of conditions and the following disclaimer.\n * 2.  Redistributions in binary form must reproduce the above copyright\n *     notice, this list of conditions and the following disclaimer in the\n *     documentation and/or other materials provided with the distribution.\n * 3.  Neither the name of Apple Computer, Inc. (\"Apple\") nor the names of\n *     its contributors may be used to endorse or promote products derived\n *     from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY APPLE AND ITS CONTRIBUTORS \"AS IS\" AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL APPLE OR ITS CONTRIBUTORS BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as Root from '../../core/root/root.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as Protocol from '../../generated/protocol.js';\nimport * as Bindings from '../../models/bindings/bindings.js';\nimport * as TextUtils from '../../models/text_utils/text_utils.js';\nimport type * as Buttons from '../../ui/components/buttons/buttons.js';\nimport type * as Components from '../../ui/legacy/components/utils/utils.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\n\nimport {FontEditorSectionManager} from './ColorSwatchPopoverIcon.js';\nimport * as ElementsComponents from './components/components.js';\nimport {linkifyDeferredNodeReference} from './DOMLinkifier.js';\nimport {ElementsPanel} from './ElementsPanel.js';\nimport stylePropertiesTreeOutlineStyles from './stylePropertiesTreeOutline.css.js';\nimport {type Context, StylePropertyTreeElement} from './StylePropertyTreeElement.js';\nimport {StylesSidebarPane} from './StylesSidebarPane.js';\n\nconst UIStrings = {\n  /**\n   *@description Tooltip text that appears when hovering over the largeicon add button in the Styles Sidebar Pane of the Elements panel\n   */\n  insertStyleRuleBelow: 'Insert Style Rule Below',\n  /**\n   *@description Text in Styles Sidebar Pane of the Elements panel\n   */\n  constructedStylesheet: 'constructed stylesheet',\n  /**\n   *@description Text in Styles Sidebar Pane of the Elements panel\n   */\n  userAgentStylesheet: 'user agent stylesheet',\n  /**\n   *@description Text in Styles Sidebar Pane of the Elements panel\n   */\n  injectedStylesheet: 'injected stylesheet',\n  /**\n   *@description Text in Styles Sidebar Pane of the Elements panel\n   */\n  viaInspector: 'via inspector',\n  /**\n   *@description Text in Styles Sidebar Pane of the Elements panel\n   */\n  styleAttribute: '`style` attribute',\n  /**\n   *@description Text in Styles Sidebar Pane of the Elements panel\n   *@example {html} PH1\n   */\n  sattributesStyle: '{PH1}[Attributes Style]',\n  /**\n   *@description Show all button text content in Styles Sidebar Pane of the Elements panel\n   *@example {3} PH1\n   */\n  showAllPropertiesSMore: 'Show all properties ({PH1} more)',\n  /**\n   *@description Text in Elements Tree Element of the Elements panel, copy should be used as a verb\n   */\n  copySelector: 'Copy `selector`',\n  /**\n   *@description A context menu item in Styles panel to copy CSS rule\n   */\n  copyRule: 'Copy rule',\n  /**\n   *@description A context menu item in Styles panel to copy all CSS declarations\n   */\n  copyAllDeclarations: 'Copy all declarations',\n  /**\n   *@description  A context menu item in Styles panel to copy all the CSS changes\n   */\n  copyAllCSSChanges: 'Copy all CSS changes',\n  /**\n   *@description Text that is announced by the screen reader when the user focuses on an input field for editing the name of a CSS selector in the Styles panel\n   */\n  cssSelector: '`CSS` selector',\n};\n\nconst str_ = i18n.i18n.registerUIStrings('panels/elements/StylePropertiesSection.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nconst STYLE_TAG = '<style>';\nconst DEFAULT_MAX_PROPERTIES = 50;\n\nexport class StylePropertiesSection {\n  protected parentPane: StylesSidebarPane;\n  styleInternal: SDK.CSSStyleDeclaration.CSSStyleDeclaration;\n  readonly matchedStyles: SDK.CSSMatchedStyles.CSSMatchedStyles;\n  private computedStyles: Map<string, string>|null;\n  private parentsComputedStyles: Map<string, string>|null;\n  editable: boolean;\n  private hoverTimer: number|null;\n  private willCauseCancelEditing: boolean;\n  private forceShowAll: boolean;\n  private readonly originalPropertiesCount: number;\n  element: HTMLDivElement;\n  readonly #styleRuleElement: HTMLElement;\n  private readonly titleElement: HTMLElement;\n  propertiesTreeOutline: UI.TreeOutline.TreeOutlineInShadow;\n  private showAllButton: Buttons.Button.Button;\n  protected selectorElement: HTMLSpanElement;\n  private readonly newStyleRuleToolbar: UI.Toolbar.Toolbar|undefined;\n  private readonly fontEditorToolbar: UI.Toolbar.Toolbar|undefined;\n  private readonly fontEditorSectionManager: FontEditorSectionManager|undefined;\n  private readonly fontEditorButton: UI.Toolbar.ToolbarButton|undefined;\n  private selectedSinceMouseDown: boolean;\n  private readonly elementToSelectorIndex: WeakMap<Element, number>;\n  navigable: boolean|null|undefined;\n  protected readonly selectorRefElement: HTMLElement;\n  private hoverableSelectorsMode: boolean;\n  private isHiddenInternal: boolean;\n\n  nestingLevel = 0;\n  #ancestorRuleListElement: HTMLElement;\n  #ancestorClosingBracesElement: HTMLElement;\n\n  // Used to identify buttons that trigger a flexbox or grid editor.\n  nextEditorTriggerButtonIdx = 1;\n  private sectionIdx = 0;\n\n  // Used to keep track of Specificity Information\n  static #nodeElementToSpecificity: WeakMap<Element, Protocol.CSS.Specificity> = new WeakMap();\n  #customHeaderText: string|undefined;\n\n  constructor(\n      parentPane: StylesSidebarPane, matchedStyles: SDK.CSSMatchedStyles.CSSMatchedStyles,\n      style: SDK.CSSStyleDeclaration.CSSStyleDeclaration, sectionIdx: number, computedStyles: Map<string, string>|null,\n      parentsComputedStyles: Map<string, string>|null, customHeaderText?: string) {\n    this.#customHeaderText = customHeaderText;\n    this.parentPane = parentPane;\n    this.sectionIdx = sectionIdx;\n    this.styleInternal = style;\n    this.matchedStyles = matchedStyles;\n    this.computedStyles = computedStyles;\n    this.parentsComputedStyles = parentsComputedStyles;\n    this.editable = Boolean(style.styleSheetId && style.range);\n    this.hoverTimer = null;\n    this.willCauseCancelEditing = false;\n    this.forceShowAll = false;\n    this.originalPropertiesCount = style.leadingProperties().length;\n\n    const rule = style.parentRule;\n    const headerText = this.headerText();\n    this.element = document.createElement('div');\n    this.element.classList.add('styles-section');\n    this.element.classList.add('matched-styles');\n    this.element.classList.add('monospace');\n    this.element.setAttribute('jslog', `${VisualLogging.section('style-properties').track({\n                                keydown: 'ArrowUp|ArrowDown|ArrowLeft|ArrowRight|Enter|Space',\n                              })}`);\n    UI.ARIAUtils.setLabel(this.element, `${headerText}, css selector`);\n    this.element.tabIndex = -1;\n    UI.ARIAUtils.markAsListitem(this.element);\n    this.element.addEventListener('keydown', this.onKeyDown.bind(this), false);\n    parentPane.sectionByElement.set(this.element, this);\n    this.#styleRuleElement = this.element.createChild('div', 'style-rule');\n\n    this.#ancestorRuleListElement = document.createElement('div');\n    this.#ancestorRuleListElement.classList.add('ancestor-rule-list');\n    this.element.prepend(this.#ancestorRuleListElement);\n    this.#ancestorClosingBracesElement = document.createElement('div');\n    this.#ancestorClosingBracesElement.classList.add('ancestor-closing-braces');\n    this.element.append(this.#ancestorClosingBracesElement);\n    this.updateAncestorRuleList();\n\n    this.titleElement =\n        this.#styleRuleElement.createChild('div', 'styles-section-title ' + (rule ? 'styles-selector' : ''));\n\n    this.propertiesTreeOutline = new UI.TreeOutline.TreeOutlineInShadow();\n    this.propertiesTreeOutline.setFocusable(false);\n    this.propertiesTreeOutline.registerCSSFiles([stylePropertiesTreeOutlineStyles]);\n    this.propertiesTreeOutline.element.classList.add('style-properties', 'matched-styles', 'monospace');\n    this.#styleRuleElement.appendChild(this.propertiesTreeOutline.element);\n\n    this.showAllButton = UI.UIUtils.createTextButton('', this.showAllItems.bind(this), {\n      className: 'styles-show-all',\n      jslogContext: 'elements.show-all-style-properties',\n    });\n    this.#styleRuleElement.appendChild(this.showAllButton);\n\n    const indent = Common.Settings.Settings.instance().moduleSetting('text-editor-indent').get();\n    const selectorContainer = document.createElement('div');\n    selectorContainer.createChild('span', 'styles-clipboard-only').textContent = indent.repeat(this.nestingLevel);\n    selectorContainer.classList.add('selector-container');\n    this.selectorElement = document.createElement('span');\n    UI.ARIAUtils.setLabel(this.selectorElement, i18nString(UIStrings.cssSelector));\n    this.selectorElement.classList.add('selector');\n    this.selectorElement.textContent = headerText;\n    selectorContainer.appendChild(this.selectorElement);\n    this.selectorElement.addEventListener('mouseenter', this.onMouseEnterSelector.bind(this), false);\n    this.selectorElement.addEventListener('mouseleave', this.onMouseOutSelector.bind(this), false);\n\n    // We only add braces for style rules with selectors and non-style rules, which create their own sections.\n    if (headerText.length > 0 || !(rule instanceof SDK.CSSRule.CSSStyleRule)) {\n      const openBrace = selectorContainer.createChild('span', 'sidebar-pane-open-brace');\n      openBrace.textContent = headerText.length > 0 ? ' {' : '{';  // We don't add spacing when there is no selector.\n\n      const closeBrace = this.#styleRuleElement.createChild('div', 'sidebar-pane-closing-brace');\n      closeBrace.createChild('span', 'styles-clipboard-only').textContent = indent.repeat(this.nestingLevel);\n      closeBrace.createChild('span').textContent = '}';\n    } else {\n      this.titleElement.classList.add('hidden');\n    }\n\n    if (rule) {\n      const newRuleButton = new UI.Toolbar.ToolbarButton(\n          i18nString(UIStrings.insertStyleRuleBelow), 'plus', undefined, 'elements.new-style-rule');\n      newRuleButton.addEventListener(UI.Toolbar.ToolbarButton.Events.Click, this.onNewRuleClick, this);\n      newRuleButton.element.tabIndex = -1;\n      if (!this.newStyleRuleToolbar) {\n        this.newStyleRuleToolbar =\n            new UI.Toolbar.Toolbar('sidebar-pane-section-toolbar new-rule-toolbar', this.element);\n      }\n      this.newStyleRuleToolbar.appendToolbarItem(newRuleButton);\n      UI.ARIAUtils.markAsHidden(this.newStyleRuleToolbar.element);\n    }\n\n    if (Root.Runtime.experiments.isEnabled('font-editor') && this.editable) {\n      this.fontEditorToolbar = new UI.Toolbar.Toolbar('sidebar-pane-section-toolbar', this.#styleRuleElement);\n      this.fontEditorSectionManager = new FontEditorSectionManager(this.parentPane.swatchPopoverHelper(), this);\n      this.fontEditorButton = new UI.Toolbar.ToolbarButton('Font Editor', 'custom-typography');\n      this.fontEditorButton.addEventListener(UI.Toolbar.ToolbarButton.Events.Click, () => {\n        this.onFontEditorButtonClicked();\n      }, this);\n      this.fontEditorButton.element.addEventListener('keydown', event => {\n        if (Platform.KeyboardUtilities.isEnterOrSpaceKey(event)) {\n          event.consume(true);\n          this.onFontEditorButtonClicked();\n        }\n      }, false);\n      this.fontEditorToolbar.appendToolbarItem(this.fontEditorButton);\n\n      if (this.styleInternal.type === SDK.CSSStyleDeclaration.Type.Inline) {\n        if (this.newStyleRuleToolbar) {\n          this.newStyleRuleToolbar.element.classList.add('shifted-toolbar');\n        }\n      } else {\n        this.fontEditorToolbar.element.classList.add('font-toolbar-hidden');\n      }\n    }\n\n    this.selectorElement.addEventListener('click', this.handleSelectorClick.bind(this), false);\n    this.selectorElement.setAttribute(\n        'jslog', `${VisualLogging.cssRuleHeader('selector').track({click: true, change: true})}`);\n    this.element.addEventListener('contextmenu', this.handleContextMenuEvent.bind(this), false);\n    this.element.addEventListener('mousedown', this.handleEmptySpaceMouseDown.bind(this), false);\n    this.element.addEventListener('click', this.handleEmptySpaceClick.bind(this), false);\n    this.element.addEventListener('mousemove', this.onMouseMove.bind(this), false);\n    this.element.addEventListener('mouseleave', this.onMouseLeave.bind(this), false);\n    this.selectedSinceMouseDown = false;\n\n    this.elementToSelectorIndex = new WeakMap();\n\n    if (rule) {\n      // Prevent editing the user agent and user rules.\n      if (rule.isUserAgent() || rule.isInjected()) {\n        this.editable = false;\n      } else {\n        // Check this is a real CSSRule, not a bogus object coming from BlankStylePropertiesSection.\n        if (rule.styleSheetId) {\n          const header = rule.cssModel().styleSheetHeaderForId(rule.styleSheetId);\n          this.navigable = header && !header.isAnonymousInlineStyleSheet();\n        }\n      }\n    }\n\n    this.selectorRefElement = document.createElement('div');\n    this.selectorRefElement.classList.add('styles-section-subtitle');\n    this.element.prepend(this.selectorRefElement);\n    this.updateRuleOrigin();\n    this.titleElement.appendChild(selectorContainer);\n\n    if (this.navigable) {\n      this.element.classList.add('navigable');\n    }\n\n    if (!this.editable) {\n      this.element.classList.add('read-only');\n      this.propertiesTreeOutline.element.classList.add('read-only');\n    }\n    this.hoverableSelectorsMode = false;\n    this.isHiddenInternal = false;\n    this.markSelectorMatches();\n    this.onpopulate();\n  }\n\n  setComputedStyles(computedStyles: Map<string, string>|null): void {\n    this.computedStyles = computedStyles;\n  }\n\n  setParentsComputedStyles(parentsComputedStyles: Map<string, string>|null): void {\n    this.parentsComputedStyles = parentsComputedStyles;\n  }\n\n  updateAuthoringHint(): void {\n    let child = this.propertiesTreeOutline.firstChild();\n    while (child) {\n      if (child instanceof StylePropertyTreeElement) {\n        child.setComputedStyles(this.computedStyles);\n        child.setParentsComputedStyles(this.parentsComputedStyles);\n        child.updateAuthoringHint();\n      }\n      child = child.nextSibling;\n    }\n  }\n\n  setSectionIdx(sectionIdx: number): void {\n    this.sectionIdx = sectionIdx;\n    this.onpopulate();\n  }\n\n  getSectionIdx(): number {\n    return this.sectionIdx;\n  }\n\n  registerFontProperty(treeElement: StylePropertyTreeElement): void {\n    if (this.fontEditorSectionManager) {\n      this.fontEditorSectionManager.registerFontProperty(treeElement);\n    }\n    if (this.fontEditorToolbar) {\n      this.fontEditorToolbar.element.classList.remove('font-toolbar-hidden');\n      if (this.newStyleRuleToolbar) {\n        this.newStyleRuleToolbar.element.classList.add('shifted-toolbar');\n      }\n    }\n  }\n\n  resetToolbars(): void {\n    if (this.parentPane.swatchPopoverHelper().isShowing() ||\n        this.styleInternal.type === SDK.CSSStyleDeclaration.Type.Inline) {\n      return;\n    }\n    if (this.fontEditorToolbar) {\n      this.fontEditorToolbar.element.classList.add('font-toolbar-hidden');\n    }\n    if (this.newStyleRuleToolbar) {\n      this.newStyleRuleToolbar.element.classList.remove('shifted-toolbar');\n    }\n  }\n\n  static createRuleOriginNode(\n      matchedStyles: SDK.CSSMatchedStyles.CSSMatchedStyles, linkifier: Components.Linkifier.Linkifier,\n      rule: SDK.CSSRule.CSSRule|null): Node {\n    if (!rule) {\n      return document.createTextNode('');\n    }\n\n    const ruleLocation = StylePropertiesSection.getRuleLocationFromCSSRule(rule);\n\n    const header = rule.styleSheetId ? matchedStyles.cssModel().styleSheetHeaderForId(rule.styleSheetId) : null;\n\n    function linkifyRuleLocation(): Node|null {\n      if (!rule) {\n        return null;\n      }\n      if (ruleLocation && rule.styleSheetId && header &&\n          (!header.isAnonymousInlineStyleSheet() ||\n           matchedStyles.cssModel().sourceMapManager().sourceMapForClient(header))) {\n        return StylePropertiesSection.linkifyRuleLocation(\n            matchedStyles.cssModel(), linkifier, rule.styleSheetId, ruleLocation);\n      }\n      return null;\n    }\n\n    function linkifyNode(label: string): Node|null {\n      if (header?.ownerNode) {\n        const link = linkifyDeferredNodeReference(header.ownerNode, {\n          preventKeyboardFocus: false,\n          tooltip: undefined,\n        });\n        link.textContent = label;\n        return link;\n      }\n      return null;\n    }\n\n    if (header?.isMutable && !header.isViaInspector()) {\n      const location = header.isConstructedByNew() && !header.sourceMapURL ? null : linkifyRuleLocation();\n      if (location) {\n        return location;\n      }\n      const label = header.isConstructedByNew() ? i18nString(UIStrings.constructedStylesheet) : STYLE_TAG;\n      const node = linkifyNode(label);\n      if (node) {\n        return node;\n      }\n      return document.createTextNode(label);\n    }\n\n    const location = linkifyRuleLocation();\n    if (location) {\n      return location;\n    }\n\n    if (rule.isUserAgent()) {\n      return document.createTextNode(i18nString(UIStrings.userAgentStylesheet));\n    }\n    if (rule.isInjected()) {\n      return document.createTextNode(i18nString(UIStrings.injectedStylesheet));\n    }\n    if (rule.isViaInspector()) {\n      return document.createTextNode(i18nString(UIStrings.viaInspector));\n    }\n\n    const node = linkifyNode(STYLE_TAG);\n    if (node) {\n      return node;\n    }\n\n    return document.createTextNode('');\n  }\n\n  protected createRuleOriginNode(\n      matchedStyles: SDK.CSSMatchedStyles.CSSMatchedStyles, linkifier: Components.Linkifier.Linkifier,\n      rule: SDK.CSSRule.CSSRule|null): Node {\n    return StylePropertiesSection.createRuleOriginNode(matchedStyles, linkifier, rule);\n  }\n\n  private static getRuleLocationFromCSSRule(rule: SDK.CSSRule.CSSRule): TextUtils.TextRange.TextRange|null|undefined {\n    let ruleLocation;\n    if (rule instanceof SDK.CSSRule.CSSStyleRule) {\n      ruleLocation = rule.style.range;\n    } else if (rule instanceof SDK.CSSRule.CSSKeyframeRule) {\n      ruleLocation = rule.key().range;\n    }\n    return ruleLocation;\n  }\n\n  static tryNavigateToRuleLocation(\n      matchedStyles: SDK.CSSMatchedStyles.CSSMatchedStyles, rule: SDK.CSSRule.CSSRule|null): void {\n    if (!rule) {\n      return;\n    }\n\n    const ruleLocation = this.getRuleLocationFromCSSRule(rule);\n    const header = rule.styleSheetId ? matchedStyles.cssModel().styleSheetHeaderForId(rule.styleSheetId) : null;\n\n    if (ruleLocation && rule.styleSheetId && header && !header.isAnonymousInlineStyleSheet()) {\n      const matchingSelectorLocation =\n          this.getCSSSelectorLocation(matchedStyles.cssModel(), rule.styleSheetId, ruleLocation);\n      this.revealSelectorSource(matchingSelectorLocation, true);\n    }\n  }\n\n  protected static linkifyRuleLocation(\n      cssModel: SDK.CSSModel.CSSModel, linkifier: Components.Linkifier.Linkifier,\n      styleSheetId: Protocol.CSS.StyleSheetId, ruleLocation: TextUtils.TextRange.TextRange): Node {\n    const matchingSelectorLocation = this.getCSSSelectorLocation(cssModel, styleSheetId, ruleLocation);\n    return linkifier.linkifyCSSLocation(matchingSelectorLocation);\n  }\n\n  private static getCSSSelectorLocation(\n      cssModel: SDK.CSSModel.CSSModel, styleSheetId: Protocol.CSS.StyleSheetId,\n      ruleLocation: TextUtils.TextRange.TextRange): SDK.CSSModel.CSSLocation {\n    const styleSheetHeader =\n        (cssModel.styleSheetHeaderForId(styleSheetId) as SDK.CSSStyleSheetHeader.CSSStyleSheetHeader);\n    const lineNumber = styleSheetHeader.lineNumberInSource(ruleLocation.startLine);\n    const columnNumber = styleSheetHeader.columnNumberInSource(ruleLocation.startLine, ruleLocation.startColumn);\n    return new SDK.CSSModel.CSSLocation(styleSheetHeader, lineNumber, columnNumber);\n  }\n\n  private getFocused(): HTMLElement|null {\n    return (this.propertiesTreeOutline.shadowRoot.activeElement as HTMLElement) || null;\n  }\n\n  private focusNext(element: HTMLElement): void {\n    // Clear remembered focused item (if any).\n    const focused = this.getFocused();\n    if (focused) {\n      focused.tabIndex = -1;\n    }\n\n    // Focus the next item and remember it (if in our subtree).\n    element.focus();\n    if (this.propertiesTreeOutline.shadowRoot.contains(element)) {\n      element.tabIndex = 0;\n    }\n  }\n\n  private ruleNavigation(keyboardEvent: KeyboardEvent): void {\n    if (keyboardEvent.altKey || keyboardEvent.ctrlKey || keyboardEvent.metaKey || keyboardEvent.shiftKey) {\n      return;\n    }\n\n    const focused = this.getFocused();\n\n    let focusNext: HTMLElement|null = null;\n    const focusable =\n        Array.from((this.propertiesTreeOutline.shadowRoot.querySelectorAll('[tabindex]') as NodeListOf<HTMLElement>));\n\n    if (focusable.length === 0) {\n      return;\n    }\n\n    const focusedIndex = focused ? focusable.indexOf(focused) : -1;\n\n    if (keyboardEvent.key === 'ArrowLeft') {\n      focusNext = focusable[focusedIndex - 1] || this.element;\n    } else if (keyboardEvent.key === 'ArrowRight') {\n      focusNext = focusable[focusedIndex + 1] || this.element;\n    } else if (keyboardEvent.key === 'ArrowUp' || keyboardEvent.key === 'ArrowDown') {\n      this.focusNext(this.element);\n      return;\n    }\n\n    if (focusNext) {\n      this.focusNext(focusNext);\n      keyboardEvent.consume(true);\n    }\n  }\n\n  private onKeyDown(event: Event): void {\n    const keyboardEvent = (event as KeyboardEvent);\n    if (UI.UIUtils.isEditing() || !this.editable || keyboardEvent.altKey || keyboardEvent.ctrlKey ||\n        keyboardEvent.metaKey) {\n      return;\n    }\n    switch (keyboardEvent.key) {\n      case 'Enter':\n      case ' ':\n        this.startEditingAtFirstPosition();\n        keyboardEvent.consume(true);\n        break;\n      case 'ArrowLeft':\n      case 'ArrowRight':\n      case 'ArrowUp':\n      case 'ArrowDown':\n        this.ruleNavigation(keyboardEvent);\n        break;\n      default:\n        // Filter out non-printable key strokes.\n        if (keyboardEvent.key.length === 1) {\n          this.addNewBlankProperty(0).startEditingName();\n        }\n        break;\n    }\n  }\n\n  private setSectionHovered(isHovered: boolean): void {\n    this.element.classList.toggle('styles-panel-hovered', isHovered);\n    this.propertiesTreeOutline.element.classList.toggle('styles-panel-hovered', isHovered);\n    if (this.hoverableSelectorsMode !== isHovered) {\n      this.hoverableSelectorsMode = isHovered;\n      this.markSelectorMatches();\n    }\n  }\n\n  private onMouseLeave(_event: Event): void {\n    this.setSectionHovered(false);\n    this.parentPane.setActiveProperty(null);\n  }\n\n  private onMouseMove(event: MouseEvent): void {\n    const hasCtrlOrMeta = UI.KeyboardShortcut.KeyboardShortcut.eventHasCtrlEquivalentKey(event);\n    this.setSectionHovered(hasCtrlOrMeta);\n\n    const treeElement = this.propertiesTreeOutline.treeElementFromEvent(event);\n    if (treeElement instanceof StylePropertyTreeElement) {\n      this.parentPane.setActiveProperty((treeElement as StylePropertyTreeElement));\n    } else {\n      this.parentPane.setActiveProperty(null);\n    }\n    const selection = this.element.getComponentSelection();\n    if (!this.selectedSinceMouseDown && selection && selection.toString()) {\n      this.selectedSinceMouseDown = true;\n    }\n  }\n\n  private onFontEditorButtonClicked(): void {\n    if (this.fontEditorSectionManager && this.fontEditorButton) {\n      void this.fontEditorSectionManager.showPopover(this.fontEditorButton.element, this.parentPane);\n    }\n  }\n\n  style(): SDK.CSSStyleDeclaration.CSSStyleDeclaration {\n    return this.styleInternal;\n  }\n\n  headerText(): string {\n    if (this.#customHeaderText) {\n      return this.#customHeaderText;\n    }\n    const node = this.matchedStyles.nodeForStyle(this.styleInternal);\n    if (this.styleInternal.type === SDK.CSSStyleDeclaration.Type.Inline) {\n      return this.matchedStyles.isInherited(this.styleInternal) ? i18nString(UIStrings.styleAttribute) :\n                                                                  'element.style';\n    }\n    if (node && this.styleInternal.type === SDK.CSSStyleDeclaration.Type.Attributes) {\n      return i18nString(UIStrings.sattributesStyle, {PH1: node.nodeNameInCorrectCase()});\n    }\n    if (this.styleInternal.parentRule instanceof SDK.CSSRule.CSSStyleRule) {\n      return this.styleInternal.parentRule.selectorText();\n    }\n    return '';\n  }\n\n  private onMouseOutSelector(): void {\n    if (this.hoverTimer) {\n      clearTimeout(this.hoverTimer);\n    }\n    SDK.OverlayModel.OverlayModel.hideDOMNodeHighlight();\n  }\n\n  private onMouseEnterSelector(): void {\n    if (this.hoverTimer) {\n      clearTimeout(this.hoverTimer);\n    }\n    this.hoverTimer = window.setTimeout(this.highlight.bind(this), 300);\n  }\n\n  highlight(mode: string|undefined = 'all'): void {\n    SDK.OverlayModel.OverlayModel.hideDOMNodeHighlight();\n    const node = this.parentPane.node();\n    if (!node) {\n      return;\n    }\n    const selectorList =\n        this.styleInternal.parentRule && this.styleInternal.parentRule instanceof SDK.CSSRule.CSSStyleRule ?\n        this.styleInternal.parentRule.selectorText() :\n        undefined;\n    node.domModel().overlayModel().highlightInOverlay({node, selectorList}, mode);\n  }\n\n  firstSibling(): StylePropertiesSection|null {\n    const parent = this.element.parentElement;\n    if (!parent) {\n      return null;\n    }\n\n    let childElement: (ChildNode|null) = parent.firstChild;\n    while (childElement) {\n      const childSection = this.parentPane.sectionByElement.get(childElement);\n      if (childSection) {\n        return childSection;\n      }\n      childElement = childElement.nextSibling;\n    }\n\n    return null;\n  }\n\n  findCurrentOrNextVisible(willIterateForward: boolean, originalSection?: StylePropertiesSection):\n      StylePropertiesSection|null {\n    if (!this.isHidden()) {\n      return this;\n    }\n    if (this === originalSection) {\n      return null;\n    }\n    if (!originalSection) {\n      originalSection = this;\n    }\n    let visibleSibling: (StylePropertiesSection|null)|null = null;\n    const nextSibling = willIterateForward ? this.nextSibling() : this.previousSibling();\n    if (nextSibling) {\n      visibleSibling = nextSibling.findCurrentOrNextVisible(willIterateForward, originalSection);\n    } else {\n      const loopSibling = willIterateForward ? this.firstSibling() : this.lastSibling();\n      if (loopSibling) {\n        visibleSibling = loopSibling.findCurrentOrNextVisible(willIterateForward, originalSection);\n      }\n    }\n\n    return visibleSibling;\n  }\n\n  lastSibling(): StylePropertiesSection|null {\n    const parent = this.element.parentElement;\n    if (!parent) {\n      return null;\n    }\n\n    let childElement: (ChildNode|null) = parent.lastChild;\n    while (childElement) {\n      const childSection = this.parentPane.sectionByElement.get(childElement);\n      if (childSection) {\n        return childSection;\n      }\n      childElement = childElement.previousSibling;\n    }\n\n    return null;\n  }\n\n  nextSibling(): StylePropertiesSection|undefined {\n    let curElement: (ChildNode|null)|HTMLDivElement = this.element;\n    do {\n      curElement = curElement.nextSibling;\n    } while (curElement && !this.parentPane.sectionByElement.has(curElement));\n\n    if (curElement) {\n      return this.parentPane.sectionByElement.get(curElement);\n    }\n    return;\n  }\n\n  previousSibling(): StylePropertiesSection|undefined {\n    let curElement: (ChildNode|null)|HTMLDivElement = this.element;\n    do {\n      curElement = curElement.previousSibling;\n    } while (curElement && !this.parentPane.sectionByElement.has(curElement));\n\n    if (curElement) {\n      return this.parentPane.sectionByElement.get(curElement);\n    }\n    return;\n  }\n\n  private onNewRuleClick(event: Common.EventTarget.EventTargetEvent<Event>): void {\n    event.data.consume();\n    const rule = this.styleInternal.parentRule;\n    if (!rule || !rule.style.range || rule.styleSheetId === undefined) {\n      return;\n    }\n    const range =\n        TextUtils.TextRange.TextRange.createFromLocation(rule.style.range.endLine, rule.style.range.endColumn + 1);\n    this.parentPane.addBlankSection(this, rule.styleSheetId, range);\n  }\n\n  styleSheetEdited(edit: SDK.CSSModel.Edit): void {\n    const rule = this.styleInternal.parentRule;\n    if (rule) {\n      rule.rebase(edit);\n    } else {\n      this.styleInternal.rebase(edit);\n    }\n\n    this.updateAncestorRuleList();\n    this.updateRuleOrigin();\n  }\n\n  protected createAncestorRules(rule: SDK.CSSRule.CSSStyleRule): void {\n    let mediaIndex = 0;\n    let containerIndex = 0;\n    let scopeIndex = 0;\n    let supportsIndex = 0;\n    let nestingIndex = 0;\n    this.nestingLevel = 0;\n    const indent = Common.Settings.Settings.instance().moduleSetting('text-editor-indent').get();\n    for (const ruleType of rule.ruleTypes) {\n      let ancestorRuleElement;\n      switch (ruleType) {\n        case Protocol.CSS.CSSRuleType.MediaRule:\n          ancestorRuleElement = this.createMediaElement(rule.media[mediaIndex++]);\n          break;\n        case Protocol.CSS.CSSRuleType.ContainerRule:\n          ancestorRuleElement = this.createContainerQueryElement(rule.containerQueries[containerIndex++]);\n          break;\n        case Protocol.CSS.CSSRuleType.ScopeRule:\n          ancestorRuleElement = this.createScopeElement(rule.scopes[scopeIndex++]);\n          break;\n        case Protocol.CSS.CSSRuleType.SupportsRule:\n          ancestorRuleElement = this.createSupportsElement(rule.supports[supportsIndex++]);\n          break;\n        case Protocol.CSS.CSSRuleType.StyleRule:\n          ancestorRuleElement = this.createNestingElement(rule.nestingSelectors?.[nestingIndex++]);\n          break;\n      }\n      if (ancestorRuleElement) {\n        this.#ancestorRuleListElement.prepend(ancestorRuleElement);\n        const closingBrace = document.createElement('div');\n        closingBrace.createChild('span', 'styles-clipboard-only').textContent = indent.repeat(this.nestingLevel);\n        closingBrace.style.paddingLeft = `${this.nestingLevel}ch`;\n        closingBrace.append('}');\n        this.#ancestorClosingBracesElement.prepend(closingBrace);\n        this.nestingLevel++;\n      }\n    }\n\n    if (this.headerText().length === 0) {\n      // We reduce one level since no selector means one less pair of braces are added for declarations.\n      this.nestingLevel--;\n    }\n\n    let curNestingLevel = 0;\n    for (const element of this.#ancestorRuleListElement.children) {\n      const indentElement = document.createElement('span');\n      indentElement.classList.add('styles-clipboard-only');\n      indentElement.setAttribute('slot', 'indent');\n      indentElement.textContent = indent.repeat(curNestingLevel);\n      element.prepend(indentElement);\n      (element as HTMLElement).style.paddingLeft = `${curNestingLevel}ch`;\n      curNestingLevel++;\n    }\n  }\n\n  protected createMediaElement(media: SDK.CSSMedia.CSSMedia): ElementsComponents.CSSQuery.CSSQuery|undefined {\n    // Don't display trivial non-print media types.\n    const isMedia = !media.text || !media.text.includes('(') && media.text !== 'print';\n    if (isMedia) {\n      return;\n    }\n\n    let queryPrefix = '';\n    let queryText = '';\n    let onQueryTextClick;\n    switch (media.source) {\n      case SDK.CSSMedia.Source.LINKED_SHEET:\n      case SDK.CSSMedia.Source.INLINE_SHEET: {\n        queryText = `media=\"${media.text}\"`;\n        break;\n      }\n      case SDK.CSSMedia.Source.MEDIA_RULE: {\n        queryPrefix = '@media';\n        queryText = media.text;\n        if (media.styleSheetId) {\n          onQueryTextClick = this.handleQueryRuleClick.bind(this, media);\n        }\n        break;\n      }\n      case SDK.CSSMedia.Source.IMPORT_RULE: {\n        queryText = `@import ${media.text}`;\n        break;\n      }\n    }\n\n    const mediaQueryElement = new ElementsComponents.CSSQuery.CSSQuery();\n    mediaQueryElement.data = {\n      queryPrefix,\n      queryText,\n      onQueryTextClick,\n      jslogContext: 'media-query',\n    };\n    return mediaQueryElement;\n  }\n\n  protected createContainerQueryElement(containerQuery: SDK.CSSContainerQuery.CSSContainerQuery):\n      ElementsComponents.CSSQuery.CSSQuery|undefined {\n    if (!containerQuery.text) {\n      return;\n    }\n\n    let onQueryTextClick;\n    if (containerQuery.styleSheetId) {\n      onQueryTextClick = this.handleQueryRuleClick.bind(this, containerQuery);\n    }\n\n    const containerQueryElement = new ElementsComponents.CSSQuery.CSSQuery();\n    containerQueryElement.data = {\n      queryPrefix: '@container',\n      queryName: containerQuery.name,\n      queryText: containerQuery.text,\n      onQueryTextClick,\n      jslogContext: 'container-query',\n    };\n    if (!/^style\\(.*\\)/.test(containerQuery.text)) {\n      // We only add container element for non-style queries.\n      void this.addContainerForContainerQuery(containerQuery);\n    }\n    return containerQueryElement;\n  }\n\n  protected createScopeElement(scope: SDK.CSSScope.CSSScope): ElementsComponents.CSSQuery.CSSQuery|undefined {\n    let onQueryTextClick;\n    if (scope.styleSheetId) {\n      onQueryTextClick = this.handleQueryRuleClick.bind(this, scope);\n    }\n\n    const scopeElement = new ElementsComponents.CSSQuery.CSSQuery();\n    scopeElement.data = {\n      queryPrefix: '@scope',\n      queryText: scope.text,\n      onQueryTextClick,\n      jslogContext: 'scope',\n    };\n    return scopeElement;\n  }\n\n  protected createSupportsElement(supports: SDK.CSSSupports.CSSSupports): ElementsComponents.CSSQuery.CSSQuery\n      |undefined {\n    if (!supports.text) {\n      return;\n    }\n\n    let onQueryTextClick;\n    if (supports.styleSheetId) {\n      onQueryTextClick = this.handleQueryRuleClick.bind(this, supports);\n    }\n\n    const supportsElement = new ElementsComponents.CSSQuery.CSSQuery();\n    supportsElement.data = {\n      queryPrefix: '@supports',\n      queryText: supports.text,\n      onQueryTextClick,\n      jslogContext: 'supports',\n    };\n    return supportsElement;\n  }\n\n  protected createNestingElement(nestingSelector?: string): HTMLElement|undefined {\n    if (!nestingSelector) {\n      return;\n    }\n    const nestingElement = document.createElement('div');\n    nestingElement.textContent = `${nestingSelector} {`;\n    return nestingElement;\n  }\n\n  private async addContainerForContainerQuery(containerQuery: SDK.CSSContainerQuery.CSSContainerQuery): Promise<void> {\n    const container = await containerQuery.getContainerForNode(this.matchedStyles.node().id);\n    if (!container) {\n      return;\n    }\n\n    const containerElement = new ElementsComponents.QueryContainer.QueryContainer();\n    containerElement.data = {\n      container: ElementsComponents.Helper.legacyNodeToElementsComponentsNode(container.containerNode),\n      queryName: containerQuery.name,\n      onContainerLinkClick: event => {\n        event.preventDefault();\n        void ElementsPanel.instance().revealAndSelectNode(container.containerNode, true, true);\n        void container.containerNode.scrollIntoView();\n      },\n    };\n\n    containerElement.addEventListener('queriedsizerequested', async () => {\n      const details = await container.getContainerSizeDetails();\n      if (details) {\n        containerElement.updateContainerQueriedSizeDetails(details);\n      }\n    });\n\n    this.#ancestorRuleListElement.prepend(containerElement);\n  }\n\n  private updateAncestorRuleList(): void {\n    this.#ancestorRuleListElement.removeChildren();\n    this.#ancestorClosingBracesElement.removeChildren();\n    if (this.styleInternal.parentRule && this.styleInternal.parentRule instanceof SDK.CSSRule.CSSStyleRule) {\n      this.createAncestorRules(this.styleInternal.parentRule);\n    }\n    this.#styleRuleElement.style.paddingLeft = `${this.nestingLevel}ch`;\n  }\n\n  isPropertyInherited(propertyName: string): boolean {\n    if (this.matchedStyles.isInherited(this.styleInternal)) {\n      // While rendering inherited stylesheet, reverse meaning of this property.\n      // Render truly inherited properties with black, i.e. return them as non-inherited.\n      return !SDK.CSSMetadata.cssMetadata().isPropertyInherited(propertyName);\n    }\n    return false;\n  }\n\n  nextEditableSibling(): StylePropertiesSection|null {\n    let curSection: (StylePropertiesSection|undefined)|(StylePropertiesSection | null)|this = this;\n    do {\n      curSection = curSection.nextSibling();\n    } while (curSection && !curSection.editable);\n\n    if (!curSection) {\n      curSection = this.firstSibling();\n      while (curSection && !curSection.editable) {\n        curSection = curSection.nextSibling();\n      }\n    }\n\n    return (curSection && curSection.editable) ? curSection : null;\n  }\n\n  previousEditableSibling(): StylePropertiesSection|null {\n    let curSection: (StylePropertiesSection|undefined)|(StylePropertiesSection | null)|this = this;\n    do {\n      curSection = curSection.previousSibling();\n    } while (curSection && !curSection.editable);\n\n    if (!curSection) {\n      curSection = this.lastSibling();\n      while (curSection && !curSection.editable) {\n        curSection = curSection.previousSibling();\n      }\n    }\n\n    return (curSection && curSection.editable) ? curSection : null;\n  }\n\n  refreshUpdate(editedTreeElement: StylePropertyTreeElement): void {\n    this.parentPane.refreshUpdate(this, editedTreeElement);\n  }\n\n  updateVarFunctions(editedTreeElement: StylePropertyTreeElement): void {\n    let child = this.propertiesTreeOutline.firstChild();\n    while (child) {\n      if (child !== editedTreeElement && child instanceof StylePropertyTreeElement) {\n        child.updateTitleIfComputedValueChanged();\n      }\n      child = child.traverseNextTreeElement(false /* skipUnrevealed */, null /* stayWithin */, true /* dontPopulate */);\n    }\n  }\n\n  update(full: boolean): void {\n    const headerText = this.headerText();\n    this.selectorElement.textContent = headerText;\n    this.titleElement.classList.toggle('hidden', headerText.length === 0);\n    this.markSelectorMatches();\n    if (full) {\n      this.onpopulate();\n    } else {\n      let child = this.propertiesTreeOutline.firstChild();\n      while (child && child instanceof StylePropertyTreeElement) {\n        child.setOverloaded(this.isPropertyOverloaded(child.property));\n        child =\n            child.traverseNextTreeElement(false /* skipUnrevealed */, null /* stayWithin */, true /* dontPopulate */);\n      }\n    }\n  }\n\n  showAllItems(event?: Event): void {\n    if (event) {\n      event.consume();\n    }\n    if (this.forceShowAll) {\n      return;\n    }\n    this.forceShowAll = true;\n    this.onpopulate();\n  }\n\n  onpopulate(): void {\n    this.parentPane.setActiveProperty(null);\n    this.nextEditorTriggerButtonIdx = 1;\n    this.propertiesTreeOutline.removeChildren();\n    const style = this.styleInternal;\n    let count = 0;\n    const properties = style.leadingProperties();\n    const maxProperties = DEFAULT_MAX_PROPERTIES + properties.length - this.originalPropertiesCount;\n\n    for (const property of properties) {\n      if (!this.forceShowAll && count >= maxProperties) {\n        break;\n      }\n      count++;\n      const isShorthand = property.getLonghandProperties().length > 0;\n      const inherited = this.isPropertyInherited(property.name);\n      const overloaded = this.isPropertyOverloaded(property);\n      if (style.parentRule && style.parentRule.isUserAgent() && inherited) {\n        continue;\n      }\n      const item = new StylePropertyTreeElement({\n        stylesPane: this.parentPane,\n        section: this,\n        matchedStyles: this.matchedStyles,\n        property,\n        isShorthand,\n        inherited,\n        overloaded,\n        newProperty: false,\n      });\n      item.setComputedStyles(this.computedStyles);\n      item.setParentsComputedStyles(this.parentsComputedStyles);\n      this.propertiesTreeOutline.appendChild(item);\n    }\n\n    if (count < properties.length) {\n      this.showAllButton.classList.remove('hidden');\n      this.showAllButton.textContent = i18nString(UIStrings.showAllPropertiesSMore, {PH1: properties.length - count});\n    } else {\n      this.showAllButton.classList.add('hidden');\n    }\n  }\n\n  isPropertyOverloaded(property: SDK.CSSProperty.CSSProperty): boolean {\n    return this.matchedStyles.propertyState(property) === SDK.CSSMatchedStyles.PropertyState.Overloaded;\n  }\n\n  updateFilter(): boolean {\n    let hasMatchingChild = false;\n    this.showAllItems();\n    for (const child of this.propertiesTreeOutline.rootElement().children()) {\n      if (child instanceof StylePropertyTreeElement) {\n        const childHasMatches = child.updateFilter();\n        hasMatchingChild = hasMatchingChild || childHasMatches;\n      }\n    }\n\n    const regex = this.parentPane.filterRegex();\n    const hideRule = !hasMatchingChild && regex !== null && !regex.test(this.element.deepTextContent());\n    this.isHiddenInternal = hideRule;\n    this.element.classList.toggle('hidden', hideRule);\n    if (!hideRule && this.styleInternal.parentRule) {\n      this.markSelectorHighlights();\n    }\n    return !hideRule;\n  }\n\n  isHidden(): boolean {\n    return this.isHiddenInternal;\n  }\n\n  markSelectorMatches(): void {\n    const rule = this.styleInternal.parentRule;\n    if (!rule || !(rule instanceof SDK.CSSRule.CSSStyleRule)) {\n      return;\n    }\n\n    const matchingSelectorIndexes = this.matchedStyles.getMatchingSelectors(rule);\n    const matchingSelectors = (new Array(rule.selectors.length).fill(false) as boolean[]);\n    for (const matchingIndex of matchingSelectorIndexes) {\n      matchingSelectors[matchingIndex] = true;\n    }\n\n    if (this.parentPane.isEditingStyle) {\n      return;\n    }\n\n    const fragment =\n        StylePropertiesSection.renderSelectors(rule.selectors, matchingSelectors, this.elementToSelectorIndex);\n    this.selectorElement.removeChildren();\n    this.selectorElement.appendChild(fragment);\n    this.markSelectorHighlights();\n  }\n\n  static getSpecificityStoredForNodeElement(element: Element): Protocol.CSS.Specificity|undefined {\n    return StylePropertiesSection.#nodeElementToSpecificity.get(element);\n  }\n\n  static renderSelectors(\n      selectors: {text: string, specificity: Protocol.CSS.Specificity|undefined}[], matchingSelectors: boolean[],\n      elementToSelectorIndex: WeakMap<Element, number>): DocumentFragment {\n    const fragment = document.createDocumentFragment();\n    for (const [i, selector] of selectors.entries()) {\n      if (i) {\n        UI.UIUtils.createTextChild(fragment, ', ');\n      }\n      const selectorElement = document.createElement('span');\n      selectorElement.classList.add('simple-selector');\n      selectorElement.classList.toggle('selector-matches', matchingSelectors[i]);\n      if (selector.specificity) {\n        StylePropertiesSection.#nodeElementToSpecificity.set(selectorElement, selector.specificity);\n      }\n      elementToSelectorIndex.set(selectorElement, i);\n      selectorElement.textContent = selectors[i].text;\n      fragment.append(selectorElement);\n    }\n    return fragment;\n  }\n\n  markSelectorHighlights(): void {\n    const selectors = this.selectorElement.getElementsByClassName('simple-selector');\n    const regex = this.parentPane.filterRegex();\n    for (let i = 0; i < selectors.length; ++i) {\n      const selectorMatchesFilter = regex !== null && regex.test(selectors[i].textContent || '');\n      selectors[i].classList.toggle('filter-match', selectorMatchesFilter);\n    }\n  }\n\n  addNewBlankProperty(index: number|undefined = this.propertiesTreeOutline.rootElement().childCount()):\n      StylePropertyTreeElement {\n    const property = this.styleInternal.newBlankProperty(index);\n    const item = new StylePropertyTreeElement({\n      stylesPane: this.parentPane,\n      section: this,\n      matchedStyles: this.matchedStyles,\n      property,\n      isShorthand: false,\n      inherited: false,\n      overloaded: false,\n      newProperty: true,\n    });\n    this.propertiesTreeOutline.insertChild(item, property.index);\n    return item;\n  }\n\n  private handleEmptySpaceMouseDown(): void {\n    this.willCauseCancelEditing = this.parentPane.isEditingStyle;\n    this.selectedSinceMouseDown = false;\n  }\n\n  private handleEmptySpaceClick(event: Event): void {\n    // `this.willCauseCancelEditing` is a hacky way to understand whether we should\n    // create a new property or not on empty space click.\n    // For empty space clicks, the order of events are:\n    // when there isn't an edit operation going on:\n    //     * empty space mousedown -> empty space click\n    // when there is an edit operation going on:\n    //     * empty space mousedown -> text prompt blur -> empty space click\n    // text prompt blur sets the `isEditingStyle` to be `false` in parent pane.\n    // If we check `isEditingStyle` inside empty space click handler, it will\n    // always say `false` and will always cause a new blank property to be added.\n    // Because of this, we're checking and saving whether there is an ongoing\n    // edit operation inside empty space mousedown handler.\n    if (!this.editable || this.element.hasSelection() || this.willCauseCancelEditing || this.selectedSinceMouseDown) {\n      return;\n    }\n\n    const target = (event.target as Element);\n\n    if (target.classList.contains('header') || this.element.classList.contains('read-only') ||\n        target.enclosingNodeOrSelfWithClass('ancestor-rule-list')) {\n      event.consume();\n      return;\n    }\n    const deepTarget = UI.UIUtils.deepElementFromEvent(event);\n    const treeElement = deepTarget && UI.TreeOutline.TreeElement.getTreeElementBylistItemNode(deepTarget);\n    if (treeElement && treeElement instanceof StylePropertyTreeElement) {\n      this.addNewBlankProperty(treeElement.property.index + 1).startEditingName();\n    } else if (\n        target.classList.contains('selector-container') || target.classList.contains('styles-section-subtitle')) {\n      this.addNewBlankProperty(0).startEditingName();\n    } else {\n      this.addNewBlankProperty().startEditingName();\n    }\n    event.consume(true);\n  }\n\n  private handleQueryRuleClick(query: SDK.CSSQuery.CSSQuery, event: Event): void {\n    const element = event.currentTarget as Element;\n    if (UI.UIUtils.isBeingEdited(element)) {\n      return;\n    }\n\n    if (UI.KeyboardShortcut.KeyboardShortcut.eventHasCtrlEquivalentKey(event as MouseEvent) && this.navigable) {\n      const location = query.rawLocation();\n      if (!location) {\n        event.consume(true);\n        return;\n      }\n      const uiLocation = Bindings.CSSWorkspaceBinding.CSSWorkspaceBinding.instance().rawLocationToUILocation(location);\n      if (uiLocation) {\n        void Common.Revealer.reveal(uiLocation);\n      }\n      event.consume(true);\n      return;\n    }\n\n    if (!this.editable) {\n      return;\n    }\n\n    const config = new UI.InplaceEditor.Config(\n        this.editingMediaCommitted.bind(this, query), this.editingMediaCancelled.bind(this, element), undefined,\n        this.editingMediaBlurHandler.bind(this));\n    UI.InplaceEditor.InplaceEditor.startEditing(element, config);\n\n    const selection = element.getComponentSelection();\n    if (selection) {\n      selection.selectAllChildren(element);\n    }\n    this.parentPane.setEditingStyle(true);\n    const parentMediaElement = element.enclosingNodeOrSelfWithClass('query');\n    parentMediaElement.classList.add('editing-query');\n\n    event.consume(true);\n  }\n\n  private editingMediaFinished(element: Element): void {\n    this.parentPane.setEditingStyle(false);\n    const parentMediaElement = element.enclosingNodeOrSelfWithClass('query');\n    parentMediaElement.classList.remove('editing-query');\n  }\n\n  private editingMediaCancelled(element: Element): void {\n    this.editingMediaFinished(element);\n    // Mark the selectors in group if necessary.\n    // This is overridden by BlankStylePropertiesSection.\n    this.markSelectorMatches();\n    const selection = element.getComponentSelection();\n    if (selection) {\n      selection.collapse(element, 0);\n    }\n  }\n\n  private editingMediaBlurHandler(): boolean {\n    return true;\n  }\n\n  private async editingMediaCommitted(\n      query: SDK.CSSQuery.CSSQuery, element: Element, newContent: string, _oldContent: string,\n      _context: Context|undefined, _moveDirection: string): Promise<void> {\n    this.parentPane.setEditingStyle(false);\n    this.editingMediaFinished(element);\n\n    if (newContent) {\n      newContent = newContent.trim();\n    }\n\n    // This gets deleted in finishOperation(), which is called both on success and failure.\n    this.parentPane.setUserOperation(true);\n    const cssModel = this.parentPane.cssModel();\n    if (cssModel && query.styleSheetId) {\n      const range = query.range as TextUtils.TextRange.TextRange;\n      let success = false;\n      if (query instanceof SDK.CSSContainerQuery.CSSContainerQuery) {\n        success = await cssModel.setContainerQueryText(query.styleSheetId, range, newContent);\n      } else if (query instanceof SDK.CSSSupports.CSSSupports) {\n        success = await cssModel.setSupportsText(query.styleSheetId, range, newContent);\n      } else if (query instanceof SDK.CSSScope.CSSScope) {\n        success = await cssModel.setScopeText(query.styleSheetId, range, newContent);\n      } else {\n        success = await cssModel.setMediaText(query.styleSheetId, range, newContent);\n      }\n\n      if (success) {\n        this.matchedStyles.resetActiveProperties();\n        this.parentPane.refreshUpdate(this);\n      }\n      this.parentPane.setUserOperation(false);\n      this.editingMediaTextCommittedForTest();\n    }\n  }\n\n  private editingMediaTextCommittedForTest(): void {\n  }\n\n  private handleSelectorClick(event: Event): void {\n    const target = (event.target as Element | null);\n    if (!target) {\n      return;\n    }\n    if (UI.KeyboardShortcut.KeyboardShortcut.eventHasCtrlEquivalentKey((event as MouseEvent)) && this.navigable &&\n        target.classList.contains('simple-selector')) {\n      const selectorIndex = this.elementToSelectorIndex.get(target);\n      if (selectorIndex) {\n        this.navigateToSelectorSource(selectorIndex, true);\n      }\n      event.consume(true);\n      return;\n    }\n    if (this.element.hasSelection()) {\n      return;\n    }\n    this.startEditingAtFirstPosition();\n    event.consume(true);\n  }\n\n  private handleContextMenuEvent(event: Event): void {\n    const target = (event.target as Element | null);\n    if (!target) {\n      return;\n    }\n\n    const contextMenu = new UI.ContextMenu.ContextMenu(event);\n    contextMenu.clipboardSection().appendItem(i18nString(UIStrings.copySelector), () => {\n      const selectorText = this.headerText();\n      Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(selectorText);\n      Host.userMetrics.styleTextCopied(Host.UserMetrics.StyleTextCopied.SelectorViaContextMenu);\n    }, {jslogContext: 'copy-selector'});\n\n    contextMenu.clipboardSection().appendItem(i18nString(UIStrings.copyRule), () => {\n      const ruleText = StylesSidebarPane.formatLeadingProperties(this).ruleText;\n      Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(ruleText);\n      Host.userMetrics.styleTextCopied(Host.UserMetrics.StyleTextCopied.RuleViaContextMenu);\n    }, {jslogContext: 'copy-rule'});\n\n    contextMenu.clipboardSection().appendItem(i18nString(UIStrings.copyAllDeclarations), () => {\n      const allDeclarationText = StylesSidebarPane.formatLeadingProperties(this).allDeclarationText;\n      Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(allDeclarationText);\n      Host.userMetrics.styleTextCopied(Host.UserMetrics.StyleTextCopied.AllDeclarationsViaContextMenu);\n    }, {jslogContext: 'copy-all-declarations'});\n\n    // TODO(changhaohan): conditionally add this item only when there are changes to copy\n    contextMenu.clipboardSection().appendItem(i18nString(UIStrings.copyAllCSSChanges), async () => {\n      const allChanges = await this.parentPane.getFormattedChanges();\n      Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(allChanges);\n      Host.userMetrics.styleTextCopied(Host.UserMetrics.StyleTextCopied.AllChangesViaStylesPane);\n    }, {jslogContext: 'copy-all-css-changes'});\n    void contextMenu.show();\n  }\n\n  private navigateToSelectorSource(index: number, focus: boolean): void {\n    const cssModel = this.parentPane.cssModel();\n    if (!cssModel) {\n      return;\n    }\n    const rule = (this.styleInternal.parentRule as SDK.CSSRule.CSSStyleRule | null);\n    if (!rule || rule.styleSheetId === undefined) {\n      return;\n    }\n    const header = cssModel.styleSheetHeaderForId(rule.styleSheetId);\n    if (!header) {\n      return;\n    }\n    const rawLocation =\n        new SDK.CSSModel.CSSLocation(header, rule.lineNumberInSource(index), rule.columnNumberInSource(index));\n    StylePropertiesSection.revealSelectorSource(rawLocation, focus);\n  }\n\n  private static revealSelectorSource(rawLocation: SDK.CSSModel.CSSLocation, focus: boolean): void {\n    const uiLocation = Bindings.CSSWorkspaceBinding.CSSWorkspaceBinding.instance().rawLocationToUILocation(rawLocation);\n    if (uiLocation) {\n      void Common.Revealer.reveal(uiLocation, !focus);\n    }\n  }\n\n  private startEditingAtFirstPosition(): void {\n    if (!this.editable) {\n      return;\n    }\n\n    if (!this.styleInternal.parentRule) {\n      this.moveEditorFromSelector('forward');\n      return;\n    }\n\n    this.startEditingSelector();\n  }\n\n  startEditingSelector(): void {\n    const element = this.selectorElement;\n    if (UI.UIUtils.isBeingEdited(element)) {\n      return;\n    }\n\n    element.scrollIntoViewIfNeeded(false);\n    // Reset selector marks in group, and normalize whitespace.\n    const textContent = element.textContent;\n    if (textContent !== null) {\n      element.textContent = textContent.replace(/\\s+/g, ' ').trim();\n    }\n\n    const config =\n        new UI.InplaceEditor.Config(this.editingSelectorCommitted.bind(this), this.editingSelectorCancelled.bind(this));\n    UI.InplaceEditor.InplaceEditor.startEditing(this.selectorElement, config);\n\n    const selection = element.getComponentSelection();\n    if (selection) {\n      selection.selectAllChildren(element);\n    }\n    this.parentPane.setEditingStyle(true);\n    if (element.classList.contains('simple-selector')) {\n      this.navigateToSelectorSource(0, false);\n    }\n  }\n\n  moveEditorFromSelector(moveDirection: string): void {\n    this.markSelectorMatches();\n\n    if (!moveDirection) {\n      return;\n    }\n\n    if (moveDirection === 'forward') {\n      const firstChild = (this.propertiesTreeOutline.firstChild() as StylePropertyTreeElement);\n      let currentChild: (StylePropertyTreeElement|null)|StylePropertyTreeElement = firstChild;\n      while (currentChild && currentChild.inherited()) {\n        const sibling: UI.TreeOutline.TreeElement|null = currentChild.nextSibling;\n        currentChild = sibling instanceof StylePropertyTreeElement ? sibling : null;\n      }\n      if (!currentChild) {\n        this.addNewBlankProperty().startEditingName();\n      } else {\n        currentChild.startEditingName();\n      }\n    } else {\n      const previousSection = this.previousEditableSibling();\n      if (!previousSection) {\n        return;\n      }\n\n      previousSection.addNewBlankProperty().startEditingName();\n    }\n  }\n\n  editingSelectorCommitted(\n      element: Element, newContent: string, oldContent: string, context: Context|undefined,\n      moveDirection: string): void {\n    this.editingSelectorEnded();\n    if (newContent) {\n      newContent = newContent.trim();\n    }\n    if (newContent === oldContent) {\n      // Revert to a trimmed version of the selector if need be.\n      this.selectorElement.textContent = newContent;\n      this.moveEditorFromSelector(moveDirection);\n      return;\n    }\n    const rule = this.styleInternal.parentRule;\n    if (!rule) {\n      return;\n    }\n\n    function headerTextCommitted(this: StylePropertiesSection): void {\n      this.parentPane.setUserOperation(false);\n      this.moveEditorFromSelector(moveDirection);\n      this.editingSelectorCommittedForTest();\n    }\n\n    // This gets deleted in finishOperationAndMoveEditor(), which is called both on success and failure.\n    this.parentPane.setUserOperation(true);\n    void this.setHeaderText(rule, newContent).then(headerTextCommitted.bind(this));\n  }\n\n  setHeaderText(rule: SDK.CSSRule.CSSRule, newContent: string): Promise<void> {\n    function onSelectorsUpdated(\n        this: StylePropertiesSection, rule: SDK.CSSRule.CSSStyleRule, success: boolean): Promise<void> {\n      if (!success) {\n        return Promise.resolve();\n      }\n      return this.matchedStyles.recomputeMatchingSelectors(rule).then(updateSourceRanges.bind(this, rule));\n    }\n\n    function updateSourceRanges(this: StylePropertiesSection, rule: SDK.CSSRule.CSSStyleRule): void {\n      const doesAffectSelectedNode = this.matchedStyles.getMatchingSelectors(rule).length > 0;\n      this.propertiesTreeOutline.element.classList.toggle('no-affect', !doesAffectSelectedNode);\n      this.matchedStyles.resetActiveProperties();\n      this.parentPane.refreshUpdate(this);\n    }\n\n    if (!(rule instanceof SDK.CSSRule.CSSStyleRule)) {\n      return Promise.resolve();\n    }\n    const oldSelectorRange = rule.selectorRange();\n    if (!oldSelectorRange) {\n      return Promise.resolve();\n    }\n    this.#customHeaderText = undefined;\n    return rule.setSelectorText(newContent).then(onSelectorsUpdated.bind(this, rule, Boolean(oldSelectorRange)));\n  }\n\n  protected editingSelectorCommittedForTest(): void {\n  }\n\n  protected updateRuleOrigin(): void {\n    this.selectorRefElement.removeChildren();\n    this.selectorRefElement.appendChild(\n        this.createRuleOriginNode(this.matchedStyles, this.parentPane.linkifier, this.styleInternal.parentRule));\n  }\n\n  protected editingSelectorEnded(): void {\n    this.parentPane.setEditingStyle(false);\n  }\n\n  editingSelectorCancelled(): void {\n    this.editingSelectorEnded();\n\n    // Mark the selectors in group if necessary.\n    // This is overridden by BlankStylePropertiesSection.\n    this.markSelectorMatches();\n  }\n\n  /**\n   * A property at or near an index and suitable for subsequent editing.\n   * Either the last property, if index out-of-upper-bound,\n   * or property at index, if such a property exists,\n   * or otherwise, null.\n   */\n  closestPropertyForEditing(propertyIndex: number): UI.TreeOutline.TreeElement|null {\n    const rootElement = this.propertiesTreeOutline.rootElement();\n    if (propertyIndex >= rootElement.childCount()) {\n      return rootElement.lastChild();\n    }\n    return rootElement.childAt(propertyIndex);\n  }\n}\n\nexport class BlankStylePropertiesSection extends StylePropertiesSection {\n  private normal: boolean;\n  private readonly ruleLocation: TextUtils.TextRange.TextRange;\n  private readonly styleSheetId: Protocol.CSS.StyleSheetId;\n\n  constructor(\n      stylesPane: StylesSidebarPane, matchedStyles: SDK.CSSMatchedStyles.CSSMatchedStyles, defaultSelectorText: string,\n      styleSheetId: Protocol.CSS.StyleSheetId, ruleLocation: TextUtils.TextRange.TextRange,\n      insertAfterStyle: SDK.CSSStyleDeclaration.CSSStyleDeclaration, sectionIdx: number) {\n    const cssModel = (stylesPane.cssModel() as SDK.CSSModel.CSSModel);\n    const rule = SDK.CSSRule.CSSStyleRule.createDummyRule(cssModel, defaultSelectorText);\n    super(stylesPane, matchedStyles, rule.style, sectionIdx, null, null);\n    this.normal = false;\n    this.ruleLocation = ruleLocation;\n    this.styleSheetId = styleSheetId;\n    this.selectorRefElement.removeChildren();\n    this.selectorRefElement.appendChild(StylePropertiesSection.linkifyRuleLocation(\n        cssModel, this.parentPane.linkifier, styleSheetId, this.actualRuleLocation()));\n    if (insertAfterStyle && insertAfterStyle.parentRule &&\n        insertAfterStyle.parentRule instanceof SDK.CSSRule.CSSStyleRule) {\n      this.createAncestorRules(insertAfterStyle.parentRule);\n    }\n    this.element.classList.add('blank-section');\n  }\n\n  private actualRuleLocation(): TextUtils.TextRange.TextRange {\n    const prefix = this.rulePrefix();\n    const lines = prefix.split('\\n');\n    const lastLine = lines[lines.length - 1];\n    const editRange = new TextUtils.TextRange.TextRange(0, 0, lines.length - 1, lastLine ? lastLine.length : 0);\n    return this.ruleLocation.rebaseAfterTextEdit(TextUtils.TextRange.TextRange.createFromLocation(0, 0), editRange);\n  }\n\n  private rulePrefix(): string {\n    return this.ruleLocation.startLine === 0 && this.ruleLocation.startColumn === 0 ? '' : '\\n\\n';\n  }\n\n  get isBlank(): boolean {\n    return !this.normal;\n  }\n\n  override editingSelectorCommitted(\n      element: Element, newContent: string, oldContent: string, context: Context|undefined,\n      moveDirection: string): void {\n    if (!this.isBlank) {\n      super.editingSelectorCommitted(element, newContent, oldContent, context, moveDirection);\n      return;\n    }\n\n    function onRuleAdded(this: BlankStylePropertiesSection, newRule: SDK.CSSRule.CSSStyleRule|null): Promise<void> {\n      if (!newRule) {\n        this.editingSelectorCancelled();\n        this.editingSelectorCommittedForTest();\n        return Promise.resolve();\n      }\n      return this.matchedStyles.addNewRule(newRule, this.matchedStyles.node())\n          .then(onAddedToCascade.bind(this, newRule));\n    }\n\n    function onAddedToCascade(this: BlankStylePropertiesSection, newRule: SDK.CSSRule.CSSStyleRule): void {\n      const doesSelectorAffectSelectedNode = this.matchedStyles.getMatchingSelectors(newRule).length > 0;\n      this.makeNormal(newRule);\n\n      if (!doesSelectorAffectSelectedNode) {\n        this.propertiesTreeOutline.element.classList.add('no-affect');\n      }\n\n      this.updateRuleOrigin();\n\n      this.parentPane.setUserOperation(false);\n      this.editingSelectorEnded();\n      if (this.element.parentElement)  // Might have been detached already.\n      {\n        this.moveEditorFromSelector(moveDirection);\n      }\n      this.markSelectorMatches();\n\n      this.editingSelectorCommittedForTest();\n    }\n\n    if (newContent) {\n      newContent = newContent.trim();\n    }\n    this.parentPane.setUserOperation(true);\n\n    const cssModel = this.parentPane.cssModel();\n    const ruleText = this.rulePrefix() + newContent + ' {}';\n    if (cssModel) {\n      void cssModel.addRule(this.styleSheetId, ruleText, this.ruleLocation).then(onRuleAdded.bind(this));\n    }\n  }\n\n  override editingSelectorCancelled(): void {\n    this.parentPane.setUserOperation(false);\n    if (!this.isBlank) {\n      super.editingSelectorCancelled();\n      return;\n    }\n\n    this.editingSelectorEnded();\n    this.parentPane.removeSection(this);\n  }\n\n  private makeNormal(newRule: SDK.CSSRule.CSSRule): void {\n    this.element.classList.remove('blank-section');\n    this.styleInternal = newRule.style;\n    // FIXME: replace this instance by a normal StylePropertiesSection.\n    this.normal = true;\n  }\n}\n\nexport class RegisteredPropertiesSection extends StylePropertiesSection {\n  constructor(\n      stylesPane: StylesSidebarPane, matchedStyles: SDK.CSSMatchedStyles.CSSMatchedStyles,\n      style: SDK.CSSStyleDeclaration.CSSStyleDeclaration, sectionIdx: number, propertyName: string,\n      expandedByDefault: boolean) {\n    super(stylesPane, matchedStyles, style, sectionIdx, null, null, propertyName);\n    if (!expandedByDefault) {\n      this.element.classList.add('hidden');\n    }\n    this.selectorElement.className = 'property-registration-key';\n  }\n\n  override async setHeaderText(rule: SDK.CSSRule.CSSRule, newContent: string): Promise<void> {\n    if (!(rule instanceof SDK.CSSRule.CSSPropertyRule)) {\n      return;\n    }\n    const oldRange = rule.propertyName().range;\n    if (!oldRange) {\n      return;\n    }\n    if (await rule.setPropertyName(newContent)) {\n      this.parentPane.forceUpdate();\n    }\n  }\n\n  override createRuleOriginNode(\n      matchedStyles: SDK.CSSMatchedStyles.CSSMatchedStyles, linkifier: Components.Linkifier.Linkifier,\n      rule: SDK.CSSRule.CSSRule|null): Node {\n    if (rule) {\n      return super.createRuleOriginNode(matchedStyles, linkifier, rule);\n    }\n    return document.createTextNode('CSS.registerProperty');\n  }\n}\n\nexport class FontPaletteValuesRuleSection extends StylePropertiesSection {\n  constructor(\n      stylesPane: StylesSidebarPane, matchedStyles: SDK.CSSMatchedStyles.CSSMatchedStyles,\n      style: SDK.CSSStyleDeclaration.CSSStyleDeclaration, sectionIdx: number) {\n    super(stylesPane, matchedStyles, style, sectionIdx, null, null);\n    this.selectorElement.className = 'font-palette-values-key';\n  }\n}\n\nexport class PositionTryRuleSection extends StylePropertiesSection {\n  constructor(\n      stylesPane: StylesSidebarPane, matchedStyles: SDK.CSSMatchedStyles.CSSMatchedStyles,\n      style: SDK.CSSStyleDeclaration.CSSStyleDeclaration, sectionIdx: number) {\n    super(stylesPane, matchedStyles, style, sectionIdx, null, null);\n    this.selectorElement.className = 'position-try-values-key';\n  }\n}\n\nexport class KeyframePropertiesSection extends StylePropertiesSection {\n  constructor(\n      stylesPane: StylesSidebarPane, matchedStyles: SDK.CSSMatchedStyles.CSSMatchedStyles,\n      style: SDK.CSSStyleDeclaration.CSSStyleDeclaration, sectionIdx: number) {\n    super(stylesPane, matchedStyles, style, sectionIdx, null, null);\n    this.selectorElement.className = 'keyframe-key';\n  }\n\n  override headerText(): string {\n    if (this.styleInternal.parentRule instanceof SDK.CSSRule.CSSKeyframeRule) {\n      return this.styleInternal.parentRule.key().text;\n    }\n    return '';\n  }\n\n  override setHeaderText(rule: SDK.CSSRule.CSSRule, newContent: string): Promise<void> {\n    function updateSourceRanges(this: KeyframePropertiesSection, success: boolean): void {\n      if (!success) {\n        return;\n      }\n      this.parentPane.refreshUpdate(this);\n    }\n\n    if (!(rule instanceof SDK.CSSRule.CSSKeyframeRule)) {\n      return Promise.resolve();\n    }\n    const oldRange = rule.key().range;\n    if (!oldRange) {\n      return Promise.resolve();\n    }\n    return rule.setKeyText(newContent).then(updateSourceRanges.bind(this));\n  }\n\n  override isPropertyInherited(_propertyName: string): boolean {\n    return false;\n  }\n\n  override isPropertyOverloaded(_property: SDK.CSSProperty.CSSProperty): boolean {\n    return false;\n  }\n\n  override markSelectorHighlights(): void {\n  }\n\n  override markSelectorMatches(): void {\n    if (this.styleInternal.parentRule instanceof SDK.CSSRule.CSSKeyframeRule) {\n      this.selectorElement.textContent = this.styleInternal.parentRule.key().text;\n    }\n  }\n\n  override highlight(): void {\n  }\n}\n\nexport class TryRuleSection extends StylePropertiesSection {\n  constructor(\n      stylesPane: StylesSidebarPane, matchedStyles: SDK.CSSMatchedStyles.CSSMatchedStyles,\n      style: SDK.CSSStyleDeclaration.CSSStyleDeclaration, sectionIdx: number, computedStyles: Map<string, string>|null,\n      parentsComputedStyles: Map<string, string>|null) {\n    super(stylesPane, matchedStyles, style, sectionIdx, computedStyles, parentsComputedStyles);\n    this.selectorElement.className = 'try-rule-selector-element';\n    // Disables clicking on the selector element for `@try` rules.\n    this.selectorElement.addEventListener('click', ev => ev.stopPropagation(), true);\n  }\n\n  override headerText(): string {\n    return '@try';\n  }\n}\n\nexport class HighlightPseudoStylePropertiesSection extends StylePropertiesSection {\n  override isPropertyInherited(_propertyName: string): boolean {\n    // For highlight pseudos, all valid properties are treated as inherited.\n    // Note that the meaning is reversed in this context; the result of\n    // returning false here is that properties of inherited pseudos will never\n    // be shown in the darker style of non-inherited properties.\n    return false;\n  }\n}\n"]}