{"version":3,"file":"StylesSidebarPane.js","sourceRoot":"","sources":["../../../../../../front_end/panels/elements/StylesSidebarPane.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n/*\n * Copyright (C) 2007 Apple Inc.  All rights reserved.\n * Copyright (C) 2009 Joseph Pecoraro\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *\n * 1.  Redistributions of source code must retain the above copyright\n *     notice, this list of conditions and the following disclaimer.\n * 2.  Redistributions in binary form must reproduce the above copyright\n *     notice, this list of conditions and the following disclaimer in the\n *     documentation and/or other materials provided with the distribution.\n * 3.  Neither the name of Apple Computer, Inc. (\"Apple\") nor the names of\n *     its contributors may be used to endorse or promote products derived\n *     from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY APPLE AND ITS CONTRIBUTORS \"AS IS\" AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL APPLE OR ITS CONTRIBUTORS BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport * as Common from '../../core/common/common.js';\nimport * as Host from '../../core/host/host.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport {assertNotNullOrUndefined} from '../../core/platform/platform.js';\nimport * as Root from '../../core/root/root.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as Protocol from '../../generated/protocol.js';\nimport * as Bindings from '../../models/bindings/bindings.js';\nimport type * as Formatter from '../../models/formatter/formatter.js';\nimport * as TextUtils from '../../models/text_utils/text_utils.js';\nimport * as Workspace from '../../models/workspace/workspace.js';\nimport * as WorkspaceDiff from '../../models/workspace_diff/workspace_diff.js';\nimport {PanelUtils} from '../../panels/utils/utils.js';\nimport * as DiffView from '../../ui/components/diff_view/diff_view.js';\nimport * as IconButton from '../../ui/components/icon_button/icon_button.js';\nimport * as InlineEditor from '../../ui/legacy/components/inline_editor/inline_editor.js';\nimport * as Components from '../../ui/legacy/components/utils/utils.js';\nimport * as UI from '../../ui/legacy/legacy.js';\nimport * as VisualLogging from '../../ui/visual_logging/visual_logging.js';\n\nimport * as ElementsComponents from './components/components.js';\nimport {type ComputedStyleChangedEvent, ComputedStyleModel} from './ComputedStyleModel.js';\nimport {ElementsPanel} from './ElementsPanel.js';\nimport {ElementsSidebarPane} from './ElementsSidebarPane.js';\nimport {ImagePreviewPopover} from './ImagePreviewPopover.js';\nimport * as LayersWidget from './LayersWidget.js';\nimport {StyleEditorWidget} from './StyleEditorWidget.js';\nimport {\n  BlankStylePropertiesSection,\n  FontPaletteValuesRuleSection,\n  HighlightPseudoStylePropertiesSection,\n  KeyframePropertiesSection,\n  PositionTryRuleSection,\n  RegisteredPropertiesSection,\n  StylePropertiesSection,\n  TryRuleSection,\n} from './StylePropertiesSection.js';\nimport {StylePropertyHighlighter} from './StylePropertyHighlighter.js';\nimport {activeHints, type StylePropertyTreeElement} from './StylePropertyTreeElement.js';\nimport stylesSidebarPaneStyles from './stylesSidebarPane.css.js';\nimport {WebCustomData} from './WebCustomData.js';\n\nconst UIStrings = {\n  /**\n   *@description No matches element text content in Styles Sidebar Pane of the Elements panel\n   */\n  noMatchingSelectorOrStyle: 'No matching selector or style',\n  /**\n  /**\n   *@description Text to announce the result of the filter input in the Styles Sidebar Pane of the Elements panel\n   */\n  visibleSelectors: '{n, plural, =1 {# visible selector listed below} other {# visible selectors listed below}}',\n  /**\n   *@description Text in Styles Sidebar Pane of the Elements panel\n   */\n  invalidPropertyValue: 'Invalid property value',\n  /**\n   *@description Text in Styles Sidebar Pane of the Elements panel\n   */\n  unknownPropertyName: 'Unknown property name',\n  /**\n   *@description Separator element text content in Styles Sidebar Pane of the Elements panel\n   *@example {scrollbar-corner} PH1\n   */\n  pseudoSElement: 'Pseudo ::{PH1} element',\n  /**\n   *@description Text of a DOM element in Styles Sidebar Pane of the Elements panel\n   */\n  inheritedFroms: 'Inherited from ',\n  /**\n   *@description Text of an inherited psuedo element in Styles Sidebar Pane of the Elements panel\n   *@example {highlight} PH1\n   */\n  inheritedFromSPseudoOf: 'Inherited from ::{PH1} pseudo of ',\n  /**\n   *@description Title of  in styles sidebar pane of the elements panel\n   *@example {Ctrl} PH1\n   */\n  incrementdecrementWithMousewheelOne:\n      'Increment/decrement with mousewheel or up/down keys. {PH1}: R 1, Shift: G 1, Alt: B 1',\n  /**\n   *@description Title of  in styles sidebar pane of the elements panel\n   *@example {Ctrl} PH1\n   */\n  incrementdecrementWithMousewheelHundred:\n      'Increment/decrement with mousewheel or up/down keys. {PH1}: 100, Shift: 10, Alt: 0.1',\n  /**\n   *@description Announcement string for invalid properties.\n   *@example {Invalid property value} PH1\n   *@example {font-size} PH2\n   *@example {invalidValue} PH3\n   */\n  invalidString: '{PH1}, property name: {PH2}, property value: {PH3}',\n  /**\n   *@description Tooltip text that appears when hovering over the rendering button in the Styles Sidebar Pane of the Elements panel\n   */\n  toggleRenderingEmulations: 'Toggle common rendering emulations',\n  /**\n   *@description Rendering emulation option for toggling the automatic dark mode\n   */\n  automaticDarkMode: 'Automatic dark mode',\n  /**\n   *@description Tooltip text that appears when hovering over the css changes button in the Styles Sidebar Pane of the Elements panel\n   */\n  copyAllCSSChanges: 'Copy CSS changes',\n  /**\n   *@description Tooltip text that appears after clicking on the copy CSS changes button\n   */\n  copiedToClipboard: 'Copied to clipboard',\n  /**\n   *@description Text displayed on layer separators in the styles sidebar pane.\n   */\n  layer: 'Layer',\n  /**\n   *@description Tooltip text for the link in the sidebar pane layer separators that reveals the layer in the layer tree view.\n   */\n  clickToRevealLayer: 'Click to reveal layer in layer tree',\n  /**\n   *@description Text displayed in tooltip that shows specificity information.\n   *@example {(0,0,1)} PH1\n   */\n  specificity: 'Specificity: {PH1}',\n};\n\nconst str_ = i18n.i18n.registerUIStrings('panels/elements/StylesSidebarPane.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\n// Number of ms elapsed with no keypresses to determine is the input is finished, to announce results\nconst FILTER_IDLE_PERIOD = 500;\n// Minimum number of @property rules for the @property section block to be folded initially\nconst MIN_FOLDED_SECTIONS_COUNT = 5;\n// Title of the registered properties section\nexport const REGISTERED_PROPERTY_SECTION_NAME = '@property';\n\n// Highlightable properties are those that can be hovered in the sidebar to trigger a specific\n// highlighting mode on the current element.\nconst HIGHLIGHTABLE_PROPERTIES = [\n  {mode: 'padding', properties: ['padding']},\n  {mode: 'border', properties: ['border']},\n  {mode: 'margin', properties: ['margin']},\n  {mode: 'gap', properties: ['gap', 'grid-gap']},\n  {mode: 'column-gap', properties: ['column-gap', 'grid-column-gap']},\n  {mode: 'row-gap', properties: ['row-gap', 'grid-row-gap']},\n  {mode: 'grid-template-columns', properties: ['grid-template-columns']},\n  {mode: 'grid-template-rows', properties: ['grid-template-rows']},\n  {mode: 'grid-template-areas', properties: ['grid-areas']},\n  {mode: 'justify-content', properties: ['justify-content']},\n  {mode: 'align-content', properties: ['align-content']},\n  {mode: 'align-items', properties: ['align-items']},\n  {mode: 'flexibility', properties: ['flex', 'flex-basis', 'flex-grow', 'flex-shrink']},\n];\n\nlet stylesSidebarPaneInstance: StylesSidebarPane;\n\nexport class StylesSidebarPane extends Common.ObjectWrapper.eventMixin<EventTypes, typeof ElementsSidebarPane>(\n    ElementsSidebarPane) {\n  private currentToolbarPane: UI.Widget.Widget|null;\n  private animatedToolbarPane: UI.Widget.Widget|null;\n  private pendingWidget: UI.Widget.Widget|null;\n  private pendingWidgetToggle: UI.Toolbar.ToolbarToggle|null;\n  private toolbar: UI.Toolbar.Toolbar|null;\n  private toolbarPaneElement: HTMLElement;\n  private lastFilterChange: number|null;\n  private visibleSections: number|null;\n  private noMatchesElement: HTMLElement;\n  private sectionsContainer: HTMLElement;\n  sectionByElement: WeakMap<Node, StylePropertiesSection>;\n  private readonly swatchPopoverHelperInternal: InlineEditor.SwatchPopoverHelper.SwatchPopoverHelper;\n  readonly linkifier: Components.Linkifier.Linkifier;\n  private readonly decorator: StylePropertyHighlighter;\n  private lastRevealedProperty: SDK.CSSProperty.CSSProperty|null;\n  private userOperation: boolean;\n  isEditingStyle: boolean;\n  private filterRegexInternal: RegExp|null;\n  private isActivePropertyHighlighted: boolean;\n  private initialUpdateCompleted: boolean;\n  hasMatchedStyles: boolean;\n  private sectionBlocks: SectionBlock[];\n  private idleCallbackManager: IdleCallbackManager|null;\n  private needsForceUpdate: boolean;\n  private readonly resizeThrottler: Common.Throttler.Throttler;\n\n  private scrollerElement?: Element;\n  private readonly boundOnScroll: (event: Event) => void;\n\n  private readonly imagePreviewPopover: ImagePreviewPopover;\n  #webCustomData?: WebCustomData;\n  #hintPopoverHelper: UI.PopoverHelper.PopoverHelper;\n  #genericPopoverHelper: UI.PopoverHelper.PopoverHelper;\n  #elementPopoverHooks = new WeakMap<Node, {contents: () => HTMLElement | undefined, jslogContext?: string}>();\n\n  activeCSSAngle: InlineEditor.CSSAngle.CSSAngle|null;\n  #urlToChangeTracker: Map<Platform.DevToolsPath.UrlString, ChangeTracker> = new Map();\n  #copyChangesButton?: UI.Toolbar.ToolbarButton;\n  #updateAbortController?: AbortController;\n  #updateComputedStylesAbortController?: AbortController;\n\n  static instance(opts?: {forceNew: boolean}): StylesSidebarPane {\n    if (!stylesSidebarPaneInstance || opts?.forceNew) {\n      stylesSidebarPaneInstance = new StylesSidebarPane();\n    }\n    return stylesSidebarPaneInstance;\n  }\n\n  constructor() {\n    super(true /* delegatesFocus */);\n    this.setMinimumSize(96, 26);\n    this.registerCSSFiles([stylesSidebarPaneStyles]);\n    Common.Settings.Settings.instance().moduleSetting('text-editor-indent').addChangeListener(this.update.bind(this));\n\n    this.currentToolbarPane = null;\n    this.animatedToolbarPane = null;\n    this.pendingWidget = null;\n    this.pendingWidgetToggle = null;\n    this.toolbar = null;\n    this.lastFilterChange = null;\n    this.visibleSections = null;\n    this.toolbarPaneElement = this.createStylesSidebarToolbar();\n    this.computedStyleModelInternal = new ComputedStyleModel();\n\n    this.noMatchesElement = this.contentElement.createChild('div', 'gray-info-message hidden');\n    this.noMatchesElement.textContent = i18nString(UIStrings.noMatchingSelectorOrStyle);\n\n    this.sectionsContainer = this.contentElement.createChild('div');\n    UI.ARIAUtils.markAsList(this.sectionsContainer);\n    this.sectionsContainer.addEventListener('keydown', this.sectionsContainerKeyDown.bind(this), false);\n    this.sectionsContainer.addEventListener('focusin', this.sectionsContainerFocusChanged.bind(this), false);\n    this.sectionsContainer.addEventListener('focusout', this.sectionsContainerFocusChanged.bind(this), false);\n    this.sectionByElement = new WeakMap();\n\n    this.swatchPopoverHelperInternal = new InlineEditor.SwatchPopoverHelper.SwatchPopoverHelper();\n    this.swatchPopoverHelperInternal.addEventListener(\n        InlineEditor.SwatchPopoverHelper.Events.WillShowPopover, this.hideAllPopovers, this);\n    this.linkifier = new Components.Linkifier.Linkifier(MAX_LINK_LENGTH, /* useLinkDecorator */ true);\n    this.decorator = new StylePropertyHighlighter(this);\n    this.lastRevealedProperty = null;\n    this.userOperation = false;\n    this.isEditingStyle = false;\n    this.filterRegexInternal = null;\n    this.isActivePropertyHighlighted = false;\n    this.initialUpdateCompleted = false;\n    this.hasMatchedStyles = false;\n\n    this.contentElement.classList.add('styles-pane');\n\n    this.sectionBlocks = [];\n    this.idleCallbackManager = null;\n    this.needsForceUpdate = false;\n    stylesSidebarPaneInstance = this;\n    UI.Context.Context.instance().addFlavorChangeListener(SDK.DOMModel.DOMNode, this.forceUpdate, this);\n    this.contentElement.addEventListener('copy', this.clipboardCopy.bind(this));\n    this.resizeThrottler = new Common.Throttler.Throttler(100);\n\n    this.boundOnScroll = this.onScroll.bind(this);\n    this.imagePreviewPopover = new ImagePreviewPopover(this.contentElement, event => {\n      const link = event.composedPath()[0];\n      if (link instanceof Element) {\n        return link;\n      }\n      return null;\n    }, () => this.node());\n\n    this.activeCSSAngle = null;\n\n    const showDocumentationSetting =\n        Common.Settings.Settings.instance().moduleSetting('show-css-property-documentation-on-hover');\n    showDocumentationSetting.addChangeListener(event => {\n      const metricType = Boolean(event.data) ? Host.UserMetrics.CSSPropertyDocumentation.ToggledOn :\n                                               Host.UserMetrics.CSSPropertyDocumentation.ToggledOff;\n      Host.userMetrics.cssPropertyDocumentation(metricType);\n    });\n\n    this.#hintPopoverHelper = new UI.PopoverHelper.PopoverHelper(this.contentElement, event => {\n      const hoveredNode = event.composedPath()[0];\n      // This is a workaround to fix hint popover not showing after icon update.\n      // Previously our `.hint` element was an icon itself and `composedPath()[0]` was referring to it.\n      // However, our `Icon` component now is an element with shadow root and `event.composedPath()[0]`\n      // refers to the markup inside shadow root. Though we want a reference to the `.hint` element itself.\n      // So we trace back and reach to the possible `.hint` element from inside the shadow root.\n      const possibleHintNodeFromHintIcon = event.composedPath()[2];\n\n      if (!hoveredNode || !(hoveredNode instanceof Element)) {\n        return null;\n      }\n\n      if (possibleHintNodeFromHintIcon instanceof Element && possibleHintNodeFromHintIcon.matches('.hint')) {\n        const hint = activeHints.get(possibleHintNodeFromHintIcon);\n\n        if (hint) {\n          this.#hintPopoverHelper.jslogContext = 'elements.css-hint';\n          return {\n            box: hoveredNode.boxInWindow(),\n            show: async (popover: UI.GlassPane.GlassPane) => {\n              const popupElement = new ElementsComponents.CSSHintDetailsView.CSSHintDetailsView(hint);\n              popover.contentElement.appendChild(popupElement);\n              return true;\n            },\n          };\n        }\n      }\n\n      if (showDocumentationSetting.get() && hoveredNode.matches('.webkit-css-property')) {\n        if (!this.#webCustomData) {\n          this.#webCustomData = WebCustomData.create();\n        }\n\n        const cssPropertyName = hoveredNode.textContent;\n        const cssProperty = cssPropertyName && this.#webCustomData.findCssProperty(cssPropertyName);\n\n        if (cssProperty) {\n          this.#hintPopoverHelper.jslogContext = 'elements.css-property-doc';\n          return {\n            box: hoveredNode.boxInWindow(),\n            show: async (popover: UI.GlassPane.GlassPane) => {\n              const popupElement = new ElementsComponents.CSSPropertyDocsView.CSSPropertyDocsView(cssProperty);\n              popover.contentElement.appendChild(popupElement);\n              Host.userMetrics.cssPropertyDocumentation(Host.UserMetrics.CSSPropertyDocumentation.Shown);\n              return true;\n            },\n          };\n        }\n      }\n\n      if (hoveredNode.matches('.simple-selector')) {\n        const specificity = StylePropertiesSection.getSpecificityStoredForNodeElement(hoveredNode);\n        this.#hintPopoverHelper.jslogContext = 'elements.css-selector-specificity';\n        return {\n          box: hoveredNode.boxInWindow(),\n          show: async (popover: UI.GlassPane.GlassPane) => {\n            popover.setIgnoreLeftMargin(true);\n            const element = document.createElement('span');\n            element.textContent = i18nString(\n                UIStrings.specificity,\n                {PH1: specificity ? `(${specificity.a},${specificity.b},${specificity.c})` : '(?,?,?)'});\n            popover.contentElement.appendChild(element);\n            return true;\n          },\n        };\n      }\n\n      return null;\n    });\n\n    this.#hintPopoverHelper.setDisableOnClick(true);\n    this.#hintPopoverHelper.setTimeout(300);\n    this.#hintPopoverHelper.setHasPadding(true);\n\n    this.#genericPopoverHelper = new UI.PopoverHelper.PopoverHelper(this.contentElement, event => {\n      for (let e = event.composedPath().length - 1; e >= 0; --e) {\n        const element = event.composedPath()[e] as Element;\n        const hook = this.#elementPopoverHooks.get(element);\n        const contents = hook ? hook.contents() : undefined;\n        if (contents) {\n          return {\n            box: element.boxInWindow(),\n            show: async (popover: UI.GlassPane.GlassPane) => {\n              popover.setJsLog(`${\n                  VisualLogging.popover(`${hook?.jslogContext ?? 'elements.generic-sidebar-popover'}`)\n                      .parent('popoverParent')}`);\n              popover.contentElement.classList.add('borderless-popover');\n              popover.contentElement.appendChild(contents);\n              return true;\n            },\n          };\n        }\n      }\n      return null;\n    }, 'elements.generic-sidebar-popover');\n    this.#genericPopoverHelper.setDisableOnClick(true);\n    this.#genericPopoverHelper.setTimeout(500, 200);\n  }\n\n  addPopover(element: Node, popover: {contents: () => HTMLElement | undefined, jslogContext?: string}): void {\n    this.#elementPopoverHooks.set(element, popover);\n  }\n\n  private onScroll(_event: Event): void {\n    this.hideAllPopovers();\n  }\n\n  swatchPopoverHelper(): InlineEditor.SwatchPopoverHelper.SwatchPopoverHelper {\n    return this.swatchPopoverHelperInternal;\n  }\n\n  setUserOperation(userOperation: boolean): void {\n    this.userOperation = userOperation;\n  }\n\n  createExclamationMark(property: SDK.CSSProperty.CSSProperty, title: HTMLElement|null): Element {\n    const exclamationElement = document.createElement('span');\n    exclamationElement.classList.add('exclamation-mark');\n    const invalidMessage = SDK.CSSMetadata.cssMetadata().isCSSPropertyName(property.name) ?\n        i18nString(UIStrings.invalidPropertyValue) :\n        i18nString(UIStrings.unknownPropertyName);\n    if (title === null) {\n      UI.Tooltip.Tooltip.install(exclamationElement, invalidMessage);\n    } else {\n      this.addPopover(exclamationElement, {contents: () => title});\n    }\n    const invalidString =\n        i18nString(UIStrings.invalidString, {PH1: invalidMessage, PH2: property.name, PH3: property.value});\n\n    // Storing the invalidString for future screen reader support when editing the property\n    property.setDisplayedStringForInvalidProperty(invalidString);\n\n    return exclamationElement;\n  }\n\n  static ignoreErrorsForProperty(property: SDK.CSSProperty.CSSProperty): boolean {\n    function hasUnknownVendorPrefix(string: string): boolean {\n      return !string.startsWith('-webkit-') && /^[-_][\\w\\d]+-\\w/.test(string);\n    }\n\n    const name = property.name.toLowerCase();\n\n    // IE hack.\n    if (name.charAt(0) === '_') {\n      return true;\n    }\n\n    // IE has a different format for this.\n    if (name === 'filter') {\n      return true;\n    }\n\n    // Common IE-specific property prefix.\n    if (name.startsWith('scrollbar-')) {\n      return true;\n    }\n    if (hasUnknownVendorPrefix(name)) {\n      return true;\n    }\n\n    const value = property.value.toLowerCase();\n\n    // IE hack.\n    if (value.endsWith('\\\\9')) {\n      return true;\n    }\n    if (hasUnknownVendorPrefix(value)) {\n      return true;\n    }\n\n    return false;\n  }\n\n  static formatLeadingProperties(section: StylePropertiesSection): {\n    allDeclarationText: string,\n    ruleText: string,\n  } {\n    const selectorText = section.headerText();\n    const indent = Common.Settings.Settings.instance().moduleSetting('text-editor-indent').get();\n\n    const style = section.style();\n    const lines: string[] = [];\n\n    // Invalid property should also be copied.\n    // For example: *display: inline.\n    for (const property of style.leadingProperties()) {\n      if (property.disabled) {\n        lines.push(`${indent}/* ${property.name}: ${property.value}; */`);\n      } else {\n        lines.push(`${indent}${property.name}: ${property.value};`);\n      }\n    }\n\n    const allDeclarationText: string = lines.join('\\n');\n    const ruleText: string = `${selectorText} {\\n${allDeclarationText}\\n}`;\n\n    return {\n      allDeclarationText,\n      ruleText,\n    };\n  }\n\n  revealProperty(cssProperty: SDK.CSSProperty.CSSProperty): void {\n    this.decorator.highlightProperty(cssProperty);\n    this.lastRevealedProperty = cssProperty;\n    this.update();\n  }\n\n  jumpToProperty(propertyName: string, sectionName?: string, blockName?: string): boolean {\n    return this.decorator.findAndHighlightPropertyName(propertyName, sectionName, blockName);\n  }\n\n  jumpToSection(sectionName: string, blockName: string): void {\n    this.decorator.findAndHighlightSection(sectionName, blockName);\n  }\n\n  jumpToSectionBlock(section: string): void {\n    this.decorator.findAndHighlightSectionBlock(section);\n  }\n\n  forceUpdate(): void {\n    this.needsForceUpdate = true;\n    this.swatchPopoverHelperInternal.hide();\n    this.#updateAbortController?.abort();\n    this.resetCache();\n    this.update();\n  }\n\n  private sectionsContainerKeyDown(event: Event): void {\n    const activeElement = Platform.DOMUtilities.deepActiveElement(this.sectionsContainer.ownerDocument);\n    if (!activeElement) {\n      return;\n    }\n    const section = this.sectionByElement.get(activeElement);\n    if (!section) {\n      return;\n    }\n    let sectionToFocus: (StylePropertiesSection|null)|null = null;\n    let willIterateForward = false;\n    switch ((event as KeyboardEvent).key) {\n      case 'ArrowUp':\n      case 'ArrowLeft': {\n        sectionToFocus = section.previousSibling() || section.lastSibling();\n        willIterateForward = false;\n        break;\n      }\n      case 'ArrowDown':\n      case 'ArrowRight': {\n        sectionToFocus = section.nextSibling() || section.firstSibling();\n        willIterateForward = true;\n        break;\n      }\n      case 'Home': {\n        sectionToFocus = section.firstSibling();\n        willIterateForward = true;\n        break;\n      }\n      case 'End': {\n        sectionToFocus = section.lastSibling();\n        willIterateForward = false;\n        break;\n      }\n    }\n\n    if (sectionToFocus && this.filterRegexInternal) {\n      sectionToFocus = sectionToFocus.findCurrentOrNextVisible(/* willIterateForward= */ willIterateForward);\n    }\n    if (sectionToFocus) {\n      sectionToFocus.element.focus();\n      event.consume(true);\n    }\n  }\n\n  private sectionsContainerFocusChanged(): void {\n    this.resetFocus();\n  }\n\n  resetFocus(): void {\n    // When a styles section is focused, shift+tab should leave the section.\n    // Leaving tabIndex = 0 on the first element would cause it to be focused instead.\n    if (!this.noMatchesElement.classList.contains('hidden')) {\n      return;\n    }\n    if (this.sectionBlocks[0] && this.sectionBlocks[0].sections[0]) {\n      const firstVisibleSection =\n          this.sectionBlocks[0].sections[0].findCurrentOrNextVisible(/* willIterateForward= */ true);\n      if (firstVisibleSection) {\n        firstVisibleSection.element.tabIndex = this.sectionsContainer.hasFocus() ? -1 : 0;\n      }\n    }\n  }\n\n  onAddButtonLongClick(event: Event): void {\n    const cssModel = this.cssModel();\n    if (!cssModel) {\n      return;\n    }\n    const headers = cssModel.styleSheetHeaders().filter(styleSheetResourceHeader);\n\n    const contextMenuDescriptors: {\n      text: string,\n      handler: () => Promise<void>,\n    }[] = [];\n    for (let i = 0; i < headers.length; ++i) {\n      const header = headers[i];\n      const handler = this.createNewRuleInStyleSheet.bind(this, header);\n      contextMenuDescriptors.push({text: Bindings.ResourceUtils.displayNameForURL(header.resourceURL()), handler});\n    }\n\n    contextMenuDescriptors.sort(compareDescriptors);\n\n    const contextMenu = new UI.ContextMenu.ContextMenu(event);\n    for (let i = 0; i < contextMenuDescriptors.length; ++i) {\n      const descriptor = contextMenuDescriptors[i];\n      contextMenu.defaultSection().appendItem(\n          descriptor.text, descriptor.handler, {jslogContext: 'style-sheet-header'});\n    }\n    contextMenu.footerSection().appendItem(\n        'inspector-stylesheet', this.createNewRuleInViaInspectorStyleSheet.bind(this),\n        {jslogContext: 'inspector-stylesheet'});\n    void contextMenu.show();\n\n    function compareDescriptors(\n        descriptor1: {\n          text: string,\n          handler: () => Promise<void>,\n        },\n        descriptor2: {\n          text: string,\n          handler: () => Promise<void>,\n        }): number {\n      return Platform.StringUtilities.naturalOrderComparator(descriptor1.text, descriptor2.text);\n    }\n\n    function styleSheetResourceHeader(header: SDK.CSSStyleSheetHeader.CSSStyleSheetHeader): boolean {\n      return !header.isViaInspector() && !header.isInline && Boolean(header.resourceURL());\n    }\n  }\n\n  private onFilterChanged(event: Common.EventTarget.EventTargetEvent<string>): void {\n    const regex = event.data ? new RegExp(Platform.StringUtilities.escapeForRegExp(event.data), 'i') : null;\n    this.lastFilterChange = Date.now();\n    this.filterRegexInternal = regex;\n    this.updateFilter();\n    this.resetFocus();\n    setTimeout(() => {\n      if (this.lastFilterChange) {\n        const stillTyping = Date.now() - this.lastFilterChange < FILTER_IDLE_PERIOD;\n        if (!stillTyping) {\n          UI.ARIAUtils.alert(\n              this.visibleSections ? i18nString(UIStrings.visibleSelectors, {n: this.visibleSections}) :\n                                     i18nString(UIStrings.noMatchingSelectorOrStyle));\n        }\n      }\n    }, FILTER_IDLE_PERIOD);\n  }\n\n  refreshUpdate(editedSection: StylePropertiesSection, editedTreeElement?: StylePropertyTreeElement): void {\n    if (editedTreeElement) {\n      for (const section of this.allSections()) {\n        if (section instanceof BlankStylePropertiesSection && section.isBlank) {\n          continue;\n        }\n        section.updateVarFunctions(editedTreeElement);\n      }\n    }\n\n    if (this.isEditingStyle) {\n      return;\n    }\n    const node = this.node();\n    if (!node) {\n      return;\n    }\n\n    for (const section of this.allSections()) {\n      if (section instanceof BlankStylePropertiesSection && section.isBlank) {\n        continue;\n      }\n      section.update(section === editedSection);\n    }\n\n    if (this.filterRegexInternal) {\n      this.updateFilter();\n    }\n    this.swatchPopoverHelper().reposition();\n    this.nodeStylesUpdatedForTest(node, false);\n  }\n\n  override async doUpdate(): Promise<void> {\n    this.#updateAbortController?.abort();\n    this.#updateAbortController = new AbortController();\n    await this.#innerDoUpdate(this.#updateAbortController.signal);\n\n    // Hide all popovers when scrolling.\n    // Styles and Computed panels both have popover (e.g. imagePreviewPopover),\n    // so we need to bind both scroll events.\n    const scrollerElementLists =\n        this?.contentElement?.enclosingNodeOrSelfWithClass('style-panes-wrapper')\n            ?.parentElement?.querySelectorAll('.style-panes-wrapper') as unknown as NodeListOf<Element>;\n    if (scrollerElementLists.length > 0) {\n      for (const element of scrollerElementLists) {\n        this.scrollerElement = element;\n        this.scrollerElement.addEventListener('scroll', this.boundOnScroll, false);\n      }\n    }\n  }\n\n  async #innerDoUpdate(signal: AbortSignal): Promise<void> {\n    if (!this.initialUpdateCompleted) {\n      window.setTimeout(() => {\n        if (signal.aborted) {\n          return;\n        }\n        if (!this.initialUpdateCompleted) {\n          // the spinner will get automatically removed when innerRebuildUpdate is called\n          this.sectionsContainer.createChild('span', 'spinner');\n        }\n      }, 200 /* only spin for loading time > 200ms to avoid unpleasant render flashes */);\n    }\n\n    const matchedStyles = await this.fetchMatchedCascade();\n\n    if (signal.aborted) {\n      return;\n    }\n\n    const nodeId = this.node()?.id;\n    const parentNodeId = matchedStyles?.getParentLayoutNodeId();\n\n    const [computedStyles, parentsComputedStyles] =\n        await Promise.all([this.fetchComputedStylesFor(nodeId), this.fetchComputedStylesFor(parentNodeId)]);\n\n    if (signal.aborted) {\n      return;\n    }\n\n    await this.innerRebuildUpdate(signal, matchedStyles, computedStyles, parentsComputedStyles);\n\n    if (signal.aborted) {\n      return;\n    }\n\n    if (!this.initialUpdateCompleted) {\n      this.initialUpdateCompleted = true;\n      this.appendToolbarItem(this.createRenderingShortcuts());\n      if (Root.Runtime.experiments.isEnabled(Root.Runtime.ExperimentName.STYLES_PANE_CSS_CHANGES)) {\n        this.#copyChangesButton = this.createCopyAllChangesButton();\n        this.appendToolbarItem(this.#copyChangesButton);\n        this.#copyChangesButton.element.classList.add('hidden');\n      }\n      this.dispatchEventToListeners(Events.InitialUpdateCompleted);\n    }\n\n    this.nodeStylesUpdatedForTest((this.node() as SDK.DOMModel.DOMNode), true);\n\n    this.dispatchEventToListeners(Events.StylesUpdateCompleted, {hasMatchedStyles: this.hasMatchedStyles});\n  }\n\n  private async fetchComputedStylesFor(nodeId: Protocol.DOM.NodeId|undefined): Promise<Map<string, string>|null> {\n    const node = this.node();\n    if (node === null || nodeId === undefined) {\n      return null;\n    }\n    return await node.domModel().cssModel().getComputedStyle(nodeId);\n  }\n\n  override onResize(): void {\n    void this.resizeThrottler.schedule(this.innerResize.bind(this));\n  }\n\n  private innerResize(): Promise<void> {\n    const width = this.contentElement.getBoundingClientRect().width + 'px';\n    this.allSections().forEach(section => {\n      section.propertiesTreeOutline.element.style.width = width;\n    });\n    this.hideAllPopovers();\n    return Promise.resolve();\n  }\n\n  private resetCache(): void {\n    const cssModel = this.cssModel();\n    if (cssModel) {\n      cssModel.discardCachedMatchedCascade();\n    }\n  }\n\n  private fetchMatchedCascade(): Promise<SDK.CSSMatchedStyles.CSSMatchedStyles|null> {\n    const node = this.node();\n    if (!node || !this.cssModel()) {\n      return Promise.resolve((null as SDK.CSSMatchedStyles.CSSMatchedStyles | null));\n    }\n\n    const cssModel = this.cssModel();\n    if (!cssModel) {\n      return Promise.resolve(null);\n    }\n    return cssModel.cachedMatchedCascadeForNode(node).then(validateStyles.bind(this));\n\n    function validateStyles(this: StylesSidebarPane, matchedStyles: SDK.CSSMatchedStyles.CSSMatchedStyles|null):\n        SDK.CSSMatchedStyles.CSSMatchedStyles|null {\n      return matchedStyles && matchedStyles.node() === this.node() ? matchedStyles : null;\n    }\n  }\n\n  setEditingStyle(editing: boolean, _treeElement?: StylePropertyTreeElement): void {\n    if (this.isEditingStyle === editing) {\n      return;\n    }\n    this.contentElement.classList.toggle('is-editing-style', editing);\n    this.isEditingStyle = editing;\n    this.setActiveProperty(null);\n  }\n\n  setActiveProperty(treeElement: StylePropertyTreeElement|null): void {\n    if (this.isActivePropertyHighlighted) {\n      SDK.OverlayModel.OverlayModel.hideDOMNodeHighlight();\n    }\n    this.isActivePropertyHighlighted = false;\n\n    if (!this.node()) {\n      return;\n    }\n\n    if (!treeElement || treeElement.overloaded() || treeElement.inherited()) {\n      return;\n    }\n\n    const rule = treeElement.property.ownerStyle.parentRule;\n    const selectorList = (rule instanceof SDK.CSSRule.CSSStyleRule) ? rule.selectorText() : undefined;\n    for (const {properties, mode} of HIGHLIGHTABLE_PROPERTIES) {\n      if (!properties.includes(treeElement.name)) {\n        continue;\n      }\n      const node = this.node();\n      if (!node) {\n        continue;\n      }\n      node.domModel().overlayModel().highlightInOverlay(\n          {node: (this.node() as SDK.DOMModel.DOMNode), selectorList}, mode);\n      this.isActivePropertyHighlighted = true;\n      break;\n    }\n  }\n\n  override onCSSModelChanged(event: Common.EventTarget.EventTargetEvent<ComputedStyleChangedEvent>): void {\n    const edit = event?.data && 'edit' in event.data ? event.data.edit : null;\n    if (edit) {\n      for (const section of this.allSections()) {\n        section.styleSheetEdited(edit);\n      }\n      void this.refreshComputedStyles();\n      return;\n    }\n\n    if (this.userOperation || this.isEditingStyle) {\n      void this.refreshComputedStyles();\n      return;\n    }\n\n    this.resetCache();\n    this.update();\n  }\n\n  async refreshComputedStyles(): Promise<void> {\n    this.#updateComputedStylesAbortController?.abort();\n    this.#updateAbortController = new AbortController();\n    const signal = this.#updateAbortController.signal;\n    const matchedStyles = await this.fetchMatchedCascade();\n    const nodeId = this.node()?.id;\n    const parentNodeId = matchedStyles?.getParentLayoutNodeId();\n\n    const [computedStyles, parentsComputedStyles] =\n        await Promise.all([this.fetchComputedStylesFor(nodeId), this.fetchComputedStylesFor(parentNodeId)]);\n\n    if (signal.aborted) {\n      return;\n    }\n\n    for (const section of this.allSections()) {\n      section.setComputedStyles(computedStyles);\n      section.setParentsComputedStyles(parentsComputedStyles);\n      section.updateAuthoringHint();\n    }\n  }\n\n  focusedSectionIndex(): number {\n    let index = 0;\n    for (const block of this.sectionBlocks) {\n      for (const section of block.sections) {\n        if (section.element.hasFocus()) {\n          return index;\n        }\n        index++;\n      }\n    }\n    return -1;\n  }\n\n  continueEditingElement(sectionIndex: number, propertyIndex: number): void {\n    const section = this.allSections()[sectionIndex];\n    if (section) {\n      const element = (section.closestPropertyForEditing(propertyIndex) as StylePropertyTreeElement | null);\n      if (!element) {\n        section.element.focus();\n        return;\n      }\n      element.startEditingName();\n    }\n  }\n\n  private async innerRebuildUpdate(\n      signal: AbortSignal, matchedStyles: SDK.CSSMatchedStyles.CSSMatchedStyles|null,\n      computedStyles: Map<string, string>|null, parentsComputedStyles: Map<string, string>|null): Promise<void> {\n    // ElementsSidebarPane's throttler schedules this method. Usually,\n    // rebuild is suppressed while editing (see onCSSModelChanged()), but we need a\n    // 'force' flag since the currently running throttler process cannot be canceled.\n    if (this.needsForceUpdate) {\n      this.needsForceUpdate = false;\n    } else if (this.isEditingStyle || this.userOperation) {\n      return;\n    }\n\n    const focusedIndex = this.focusedSectionIndex();\n\n    this.linkifier.reset();\n    const prevSections = this.sectionBlocks.map(block => block.sections).flat();\n    this.sectionBlocks = [];\n\n    const node = this.node();\n    this.hasMatchedStyles = matchedStyles !== null && node !== null;\n    if (!this.hasMatchedStyles) {\n      this.sectionsContainer.removeChildren();\n      this.noMatchesElement.classList.remove('hidden');\n      return;\n    }\n\n    const blocks = await this.rebuildSectionsForMatchedStyleRules(\n        (matchedStyles as SDK.CSSMatchedStyles.CSSMatchedStyles), computedStyles, parentsComputedStyles);\n\n    if (signal.aborted) {\n      return;\n    }\n\n    this.sectionBlocks = blocks;\n\n    // Style sections maybe re-created when flexbox editor is activated.\n    // With the following code we re-bind the flexbox editor to the new\n    // section with the same index as the previous section had.\n    const newSections = this.sectionBlocks.map(block => block.sections).flat();\n    const styleEditorWidget = StyleEditorWidget.instance();\n    const boundSection = styleEditorWidget.getSection();\n    if (boundSection) {\n      styleEditorWidget.unbindContext();\n      for (const [index, prevSection] of prevSections.entries()) {\n        if (boundSection === prevSection && index < newSections.length) {\n          styleEditorWidget.bindContext(this, newSections[index]);\n        }\n      }\n    }\n\n    this.sectionsContainer.removeChildren();\n    const fragment = document.createDocumentFragment();\n\n    let index = 0;\n    let elementToFocus: HTMLDivElement|null = null;\n    for (const block of this.sectionBlocks) {\n      const titleElement = block.titleElement();\n      if (titleElement) {\n        fragment.appendChild(titleElement);\n      }\n      for (const section of block.sections) {\n        fragment.appendChild(section.element);\n        if (index === focusedIndex) {\n          elementToFocus = section.element;\n        }\n        index++;\n      }\n    }\n\n    this.sectionsContainer.appendChild(fragment);\n\n    if (elementToFocus) {\n      elementToFocus.focus();\n    }\n\n    if (focusedIndex >= index) {\n      this.sectionBlocks[0].sections[0].element.focus();\n    }\n\n    this.sectionsContainerFocusChanged();\n\n    if (this.filterRegexInternal) {\n      this.updateFilter();\n    } else {\n      this.noMatchesElement.classList.toggle('hidden', this.sectionBlocks.length > 0);\n    }\n    if (this.lastRevealedProperty) {\n      this.decorator.highlightProperty(this.lastRevealedProperty);\n      this.lastRevealedProperty = null;\n    }\n\n    this.swatchPopoverHelper().reposition();\n\n    // Record the elements tool load time after the sidepane has loaded.\n    Host.userMetrics.panelLoaded('elements', 'DevTools.Launch.Elements');\n\n    this.dispatchEventToListeners(Events.StylesUpdateCompleted, {hasMatchedStyles: false});\n  }\n\n  private nodeStylesUpdatedForTest(_node: SDK.DOMModel.DOMNode, _rebuild: boolean): void {\n    // For sniffing in tests.\n  }\n\n  rebuildSectionsForMatchedStyleRulesForTest(\n      matchedStyles: SDK.CSSMatchedStyles.CSSMatchedStyles, computedStyles: Map<string, string>|null,\n      parentsComputedStyles: Map<string, string>|null): Promise<SectionBlock[]> {\n    return this.rebuildSectionsForMatchedStyleRules(matchedStyles, computedStyles, parentsComputedStyles);\n  }\n\n  private async rebuildSectionsForMatchedStyleRules(\n      matchedStyles: SDK.CSSMatchedStyles.CSSMatchedStyles, computedStyles: Map<string, string>|null,\n      parentsComputedStyles: Map<string, string>|null): Promise<SectionBlock[]> {\n    if (this.idleCallbackManager) {\n      this.idleCallbackManager.discard();\n    }\n\n    this.idleCallbackManager = new IdleCallbackManager();\n\n    const blocks = [new SectionBlock(null)];\n    let sectionIdx = 0;\n    let lastParentNode: SDK.DOMModel.DOMNode|null = null;\n\n    let lastLayers: SDK.CSSLayer.CSSLayer[]|null = null;\n    let sawLayers: boolean = false;\n\n    const addLayerSeparator = (style: SDK.CSSStyleDeclaration.CSSStyleDeclaration): void => {\n      const parentRule = style.parentRule;\n      if (parentRule instanceof SDK.CSSRule.CSSStyleRule) {\n        const layers = parentRule.layers;\n        if ((layers.length || lastLayers) && lastLayers !== layers) {\n          const block = SectionBlock.createLayerBlock(parentRule);\n          blocks.push(block);\n          sawLayers = true;\n          lastLayers = layers;\n        }\n      }\n    };\n\n    // We disable the layer widget initially. If we see a layer in\n    // the matched styles we reenable the button.\n    LayersWidget.ButtonProvider.instance().item().setVisible(false);\n\n    const refreshedURLs = new Set<string>();\n    for (const style of matchedStyles.nodeStyles()) {\n      if (Root.Runtime.experiments.isEnabled(Root.Runtime.ExperimentName.STYLES_PANE_CSS_CHANGES) && style.parentRule) {\n        const url = style.parentRule.resourceURL();\n        if (url && !refreshedURLs.has(url)) {\n          await this.trackURLForChanges(url);\n          refreshedURLs.add(url);\n        }\n      }\n\n      const parentNode = matchedStyles.isInherited(style) ? matchedStyles.nodeForStyle(style) : null;\n      if (parentNode && parentNode !== lastParentNode) {\n        lastParentNode = parentNode;\n        const block = await SectionBlock.createInheritedNodeBlock(lastParentNode);\n        blocks.push(block);\n      }\n\n      addLayerSeparator(style);\n\n      const lastBlock = blocks[blocks.length - 1];\n      if (lastBlock) {\n        this.idleCallbackManager.schedule(() => {\n          const section =\n              new StylePropertiesSection(this, matchedStyles, style, sectionIdx, computedStyles, parentsComputedStyles);\n          sectionIdx++;\n          lastBlock.sections.push(section);\n        });\n      }\n    }\n\n    const customHighlightPseudoRulesets: {\n      highlightName: string|null,\n      pseudoType: Protocol.DOM.PseudoType,\n      pseudoStyles: SDK.CSSStyleDeclaration.CSSStyleDeclaration[],\n    }[] = Array.from(matchedStyles.customHighlightPseudoNames()).map(highlightName => {\n      return {\n        'highlightName': highlightName,\n        'pseudoType': Protocol.DOM.PseudoType.Highlight,\n        'pseudoStyles': matchedStyles.customHighlightPseudoStyles(highlightName),\n      };\n    });\n\n    const otherPseudoRulesets: {\n      highlightName: string|null,\n      pseudoType: Protocol.DOM.PseudoType,\n      pseudoStyles: SDK.CSSStyleDeclaration.CSSStyleDeclaration[],\n    }[] = [...matchedStyles.pseudoTypes()].map(pseudoType => {\n      return {'highlightName': null, 'pseudoType': pseudoType, 'pseudoStyles': matchedStyles.pseudoStyles(pseudoType)};\n    });\n\n    const pseudoRulesets = customHighlightPseudoRulesets.concat(otherPseudoRulesets).sort((a, b) => {\n      // We want to show the ::before pseudos first, followed by the remaining pseudos\n      // in alphabetical order.\n      if (a.pseudoType === Protocol.DOM.PseudoType.Before && b.pseudoType !== Protocol.DOM.PseudoType.Before) {\n        return -1;\n      }\n      if (a.pseudoType !== Protocol.DOM.PseudoType.Before && b.pseudoType === Protocol.DOM.PseudoType.Before) {\n        return 1;\n      }\n      if (a.pseudoType < b.pseudoType) {\n        return -1;\n      }\n      if (a.pseudoType > b.pseudoType) {\n        return 1;\n      }\n      return 0;\n    });\n\n    for (const pseudo of pseudoRulesets) {\n      lastParentNode = null;\n      for (let i = 0; i < pseudo.pseudoStyles.length; ++i) {\n        const style = pseudo.pseudoStyles[i];\n        const parentNode = matchedStyles.isInherited(style) ? matchedStyles.nodeForStyle(style) : null;\n\n        // Start a new SectionBlock if this is the first rule for this pseudo type, or if this\n        // rule is inherited from a different parent than the previous rule.\n        if (i === 0 || parentNode !== lastParentNode) {\n          lastLayers = null;\n          if (parentNode) {\n            const block =\n                await SectionBlock.createInheritedPseudoTypeBlock(pseudo.pseudoType, pseudo.highlightName, parentNode);\n            blocks.push(block);\n          } else {\n            const block = SectionBlock.createPseudoTypeBlock(pseudo.pseudoType, pseudo.highlightName);\n            blocks.push(block);\n          }\n        }\n        lastParentNode = parentNode;\n\n        addLayerSeparator(style);\n        const lastBlock = blocks[blocks.length - 1];\n        this.idleCallbackManager.schedule(() => {\n          const section = new HighlightPseudoStylePropertiesSection(\n              this, matchedStyles, style, sectionIdx, computedStyles, parentsComputedStyles);\n          sectionIdx++;\n          lastBlock.sections.push(section);\n        });\n      }\n    }\n\n    for (const keyframesRule of matchedStyles.keyframes()) {\n      const block = SectionBlock.createKeyframesBlock(keyframesRule.name().text);\n      for (const keyframe of keyframesRule.keyframes()) {\n        this.idleCallbackManager.schedule(() => {\n          block.sections.push(new KeyframePropertiesSection(this, matchedStyles, keyframe.style, sectionIdx));\n          sectionIdx++;\n        });\n      }\n      blocks.push(block);\n    }\n\n    const fontPaletteValuesRule = matchedStyles.fontPaletteValuesRule();\n    if (fontPaletteValuesRule) {\n      const block = SectionBlock.createFontPaletteValuesRuleBlock(fontPaletteValuesRule.name().text);\n      this.idleCallbackManager.schedule(() => {\n        block.sections.push(\n            new FontPaletteValuesRuleSection(this, matchedStyles, fontPaletteValuesRule.style, sectionIdx));\n        sectionIdx++;\n      });\n      blocks.push(block);\n    }\n\n    for (const positionFallbackRule of matchedStyles.positionFallbackRules()) {\n      const block = SectionBlock.createPositionFallbackBlock(positionFallbackRule.name().text);\n      for (const tryRule of positionFallbackRule.tryRules()) {\n        this.idleCallbackManager.schedule(() => {\n          block.sections.push(new TryRuleSection(\n              this, matchedStyles, tryRule.style, sectionIdx, computedStyles, parentsComputedStyles));\n          sectionIdx++;\n        });\n      }\n      blocks.push(block);\n    }\n\n    for (const positionTryRule of matchedStyles.positionTryRules()) {\n      const block = SectionBlock.createPositionTryBlock(positionTryRule.name().text);\n      this.idleCallbackManager.schedule(() => {\n        block.sections.push(new PositionTryRuleSection(this, matchedStyles, positionTryRule.style, sectionIdx));\n        sectionIdx++;\n      });\n      blocks.push(block);\n    }\n\n    if (matchedStyles.registeredProperties().length > 0) {\n      const expandedByDefault = matchedStyles.registeredProperties().length <= MIN_FOLDED_SECTIONS_COUNT;\n      const block = SectionBlock.createRegisteredPropertiesBlock(expandedByDefault);\n      for (const propertyRule of matchedStyles.registeredProperties()) {\n        this.idleCallbackManager.schedule(() => {\n          block.sections.push(new RegisteredPropertiesSection(\n              this, matchedStyles, propertyRule.style(), sectionIdx, propertyRule.propertyName(), expandedByDefault));\n          sectionIdx++;\n        });\n      }\n      blocks.push(block);\n    }\n    // If we have seen a layer in matched styles we enable\n    // the layer widget button.\n    if (sawLayers) {\n      LayersWidget.ButtonProvider.instance().item().setVisible(true);\n    } else if (LayersWidget.LayersWidget.instance().isShowing()) {\n      // Since the button for toggling the layers view is now hidden\n      // we ensure that the layers view is not currently toggled.\n      ElementsPanel.instance().showToolbarPane(null, LayersWidget.ButtonProvider.instance().item());\n    }\n\n    await this.idleCallbackManager.awaitDone();\n\n    return blocks;\n  }\n\n  async createNewRuleInViaInspectorStyleSheet(): Promise<void> {\n    const cssModel = this.cssModel();\n    const node = this.node();\n    if (!cssModel || !node) {\n      return;\n    }\n    this.setUserOperation(true);\n\n    const styleSheetHeader = await cssModel.requestViaInspectorStylesheet((node as SDK.DOMModel.DOMNode));\n\n    this.setUserOperation(false);\n    await this.createNewRuleInStyleSheet(styleSheetHeader);\n  }\n\n  private async createNewRuleInStyleSheet(styleSheetHeader: SDK.CSSStyleSheetHeader.CSSStyleSheetHeader|\n                                          null): Promise<void> {\n    if (!styleSheetHeader) {\n      return;\n    }\n\n    const text = (await styleSheetHeader.requestContent()).content || '';\n    const lines = text.split('\\n');\n    const range = TextUtils.TextRange.TextRange.createFromLocation(lines.length - 1, lines[lines.length - 1].length);\n\n    if (this.sectionBlocks && this.sectionBlocks.length > 0) {\n      this.addBlankSection(this.sectionBlocks[0].sections[0], styleSheetHeader.id, range);\n    }\n  }\n\n  addBlankSection(\n      insertAfterSection: StylePropertiesSection, styleSheetId: Protocol.CSS.StyleSheetId,\n      ruleLocation: TextUtils.TextRange.TextRange): void {\n    const node = this.node();\n    const blankSection = new BlankStylePropertiesSection(\n        this, insertAfterSection.matchedStyles, node ? node.simpleSelector() : '', styleSheetId, ruleLocation,\n        insertAfterSection.style(), 0);\n\n    this.sectionsContainer.insertBefore(blankSection.element, insertAfterSection.element.nextSibling);\n\n    for (const block of this.sectionBlocks) {\n      const index = block.sections.indexOf(insertAfterSection);\n      if (index === -1) {\n        continue;\n      }\n      block.sections.splice(index + 1, 0, blankSection);\n      blankSection.startEditingSelector();\n    }\n    let sectionIdx = 0;\n    for (const block of this.sectionBlocks) {\n      for (const section of block.sections) {\n        section.setSectionIdx(sectionIdx);\n        sectionIdx++;\n      }\n    }\n  }\n\n  removeSection(section: StylePropertiesSection): void {\n    for (const block of this.sectionBlocks) {\n      const index = block.sections.indexOf(section);\n      if (index === -1) {\n        continue;\n      }\n      block.sections.splice(index, 1);\n      section.element.remove();\n    }\n  }\n\n  filterRegex(): RegExp|null {\n    return this.filterRegexInternal;\n  }\n\n  private updateFilter(): void {\n    let hasAnyVisibleBlock = false;\n    let visibleSections = 0;\n    for (const block of this.sectionBlocks) {\n      visibleSections += block.updateFilter();\n      hasAnyVisibleBlock = Boolean(visibleSections) || hasAnyVisibleBlock;\n    }\n    this.noMatchesElement.classList.toggle('hidden', Boolean(hasAnyVisibleBlock));\n\n    this.visibleSections = visibleSections;\n  }\n\n  override wasShown(): void {\n    UI.Context.Context.instance().setFlavor(StylesSidebarPane, this);\n    super.wasShown();\n  }\n\n  override willHide(): void {\n    this.hideAllPopovers();\n    super.willHide();\n    UI.Context.Context.instance().setFlavor(StylesSidebarPane, null);\n  }\n\n  hideAllPopovers(): void {\n    this.swatchPopoverHelperInternal.hide();\n    this.imagePreviewPopover.hide();\n    if (this.activeCSSAngle) {\n      this.activeCSSAngle.minify();\n      this.activeCSSAngle = null;\n    }\n\n    this.#hintPopoverHelper?.hidePopover();\n    this.#genericPopoverHelper?.hidePopover();\n  }\n\n  getSectionBlockByName(name: string): SectionBlock|undefined {\n    return this.sectionBlocks.find(block => block.titleElement()?.textContent === name);\n  }\n\n  allSections(): StylePropertiesSection[] {\n    let sections: StylePropertiesSection[] = [];\n    for (const block of this.sectionBlocks) {\n      sections = sections.concat(block.sections);\n    }\n    return sections;\n  }\n\n  async trackURLForChanges(url: Platform.DevToolsPath.UrlString): Promise<void> {\n    const currentTracker = this.#urlToChangeTracker.get(url);\n    if (currentTracker) {\n      WorkspaceDiff.WorkspaceDiff.workspaceDiff().unsubscribeFromDiffChange(\n          currentTracker.uiSourceCode, currentTracker.diffChangeCallback);\n    }\n\n    // We get a refreshed uiSourceCode each time because the underlying instance may be recreated.\n    const uiSourceCode = Workspace.Workspace.WorkspaceImpl.instance().uiSourceCodeForURL(url);\n    if (!uiSourceCode) {\n      return;\n    }\n    const diffChangeCallback = this.refreshChangedLines.bind(this, uiSourceCode);\n    WorkspaceDiff.WorkspaceDiff.workspaceDiff().subscribeToDiffChange(uiSourceCode, diffChangeCallback);\n    const newTracker = {\n      uiSourceCode,\n      changedLines: new Set<number>(),\n      diffChangeCallback,\n    };\n    this.#urlToChangeTracker.set(url, newTracker);\n    await this.refreshChangedLines(newTracker.uiSourceCode);\n  }\n\n  isPropertyChanged(property: SDK.CSSProperty.CSSProperty): boolean {\n    const url = property.ownerStyle.parentRule?.resourceURL();\n    if (!url) {\n      return false;\n    }\n    const changeTracker = this.#urlToChangeTracker.get(url);\n    if (!changeTracker) {\n      return false;\n    }\n    const {changedLines, formattedCurrentMapping} = changeTracker;\n    const uiLocation = Bindings.CSSWorkspaceBinding.CSSWorkspaceBinding.instance().propertyUILocation(property, true);\n    if (!uiLocation) {\n      return false;\n    }\n    if (!formattedCurrentMapping) {\n      // UILocation's lineNumber starts at 0, but changedLines start at 1.\n      return changedLines.has(uiLocation.lineNumber + 1);\n    }\n    const formattedLineNumber =\n        formattedCurrentMapping.originalToFormatted(uiLocation.lineNumber, uiLocation.columnNumber)[0];\n    return changedLines.has(formattedLineNumber + 1);\n  }\n\n  updateChangeStatus(): void {\n    if (!this.#copyChangesButton) {\n      return;\n    }\n\n    let hasChangedStyles = false;\n    for (const changeTracker of this.#urlToChangeTracker.values()) {\n      if (changeTracker.changedLines.size > 0) {\n        hasChangedStyles = true;\n        break;\n      }\n    }\n\n    this.#copyChangesButton.element.classList.toggle('hidden', !hasChangedStyles);\n  }\n\n  private async refreshChangedLines(uiSourceCode: Workspace.UISourceCode.UISourceCode): Promise<void> {\n    const changeTracker = this.#urlToChangeTracker.get(uiSourceCode.url());\n    if (!changeTracker) {\n      return;\n    }\n    const diffResponse =\n        await WorkspaceDiff.WorkspaceDiff.workspaceDiff().requestDiff(uiSourceCode, {shouldFormatDiff: true});\n    const changedLines = new Set<number>();\n    changeTracker.changedLines = changedLines;\n    if (!diffResponse) {\n      return;\n    }\n    const {diff, formattedCurrentMapping} = diffResponse;\n    const {rows} = DiffView.DiffView.buildDiffRows(diff);\n    for (const row of rows) {\n      if (row.type === DiffView.DiffView.RowType.Addition) {\n        changedLines.add(row.currentLineNumber);\n      }\n    }\n    changeTracker.formattedCurrentMapping = formattedCurrentMapping;\n  }\n\n  async getFormattedChanges(): Promise<string> {\n    let allChanges = '';\n    for (const [url, {uiSourceCode}] of this.#urlToChangeTracker) {\n      const diffResponse =\n          await WorkspaceDiff.WorkspaceDiff.workspaceDiff().requestDiff(uiSourceCode, {shouldFormatDiff: true});\n      // Diff array with real diff will contain at least 2 lines.\n      if (!diffResponse || diffResponse?.diff.length < 2) {\n        continue;\n      }\n      const changes = await PanelUtils.formatCSSChangesFromDiff(diffResponse.diff);\n      if (changes.length > 0) {\n        allChanges += `/* ${escapeUrlAsCssComment(url)} */\\n\\n${changes}\\n\\n`;\n      }\n    }\n\n    return allChanges;\n  }\n\n  private clipboardCopy(_event: Event): void {\n    Host.userMetrics.actionTaken(Host.UserMetrics.Action.StyleRuleCopied);\n  }\n\n  private createStylesSidebarToolbar(): HTMLElement {\n    const container = this.contentElement.createChild('div', 'styles-sidebar-pane-toolbar-container');\n    const hbox = container.createChild('div', 'hbox styles-sidebar-pane-toolbar');\n    const toolbar = new UI.Toolbar.Toolbar('styles-pane-toolbar', hbox);\n    const filterInput = new UI.Toolbar.ToolbarFilter(undefined, 1, 1, undefined, undefined, false);\n    filterInput.addEventListener(UI.Toolbar.ToolbarInput.Event.TextChanged, this.onFilterChanged, this);\n    toolbar.appendToolbarItem(filterInput);\n    toolbar.makeToggledGray();\n    void toolbar.appendItemsAtLocation('styles-sidebarpane-toolbar');\n    this.toolbar = toolbar;\n\n    if (UI.ActionRegistry.ActionRegistry.instance().hasAction('freestyler.style-tab-context')) {\n      toolbar.appendToolbarItem(UI.Toolbar.Toolbar.createActionButtonForId('freestyler.style-tab-context'));\n    }\n\n    const toolbarPaneContainer = container.createChild('div', 'styles-sidebar-toolbar-pane-container');\n    const toolbarPaneContent = (toolbarPaneContainer.createChild('div', 'styles-sidebar-toolbar-pane') as HTMLElement);\n\n    return toolbarPaneContent;\n  }\n\n  showToolbarPane(widget: UI.Widget.Widget|null, toggle: UI.Toolbar.ToolbarToggle|null): void {\n    if (this.pendingWidgetToggle) {\n      this.pendingWidgetToggle.setToggled(false);\n    }\n    this.pendingWidgetToggle = toggle;\n\n    if (this.animatedToolbarPane) {\n      this.pendingWidget = widget;\n    } else {\n      this.startToolbarPaneAnimation(widget);\n    }\n\n    if (widget && toggle) {\n      toggle.setToggled(true);\n    }\n  }\n\n  appendToolbarItem(item: UI.Toolbar.ToolbarItem): void {\n    if (this.toolbar) {\n      this.toolbar.appendToolbarItem(item);\n    }\n  }\n\n  private startToolbarPaneAnimation(widget: UI.Widget.Widget|null): void {\n    if (widget === this.currentToolbarPane) {\n      return;\n    }\n\n    if (widget && this.currentToolbarPane) {\n      this.currentToolbarPane.detach();\n      widget.show(this.toolbarPaneElement);\n      this.currentToolbarPane = widget;\n      this.currentToolbarPane.focus();\n      return;\n    }\n\n    this.animatedToolbarPane = widget;\n\n    if (this.currentToolbarPane) {\n      this.toolbarPaneElement.style.animationName = 'styles-element-state-pane-slideout';\n    } else if (widget) {\n      this.toolbarPaneElement.style.animationName = 'styles-element-state-pane-slidein';\n    }\n\n    if (widget) {\n      widget.show(this.toolbarPaneElement);\n    }\n\n    const listener = onAnimationEnd.bind(this);\n    this.toolbarPaneElement.addEventListener('animationend', listener, false);\n\n    function onAnimationEnd(this: StylesSidebarPane): void {\n      this.toolbarPaneElement.style.removeProperty('animation-name');\n      this.toolbarPaneElement.removeEventListener('animationend', listener, false);\n\n      if (this.currentToolbarPane) {\n        this.currentToolbarPane.detach();\n      }\n\n      this.currentToolbarPane = this.animatedToolbarPane;\n      if (this.currentToolbarPane) {\n        this.currentToolbarPane.focus();\n      }\n      this.animatedToolbarPane = null;\n\n      if (this.pendingWidget) {\n        this.startToolbarPaneAnimation(this.pendingWidget);\n        this.pendingWidget = null;\n      }\n    }\n  }\n\n  private createRenderingShortcuts(): UI.Toolbar.ToolbarButton {\n    const prefersColorSchemeSetting =\n        Common.Settings.Settings.instance().moduleSetting<string>('emulated-css-media-feature-prefers-color-scheme');\n    const autoDarkModeSetting = Common.Settings.Settings.instance().moduleSetting('emulate-auto-dark-mode');\n    const decorateStatus = (condition: boolean, title: string): string => `${condition ? ' ' : ''}${title}`;\n\n    const button =\n        new UI.Toolbar.ToolbarToggle(i18nString(UIStrings.toggleRenderingEmulations), 'brush', 'brush-filled');\n    button.element.setAttribute('jslog', `${VisualLogging.dropDown('rendering-emulations').track({click: true})}`);\n    button.element.addEventListener('click', event => {\n      const boundingRect = button.element.getBoundingClientRect();\n      const menu = new UI.ContextMenu.ContextMenu(event, {\n        x: boundingRect.left,\n        y: boundingRect.bottom,\n      });\n      const preferredColorScheme = prefersColorSchemeSetting.get();\n      const isLightColorScheme = preferredColorScheme === 'light';\n      const isDarkColorScheme = preferredColorScheme === 'dark';\n      const isAutoDarkEnabled = autoDarkModeSetting.get();\n      const lightColorSchemeOption = decorateStatus(isLightColorScheme, 'prefers-color-scheme: light');\n      const darkColorSchemeOption = decorateStatus(isDarkColorScheme, 'prefers-color-scheme: dark');\n      const autoDarkModeOption = decorateStatus(isAutoDarkEnabled, i18nString(UIStrings.automaticDarkMode));\n\n      menu.defaultSection().appendItem(lightColorSchemeOption, () => {\n        autoDarkModeSetting.set(false);\n        prefersColorSchemeSetting.set(isLightColorScheme ? '' : 'light');\n        button.setToggled(Boolean(prefersColorSchemeSetting.get()));\n      }, {jslogContext: 'prefer-light-color-scheme'});\n      menu.defaultSection().appendItem(darkColorSchemeOption, () => {\n        autoDarkModeSetting.set(false);\n        prefersColorSchemeSetting.set(isDarkColorScheme ? '' : 'dark');\n        button.setToggled(Boolean(prefersColorSchemeSetting.get()));\n      }, {jslogContext: 'prefer-dark-color-scheme'});\n      menu.defaultSection().appendItem(autoDarkModeOption, () => {\n        autoDarkModeSetting.set(!isAutoDarkEnabled);\n        button.setToggled(Boolean(prefersColorSchemeSetting.get()));\n      }, {jslogContext: 'emulate-auto-dark-mode'});\n\n      void menu.show();\n      event.stopPropagation();\n    }, {capture: true});\n\n    return button;\n  }\n\n  private createCopyAllChangesButton(): UI.Toolbar.ToolbarButton {\n    const copyAllChangesButton = new UI.Toolbar.ToolbarButton(i18nString(UIStrings.copyAllCSSChanges), 'copy');\n    // TODO(1296947): implement a dedicated component to share between all copy buttons\n    copyAllChangesButton.element.setAttribute('data-content', i18nString(UIStrings.copiedToClipboard));\n    let timeout: number|undefined;\n    copyAllChangesButton.addEventListener(UI.Toolbar.ToolbarButton.Events.Click, async () => {\n      const allChanges = await this.getFormattedChanges();\n      Host.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(allChanges);\n      Host.userMetrics.styleTextCopied(Host.UserMetrics.StyleTextCopied.AllChangesViaStylesPane);\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = undefined;\n      }\n      copyAllChangesButton.element.classList.add('copied-to-clipboard');\n      timeout = window.setTimeout(() => {\n        copyAllChangesButton.element.classList.remove('copied-to-clipboard');\n        timeout = undefined;\n      }, 2000);\n    });\n    return copyAllChangesButton;\n  }\n}\n\nexport const enum Events {\n  InitialUpdateCompleted = 'InitialUpdateCompleted',\n  StylesUpdateCompleted = 'StylesUpdateCompleted',\n}\n\nexport interface StylesUpdateCompletedEvent {\n  hasMatchedStyles: boolean;\n}\n\ninterface CompletionResult extends UI.SuggestBox.Suggestion {\n  isCSSVariableColor?: boolean;\n}\n\nexport type EventTypes = {\n  [Events.InitialUpdateCompleted]: void,\n  [Events.StylesUpdateCompleted]: StylesUpdateCompletedEvent,\n};\n\ntype ChangeTracker = {\n  uiSourceCode: Workspace.UISourceCode.UISourceCode,\n  changedLines: Set<number>,\n  diffChangeCallback: () => Promise<void>,\n  formattedCurrentMapping?: Formatter.ScriptFormatter.FormatterSourceMapping,\n};\n\nconst MAX_LINK_LENGTH = 23;\n\nexport class SectionBlock {\n  private readonly titleElementInternal: Element|null;\n  sections: StylePropertiesSection[];\n  #expanded = false;\n  #icon: IconButton.Icon.Icon|undefined;\n  constructor(titleElement: Element|null, expandable?: boolean, expandedByDefault?: boolean) {\n    this.titleElementInternal = titleElement;\n    this.sections = [];\n    this.#expanded = expandedByDefault ?? false;\n\n    if (expandable && titleElement instanceof HTMLElement) {\n      this.#icon =\n          IconButton.Icon.create(this.#expanded ? 'triangle-down' : 'triangle-right', 'section-block-expand-icon');\n      titleElement.classList.toggle('empty-section', !this.#expanded);\n      UI.ARIAUtils.setExpanded(titleElement, this.#expanded);\n      titleElement.appendChild(this.#icon);\n      // Intercept focus to avoid highlight on click.\n      titleElement.tabIndex = -1;\n      titleElement.addEventListener('click', () => this.expand(!this.#expanded), false);\n    }\n  }\n\n  expand(expand: boolean): void {\n    if (!this.titleElementInternal || !this.#icon) {\n      return;\n    }\n    this.titleElementInternal.classList.toggle('empty-section', !expand);\n    this.#icon.name = expand ? 'triangle-down' : 'triangle-right';\n    UI.ARIAUtils.setExpanded(this.titleElementInternal, expand);\n    this.#expanded = expand;\n    this.sections.forEach(section => section.element.classList.toggle('hidden', !expand));\n  }\n\n  static createPseudoTypeBlock(pseudoType: Protocol.DOM.PseudoType, pseudoArgument: string|null): SectionBlock {\n    const separatorElement = document.createElement('div');\n    separatorElement.className = 'sidebar-separator';\n    separatorElement.setAttribute('jslog', `${VisualLogging.sectionHeader('pseudotype')}`);\n    const pseudoArgumentString = pseudoArgument ? `(${pseudoArgument})` : '';\n    const pseudoTypeString = `${pseudoType}${pseudoArgumentString}`;\n    separatorElement.textContent = i18nString(UIStrings.pseudoSElement, {PH1: pseudoTypeString});\n    return new SectionBlock(separatorElement);\n  }\n\n  static async createInheritedPseudoTypeBlock(\n      pseudoType: Protocol.DOM.PseudoType, pseudoArgument: string|null,\n      node: SDK.DOMModel.DOMNode): Promise<SectionBlock> {\n    const separatorElement = document.createElement('div');\n    separatorElement.className = 'sidebar-separator';\n    separatorElement.setAttribute('jslog', `${VisualLogging.sectionHeader('inherited-pseudotype')}`);\n    const pseudoArgumentString = pseudoArgument ? `(${pseudoArgument})` : '';\n    const pseudoTypeString = `${pseudoType}${pseudoArgumentString}`;\n    UI.UIUtils.createTextChild(separatorElement, i18nString(UIStrings.inheritedFromSPseudoOf, {PH1: pseudoTypeString}));\n    const link = await Common.Linkifier.Linkifier.linkify(node, {\n      preventKeyboardFocus: true,\n      tooltip: undefined,\n    });\n    separatorElement.appendChild(link);\n    return new SectionBlock(separatorElement);\n  }\n\n  static createRegisteredPropertiesBlock(expandedByDefault: boolean): SectionBlock {\n    const separatorElement = document.createElement('div');\n    const block = new SectionBlock(separatorElement, true, expandedByDefault);\n    separatorElement.className = 'sidebar-separator';\n    separatorElement.appendChild(document.createTextNode(REGISTERED_PROPERTY_SECTION_NAME));\n    return block;\n  }\n\n  static createKeyframesBlock(keyframesName: string): SectionBlock {\n    const separatorElement = document.createElement('div');\n    separatorElement.className = 'sidebar-separator';\n    separatorElement.setAttribute('jslog', `${VisualLogging.sectionHeader('keyframes')}`);\n    separatorElement.textContent = `@keyframes ${keyframesName}`;\n    return new SectionBlock(separatorElement);\n  }\n\n  static createFontPaletteValuesRuleBlock(name: string): SectionBlock {\n    const separatorElement = document.createElement('div');\n    separatorElement.className = 'sidebar-separator';\n    separatorElement.textContent = `@font-palette-values ${name}`;\n    return new SectionBlock(separatorElement);\n  }\n\n  static createPositionFallbackBlock(positionFallbackName: string): SectionBlock {\n    const separatorElement = document.createElement('div');\n    separatorElement.className = 'sidebar-separator';\n    separatorElement.setAttribute('jslog', `${VisualLogging.sectionHeader('position-fallback')}`);\n    separatorElement.textContent = `@position-fallback ${positionFallbackName}`;\n    return new SectionBlock(separatorElement);\n  }\n\n  static createPositionTryBlock(positionTryName: string): SectionBlock {\n    const separatorElement = document.createElement('div');\n    separatorElement.className = 'sidebar-separator';\n    separatorElement.setAttribute('jslog', `${VisualLogging.sectionHeader('position-try')}`);\n    separatorElement.textContent = `@position-try ${positionTryName}`;\n    return new SectionBlock(separatorElement);\n  }\n\n  static async createInheritedNodeBlock(node: SDK.DOMModel.DOMNode): Promise<SectionBlock> {\n    const separatorElement = document.createElement('div');\n    separatorElement.className = 'sidebar-separator';\n    separatorElement.setAttribute('jslog', `${VisualLogging.sectionHeader('inherited')}`);\n    UI.UIUtils.createTextChild(separatorElement, i18nString(UIStrings.inheritedFroms));\n    const link = await Common.Linkifier.Linkifier.linkify(node, {\n      preventKeyboardFocus: true,\n      tooltip: undefined,\n    });\n    separatorElement.appendChild(link);\n    return new SectionBlock(separatorElement);\n  }\n\n  static createLayerBlock(rule: SDK.CSSRule.CSSStyleRule): SectionBlock {\n    const separatorElement = document.createElement('div');\n    separatorElement.className = 'sidebar-separator layer-separator';\n    separatorElement.setAttribute('jslog', `${VisualLogging.sectionHeader('layer')}`);\n    UI.UIUtils.createTextChild(separatorElement.createChild('div'), i18nString(UIStrings.layer));\n    const layers = rule.layers;\n    if (!layers.length && rule.origin === Protocol.CSS.StyleSheetOrigin.UserAgent) {\n      const name = rule.origin === Protocol.CSS.StyleSheetOrigin.UserAgent ? '\\xa0user\\xa0agent\\xa0stylesheet' :\n                                                                             '\\xa0implicit\\xa0outer\\xa0layer';\n      UI.UIUtils.createTextChild(separatorElement.createChild('div'), name);\n      return new SectionBlock(separatorElement);\n    }\n    const layerLink = separatorElement.createChild('button') as HTMLButtonElement;\n    layerLink.className = 'link';\n    layerLink.title = i18nString(UIStrings.clickToRevealLayer);\n    const name = layers.map(layer => SDK.CSSModel.CSSModel.readableLayerName(layer.text)).join('.');\n    layerLink.textContent = name;\n    layerLink.onclick = () => LayersWidget.LayersWidget.instance().revealLayer(name);\n    return new SectionBlock(separatorElement);\n  }\n\n  updateFilter(): number {\n    let hasAnyVisibleSection = false;\n    let numVisibleSections = 0;\n    for (const section of this.sections) {\n      numVisibleSections += section.updateFilter() ? 1 : 0;\n      hasAnyVisibleSection = section.updateFilter() || hasAnyVisibleSection;\n    }\n    if (this.titleElementInternal) {\n      this.titleElementInternal.classList.toggle('hidden', !hasAnyVisibleSection);\n    }\n    return numVisibleSections;\n  }\n\n  titleElement(): Element|null {\n    return this.titleElementInternal;\n  }\n}\n\nexport class IdleCallbackManager {\n  private discarded: boolean;\n  private readonly promises: Promise<void>[];\n  private readonly queue: {fn: () => void, resolve: () => void, reject: (err: unknown) => void}[];\n  constructor() {\n    this.discarded = false;\n    this.promises = [];\n    this.queue = [];\n  }\n\n  discard(): void {\n    this.discarded = true;\n  }\n\n  schedule(fn: () => void): void {\n    if (this.discarded) {\n      return;\n    }\n    const promise = new Promise<void>((resolve, reject) => {\n      this.queue.push({fn, resolve, reject});\n    });\n    this.promises.push(promise);\n    this.scheduleIdleCallback(/* timeout=*/ 100);\n  }\n\n  protected scheduleIdleCallback(timeout: number): void {\n    window.requestIdleCallback(() => {\n      const next = this.queue.shift();\n      assertNotNullOrUndefined(next);\n\n      try {\n        if (!this.discarded) {\n          next.fn();\n        }\n        next.resolve();\n      } catch (err) {\n        next.reject(err);\n      }\n    }, {timeout});\n  }\n\n  awaitDone(): Promise<void[]> {\n    return Promise.all(this.promises);\n  }\n}\n\nexport function quoteFamilyName(familyName: string): string {\n  return `'${familyName.replaceAll('\\'', '\\\\\\'')}'`;\n}\n\nexport class CSSPropertyPrompt extends UI.TextPrompt.TextPrompt {\n  private readonly isColorAware: boolean;\n  private readonly cssCompletions: string[];\n  private selectedNodeComputedStyles: Map<string, string>|null;\n  private parentNodeComputedStyles: Map<string, string>|null;\n  private treeElement: StylePropertyTreeElement;\n  private isEditingName: boolean;\n  private readonly cssVariables: string[];\n\n  constructor(treeElement: StylePropertyTreeElement, isEditingName: boolean) {\n    // Use the same callback both for applyItemCallback and acceptItemCallback.\n    super();\n    this.initialize(this.buildPropertyCompletions.bind(this), UI.UIUtils.StyleValueDelimiters);\n    const cssMetadata = SDK.CSSMetadata.cssMetadata();\n    this.isColorAware = SDK.CSSMetadata.cssMetadata().isColorAwareProperty(treeElement.property.name);\n    this.cssCompletions = [];\n    const node = treeElement.node();\n    if (isEditingName) {\n      this.cssCompletions = cssMetadata.allProperties();\n      if (node && !node.isSVGNode()) {\n        this.cssCompletions = this.cssCompletions.filter(property => !cssMetadata.isSVGProperty(property));\n      }\n    } else {\n      this.cssCompletions = cssMetadata.getPropertyValues(treeElement.property.name);\n      if (node && cssMetadata.isFontFamilyProperty(treeElement.property.name)) {\n        const fontFamilies = node.domModel().cssModel().fontFaces().map(font => quoteFamilyName(font.getFontFamily()));\n        this.cssCompletions.unshift(...fontFamilies);\n      }\n    }\n\n    /**\n     * Computed styles cache populated for flexbox features.\n     */\n    this.selectedNodeComputedStyles = null;\n    /**\n     * Computed styles cache populated for flexbox features.\n     */\n    this.parentNodeComputedStyles = null;\n    this.treeElement = treeElement;\n    this.isEditingName = isEditingName;\n    this.cssVariables = treeElement.matchedStyles().availableCSSVariables(treeElement.property.ownerStyle);\n    if (this.cssVariables.length < 1000) {\n      this.cssVariables.sort(Platform.StringUtilities.naturalOrderComparator);\n    } else {\n      this.cssVariables.sort();\n    }\n\n    if (!isEditingName) {\n      this.disableDefaultSuggestionForEmptyInput();\n\n      // If a CSS value is being edited that has a numeric or hex substring, hint that precision modifier shortcuts are available.\n      if (treeElement && treeElement.valueElement) {\n        const cssValueText = treeElement.valueElement.textContent;\n        const cmdOrCtrl = Host.Platform.isMac() ? 'Cmd' : 'Ctrl';\n        if (cssValueText !== null) {\n          if (cssValueText.match(/#[\\da-f]{3,6}$/i)) {\n            this.setTitle(i18nString(UIStrings.incrementdecrementWithMousewheelOne, {PH1: cmdOrCtrl}));\n          } else if (cssValueText.match(/\\d+/)) {\n            this.setTitle(i18nString(UIStrings.incrementdecrementWithMousewheelHundred, {PH1: cmdOrCtrl}));\n          }\n        }\n      }\n    }\n  }\n\n  override onKeyDown(event: Event): void {\n    const keyboardEvent = (event as KeyboardEvent);\n    switch (keyboardEvent.key) {\n      case 'ArrowUp':\n      case 'ArrowDown':\n      case 'PageUp':\n      case 'PageDown':\n        if (!this.isSuggestBoxVisible() && this.handleNameOrValueUpDown(keyboardEvent)) {\n          keyboardEvent.preventDefault();\n          return;\n        }\n        break;\n      case 'Enter':\n        if (keyboardEvent.shiftKey) {\n          return;\n        }\n        // Accept any available autocompletions and advance to the next field.\n        this.tabKeyPressed();\n        keyboardEvent.preventDefault();\n        return;\n      case ' ':\n        if (this.isEditingName) {\n          // Since property names cannot contain a space\n          // we accept available autocompletions for property name when the user presses space.\n          this.tabKeyPressed();\n          keyboardEvent.preventDefault();\n          return;\n        }\n    }\n\n    super.onKeyDown(keyboardEvent);\n  }\n\n  override onMouseWheel(event: Event): void {\n    if (this.handleNameOrValueUpDown(event)) {\n      event.consume(true);\n      return;\n    }\n    super.onMouseWheel(event);\n  }\n\n  override tabKeyPressed(): boolean {\n    this.acceptAutoComplete();\n\n    // Always tab to the next field.\n    return false;\n  }\n\n  private handleNameOrValueUpDown(event: Event): boolean {\n    function finishHandler(this: CSSPropertyPrompt, _originalValue: string, _replacementString: string): void {\n      // Synthesize property text disregarding any comments, custom whitespace etc.\n      if (this.treeElement.nameElement && this.treeElement.valueElement) {\n        void this.treeElement.applyStyleText(\n            this.treeElement.nameElement.textContent + ': ' + this.treeElement.valueElement.textContent, false);\n      }\n    }\n\n    function customNumberHandler(this: CSSPropertyPrompt, prefix: string, number: number, suffix: string): string {\n      if (number !== 0 && !suffix.length &&\n          SDK.CSSMetadata.cssMetadata().isLengthProperty(this.treeElement.property.name) &&\n          !this.treeElement.property.value.toLowerCase().startsWith('calc(')) {\n        suffix = 'px';\n      }\n      return prefix + number + suffix;\n    }\n\n    // Handle numeric value increment/decrement only at this point.\n    if (!this.isEditingName && this.treeElement.valueElement &&\n        UI.UIUtils.handleElementValueModifications(\n            event, this.treeElement.valueElement, finishHandler.bind(this), this.isValueSuggestion.bind(this),\n            customNumberHandler.bind(this))) {\n      return true;\n    }\n\n    return false;\n  }\n\n  private isValueSuggestion(word: string): boolean {\n    if (!word) {\n      return false;\n    }\n    word = word.toLowerCase();\n    return this.cssCompletions.indexOf(word) !== -1 || word.startsWith('--');\n  }\n\n  private async buildPropertyCompletions(expression: string, query: string, force?: boolean):\n      Promise<UI.SuggestBox.Suggestions> {\n    const lowerQuery = query.toLowerCase();\n    const editingVariable = !this.isEditingName && expression.trim().endsWith('var(');\n    if (!query && !force && !editingVariable && (this.isEditingName || expression)) {\n      return Promise.resolve([]);\n    }\n\n    const prefixResults: Array<CompletionResult> = [];\n    const anywhereResults: Array<CompletionResult> = [];\n    if (!editingVariable) {\n      this.cssCompletions.forEach(completion => filterCompletions.call(this, completion, false /* variable */));\n      // When and only when editing property names, we also include aliases for autocomplete.\n      if (this.isEditingName) {\n        SDK.CSSMetadata.cssMetadata().aliasesFor().forEach((canonicalProperty, alias) => {\n          const index = alias.toLowerCase().indexOf(lowerQuery);\n          if (index !== 0) {\n            return;\n          }\n          const aliasResult: CompletionResult = {\n            text: alias,\n            priority: SDK.CSSMetadata.cssMetadata().propertyUsageWeight(alias),\n            isCSSVariableColor: false,\n          };\n          const canonicalPropertyResult: CompletionResult = {\n            text: canonicalProperty,\n            priority: SDK.CSSMetadata.cssMetadata().propertyUsageWeight(canonicalProperty),\n            subtitle: `= ${alias}`,  // This explains why this canonicalProperty is prompted.\n            isCSSVariableColor: false,\n          };\n          // We add aliasResult *before* the canonicalProperty one because we want to prompt\n          // the alias one first, since it corresponds to what the user has typed.\n          prefixResults.push(aliasResult, canonicalPropertyResult);\n        });\n      }\n    }\n    const node = this.treeElement.node();\n    if (this.isEditingName && node) {\n      const nameValuePresets = SDK.CSSMetadata.cssMetadata().nameValuePresets(node.isSVGNode());\n      nameValuePresets.forEach(\n          preset => filterCompletions.call(this, preset, false /* variable */, true /* nameValue */));\n    }\n    if (this.isEditingName || editingVariable) {\n      this.cssVariables.forEach(variable => filterCompletions.call(this, variable, true /* variable */));\n    }\n\n    const results = prefixResults.concat(anywhereResults);\n    if (!this.isEditingName && !results.length && query.length > 1 && '!important'.startsWith(lowerQuery)) {\n      results.push({\n        text: '!important',\n        title: undefined,\n        subtitle: undefined,\n        priority: undefined,\n        isSecondary: undefined,\n        subtitleRenderer: undefined,\n        selectionRange: undefined,\n        hideGhostText: undefined,\n        iconElement: undefined,\n      });\n    }\n    const userEnteredText = query.replace('-', '');\n    if (userEnteredText && (userEnteredText === userEnteredText.toUpperCase())) {\n      for (let i = 0; i < results.length; ++i) {\n        if (!results[i].text.startsWith('--')) {\n          results[i].text = results[i].text.toUpperCase();\n        }\n      }\n    }\n\n    for (const result of results) {\n      if (editingVariable) {\n        result.title = result.text;\n        result.text += ')';\n        continue;\n      }\n      const valuePreset = SDK.CSSMetadata.cssMetadata().getValuePreset(this.treeElement.name, result.text);\n      if (!this.isEditingName && valuePreset) {\n        result.title = result.text;\n        result.text = valuePreset.text;\n        result.selectionRange = {startColumn: valuePreset.startColumn, endColumn: valuePreset.endColumn};\n      }\n    }\n\n    const ensureComputedStyles = async(): Promise<void> => {\n      if (!node || this.selectedNodeComputedStyles) {\n        return;\n      }\n      this.selectedNodeComputedStyles = await node.domModel().cssModel().getComputedStyle(node.id);\n      const parentNode = node.parentNode;\n      if (parentNode) {\n        this.parentNodeComputedStyles = await parentNode.domModel().cssModel().getComputedStyle(parentNode.id);\n      }\n    };\n    for (const result of results) {\n      await ensureComputedStyles();\n      // Using parent node's computed styles does not work in all cases. For example:\n      //\n      // <div id=\"container\" style=\"display: flex;\">\n      //  <div id=\"useless\" style=\"display: contents;\">\n      //    <div id=\"item\">item</div>\n      //  </div>\n      // </div>\n      // TODO(crbug/1139945): Find a better way to get the flex container styles.\n      const iconInfo = ElementsComponents.CSSPropertyIconResolver.findIcon(\n          this.isEditingName ? result.text : `${this.treeElement.property.name}: ${result.text}`,\n          this.selectedNodeComputedStyles, this.parentNodeComputedStyles);\n      if (!iconInfo) {\n        continue;\n      }\n      const icon = new IconButton.Icon.Icon();\n      const width = '12.5px';\n      const height = '12.5px';\n      icon.data = {\n        iconName: iconInfo.iconName,\n        width,\n        height,\n        color: 'var(--icon-default)',\n      };\n      icon.style.transform = `rotate(${iconInfo.rotate}deg) scale(${iconInfo.scaleX * 1.1}, ${iconInfo.scaleY * 1.1})`;\n      icon.style.maxHeight = height;\n      icon.style.maxWidth = width;\n      result.iconElement = icon;\n    }\n\n    if (this.isColorAware && !this.isEditingName) {\n      results.sort((a, b) => {\n        if (a.isCSSVariableColor && b.isCSSVariableColor) {\n          return 0;\n        }\n        return a.isCSSVariableColor ? -1 : 1;\n      });\n    }\n    return Promise.resolve(results);\n\n    function filterCompletions(\n        this: CSSPropertyPrompt, completion: string, variable: boolean, nameValue?: boolean): void {\n      const index = completion.toLowerCase().indexOf(lowerQuery);\n      const result: CompletionResult = {\n        text: completion,\n        title: undefined,\n        subtitle: undefined,\n        priority: undefined,\n        isSecondary: undefined,\n        subtitleRenderer: undefined,\n        selectionRange: undefined,\n        hideGhostText: undefined,\n        iconElement: undefined,\n        isCSSVariableColor: false,\n      };\n      if (variable) {\n        const computedValue =\n            this.treeElement.matchedStyles().computeCSSVariable(this.treeElement.property.ownerStyle, completion);\n        if (computedValue) {\n          const color = Common.Color.parse(computedValue.value);\n          if (color) {\n            result.subtitleRenderer = colorSwatchRenderer.bind(null, color);\n            result.isCSSVariableColor = true;\n          } else {\n            result.subtitleRenderer = computedValueSubtitleRenderer.bind(null, computedValue.value);\n          }\n        }\n      }\n      if (nameValue) {\n        result.hideGhostText = true;\n      }\n      if (index === 0) {\n        result.priority = this.isEditingName ? SDK.CSSMetadata.cssMetadata().propertyUsageWeight(completion) : 1;\n        prefixResults.push(result);\n      } else if (index > -1) {\n        anywhereResults.push(result);\n      }\n    }\n\n    function colorSwatchRenderer(color: Common.Color.Color): Element {\n      const swatch = new InlineEditor.ColorSwatch.ColorSwatch();\n      swatch.renderColor(color);\n      swatch.style.pointerEvents = 'none';\n      return swatch;\n    }\n    function computedValueSubtitleRenderer(computedValue: string): Element {\n      const subtitleElement = document.createElement('span');\n      subtitleElement.className = 'suggestion-subtitle';\n      subtitleElement.textContent = `${computedValue}`;\n      subtitleElement.style.maxWidth = '100px';\n      subtitleElement.title = `${computedValue}`;\n      return subtitleElement;\n    }\n  }\n}\n\nexport function unescapeCssString(input: string): string {\n  // https://drafts.csswg.org/css-syntax/#consume-escaped-code-point\n  const reCssEscapeSequence = /(?<!\\\\)\\\\(?:([a-fA-F0-9]{1,6})|(.))[\\n\\t\\x20]?/gs;\n  return input.replace(reCssEscapeSequence, (_, $1, $2) => {\n    if ($2) {  // Handle the single-character escape sequence.\n      return $2;\n    }\n    // Otherwise, handle the code point escape sequence.\n    const codePoint = parseInt($1, 16);\n    const isSurrogate = 0xD800 <= codePoint && codePoint <= 0xDFFF;\n    if (isSurrogate || codePoint === 0x0000 || codePoint > 0x10FFFF) {\n      return '\\uFFFD';\n    }\n    return String.fromCodePoint(codePoint);\n  });\n}\n\nexport function escapeUrlAsCssComment(urlText: string): string {\n  const url = new URL(urlText);\n  if (url.search) {\n    return `${url.origin}${url.pathname}${url.search.replaceAll('*/', '*%2F')}${url.hash}`;\n  }\n  return url.toString();\n}\n\nexport class ActionDelegate implements UI.ActionRegistration.ActionDelegate {\n  handleAction(_context: UI.Context.Context, actionId: string): boolean {\n    switch (actionId) {\n      case 'elements.new-style-rule': {\n        Host.userMetrics.actionTaken(Host.UserMetrics.Action.NewStyleRuleAdded);\n        void StylesSidebarPane.instance().createNewRuleInViaInspectorStyleSheet();\n        return true;\n      }\n    }\n    return false;\n  }\n}\n\nlet buttonProviderInstance: ButtonProvider;\n\nexport class ButtonProvider implements UI.Toolbar.Provider {\n  private readonly button: UI.Toolbar.ToolbarButton;\n  private constructor() {\n    this.button = UI.Toolbar.Toolbar.createActionButtonForId('elements.new-style-rule');\n    const longclickTriangle = IconButton.Icon.create('triangle-bottom-right', 'long-click-glyph');\n    this.button.element.appendChild(longclickTriangle);\n\n    new UI.UIUtils.LongClickController(this.button.element, this.longClicked.bind(this));\n    UI.Context.Context.instance().addFlavorChangeListener(SDK.DOMModel.DOMNode, onNodeChanged.bind(this));\n    onNodeChanged.call(this);\n\n    function onNodeChanged(this: ButtonProvider): void {\n      let node = UI.Context.Context.instance().flavor(SDK.DOMModel.DOMNode);\n      node = node ? node.enclosingElementOrSelf() : null;\n      this.button.setEnabled(Boolean(node));\n    }\n  }\n\n  static instance(opts: {\n    forceNew: boolean|null,\n  } = {forceNew: null}): ButtonProvider {\n    const {forceNew} = opts;\n    if (!buttonProviderInstance || forceNew) {\n      buttonProviderInstance = new ButtonProvider();\n    }\n\n    return buttonProviderInstance;\n  }\n\n  private longClicked(event: Event): void {\n    StylesSidebarPane.instance().onAddButtonLongClick(event);\n  }\n\n  item(): UI.Toolbar.ToolbarItem {\n    return this.button;\n  }\n}\n"]}