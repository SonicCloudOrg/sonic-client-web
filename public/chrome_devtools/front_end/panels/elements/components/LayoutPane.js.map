{"version":3,"file":"LayoutPane.js","sourceRoot":"","sources":["../../../../../../../front_end/panels/elements/components/LayoutPane.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright (c) 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../../../core/common/common.js';\nimport * as i18n from '../../../core/i18n/i18n.js';\nimport * as Platform from '../../../core/platform/platform.js';\nimport * as SDK from '../../../core/sdk/sdk.js';\nimport * as Buttons from '../../../ui/components/buttons/buttons.js';\nimport * as Input from '../../../ui/components/input/input.js';\nimport * as LegacyWrapper from '../../../ui/components/legacy_wrapper/legacy_wrapper.js';\nimport * as NodeText from '../../../ui/components/node_text/node_text.js';\nimport * as Coordinator from '../../../ui/components/render_coordinator/render_coordinator.js';\n// eslint-disable-next-line rulesdir/es_modules_import\nimport inspectorCommonStyles from '../../../ui/legacy/inspectorCommon.css.js';\nimport * as UI from '../../../ui/legacy/legacy.js';\nimport * as LitHtml from '../../../ui/lit-html/lit-html.js';\nimport * as VisualLogging from '../../../ui/visual_logging/visual_logging.js';\n\nimport layoutPaneStyles from './layoutPane.css.js';\nimport {type BooleanSetting, type EnumSetting, type LayoutElement, type Setting} from './LayoutPaneUtils.js';\n\nconst UIStrings = {\n  /**\n   *@description Title of the input to select the overlay color for an element using the color picker\n   */\n  chooseElementOverlayColor: 'Choose the overlay color for this element',\n  /**\n   *@description Title of the show element button in the Layout pane of the Elements panel\n   */\n  showElementInTheElementsPanel: 'Show element in the Elements panel',\n  /**\n   *@description Title of a section on CSS Grid tooling\n   */\n  grid: 'Grid',\n  /**\n   *@description Title of a section in the Layout Sidebar pane of the Elements panel\n   */\n  overlayDisplaySettings: 'Overlay display settings',\n  /**\n   *@description Title of a section in Layout sidebar pane\n   */\n  gridOverlays: 'Grid overlays',\n  /**\n   *@description Message in the Layout panel informing users that no CSS Grid layouts were found on the page\n   */\n  noGridLayoutsFoundOnThisPage: 'No grid layouts found on this page',\n  /**\n   *@description Title of the Flexbox section in the Layout panel\n   */\n  flexbox: 'Flexbox',\n  /**\n   *@description Title of a section in the Layout panel\n   */\n  flexboxOverlays: 'Flexbox overlays',\n  /**\n   *@description Text in the Layout panel, when no flexbox elements are found\n   */\n  noFlexboxLayoutsFoundOnThisPage: 'No flexbox layouts found on this page',\n  /**\n   *@description Screen reader announcement when opening color picker tool.\n   */\n  colorPickerOpened: 'Color picker opened.',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/elements/components/LayoutPane.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport {LayoutElement};\n\nconst {render, html} = LitHtml;\n\nconst nodeToLayoutElement = (node: SDK.DOMModel.DOMNode): LayoutElement => {\n  const className = node.getAttribute('class');\n  const nodeId = node.id;\n  return {\n    id: nodeId,\n    color: 'var(--sys-color-inverse-surface)',\n    name: node.localName(),\n    domId: node.getAttribute('id'),\n    domClasses: className ? className.split(/\\s+/).filter(s => Boolean(s)) : undefined,\n    enabled: false,\n    reveal: () => {\n      void Common.Revealer.reveal(node);\n      void node.scrollIntoView();\n    },\n    highlight: () => {\n      node.highlight();\n    },\n    hideHighlight: () => {\n      SDK.OverlayModel.OverlayModel.hideDOMNodeHighlight();\n    },\n    toggle: (_value: boolean) => {\n      throw new Error('Not implemented');\n    },\n    setColor(_value: string): never {\n      throw new Error('Not implemented');\n    },\n  };\n};\n\nconst gridNodesToElements = (nodes: SDK.DOMModel.DOMNode[]): LayoutElement[] => {\n  return nodes.map(node => {\n    const layoutElement = nodeToLayoutElement(node);\n    const nodeId = node.id;\n    return {\n      ...layoutElement,\n      color:\n          node.domModel().overlayModel().colorOfGridInPersistentOverlay(nodeId) || 'var(--sys-color-inverse-surface)',\n      enabled: node.domModel().overlayModel().isHighlightedGridInPersistentOverlay(nodeId),\n      toggle: (value: boolean) => {\n        if (value) {\n          node.domModel().overlayModel().highlightGridInPersistentOverlay(nodeId);\n        } else {\n          node.domModel().overlayModel().hideGridInPersistentOverlay(nodeId);\n        }\n      },\n      setColor(value: string): void {\n        this.color = value;\n        node.domModel().overlayModel().setColorOfGridInPersistentOverlay(nodeId, value);\n      },\n    };\n  });\n};\n\nconst flexContainerNodesToElements = (nodes: SDK.DOMModel.DOMNode[]): LayoutElement[] => {\n  return nodes.map(node => {\n    const layoutElement = nodeToLayoutElement(node);\n    const nodeId = node.id;\n    return {\n      ...layoutElement,\n      color:\n          node.domModel().overlayModel().colorOfFlexInPersistentOverlay(nodeId) || 'var(--sys-color-inverse-surface)',\n      enabled: node.domModel().overlayModel().isHighlightedFlexContainerInPersistentOverlay(nodeId),\n      toggle: (value: boolean) => {\n        if (value) {\n          node.domModel().overlayModel().highlightFlexContainerInPersistentOverlay(nodeId);\n        } else {\n          node.domModel().overlayModel().hideFlexContainerInPersistentOverlay(nodeId);\n        }\n      },\n      setColor(value: string): void {\n        this.color = value;\n        node.domModel().overlayModel().setColorOfFlexInPersistentOverlay(nodeId, value);\n      },\n    };\n  });\n};\n\ninterface HTMLInputElementEvent extends Event {\n  target: HTMLInputElement;\n}\n\nfunction isEnumSetting(setting: Setting): setting is EnumSetting {\n  return setting.type === Common.Settings.SettingType.ENUM;\n}\n\nfunction isBooleanSetting(setting: Setting): setting is BooleanSetting {\n  return setting.type === Common.Settings.SettingType.BOOLEAN;\n}\n\nexport interface LayoutPaneData {\n  settings: Setting[];\n  gridElements: LayoutElement[];\n  flexContainerElements?: LayoutElement[];\n}\n\nconst coordinator = Coordinator.RenderCoordinator.RenderCoordinator.instance();\nlet layoutPaneWrapperInstance: LegacyWrapper.LegacyWrapper.LegacyWrapper<UI.Widget.Widget, LayoutPane>;\n\nexport class LayoutPane extends LegacyWrapper.LegacyWrapper.WrappableComponent {\n  static readonly litTagName = LitHtml.literal`devtools-layout-pane`;\n  readonly #shadow = this.attachShadow({mode: 'open'});\n  #settings: Readonly<Setting[]> = [];\n  readonly #uaShadowDOMSetting: Common.Settings.Setting<boolean>;\n  #domModels: SDK.DOMModel.DOMModel[];\n\n  constructor() {\n    super();\n    this.#settings = this.#makeSettings();\n    this.#uaShadowDOMSetting = Common.Settings.Settings.instance().moduleSetting('show-ua-shadow-dom');\n    this.#domModels = [];\n    this.#shadow.adoptedStyleSheets = [\n      Input.checkboxStyles,\n      layoutPaneStyles,\n      inspectorCommonStyles,\n    ];\n  }\n\n  static instance(): LayoutPane {\n    if (!layoutPaneWrapperInstance) {\n      layoutPaneWrapperInstance = LegacyWrapper.LegacyWrapper.legacyWrapper(UI.Widget.Widget, new LayoutPane());\n    }\n    layoutPaneWrapperInstance.element.style.minWidth = 'min-content';\n    layoutPaneWrapperInstance.element.setAttribute('jslog', `${VisualLogging.pane('layout').track({resize: true})}`);\n    return layoutPaneWrapperInstance.getComponent();\n  }\n\n  modelAdded(domModel: SDK.DOMModel.DOMModel): void {\n    const overlayModel = domModel.overlayModel();\n    overlayModel.addEventListener(SDK.OverlayModel.Events.PersistentGridOverlayStateChanged, this.render, this);\n    overlayModel.addEventListener(\n        SDK.OverlayModel.Events.PersistentFlexContainerOverlayStateChanged, this.render, this);\n    this.#domModels.push(domModel);\n  }\n\n  modelRemoved(domModel: SDK.DOMModel.DOMModel): void {\n    const overlayModel = domModel.overlayModel();\n    overlayModel.removeEventListener(SDK.OverlayModel.Events.PersistentGridOverlayStateChanged, this.render, this);\n    overlayModel.removeEventListener(\n        SDK.OverlayModel.Events.PersistentFlexContainerOverlayStateChanged, this.render, this);\n    this.#domModels = this.#domModels.filter(model => model !== domModel);\n  }\n\n  async #fetchNodesByStyle(style: {\n    name: string,\n    value: string,\n  }[]): Promise<SDK.DOMModel.DOMNode[]> {\n    const showUAShadowDOM = this.#uaShadowDOMSetting.get();\n\n    const nodes = [];\n    for (const domModel of this.#domModels) {\n      try {\n        const nodeIds = await domModel.getNodesByStyle(style, true /* pierce */);\n        for (const nodeId of nodeIds) {\n          const node = domModel.nodeForId(nodeId);\n          if (node !== null && (showUAShadowDOM || !node.ancestorUserAgentShadowRoot())) {\n            nodes.push(node);\n          }\n        }\n      } catch (error) {\n        // TODO(crbug.com/1167706): Sometimes in E2E tests the layout panel is updated after a DOM node\n        // has been removed. This causes an error that a node has not been found.\n        // We can skip nodes that resulted in an error.\n        console.warn(error);\n      }\n    }\n\n    return nodes;\n  }\n\n  async #fetchGridNodes(): Promise<SDK.DOMModel.DOMNode[]> {\n    return await this.#fetchNodesByStyle([{name: 'display', value: 'grid'}, {name: 'display', value: 'inline-grid'}]);\n  }\n\n  async #fetchFlexContainerNodes(): Promise<SDK.DOMModel.DOMNode[]> {\n    return await this.#fetchNodesByStyle([{name: 'display', value: 'flex'}, {name: 'display', value: 'inline-flex'}]);\n  }\n\n  #makeSettings(): Setting[] {\n    const settings = [];\n    for (const settingName\n             of ['show-grid-line-labels', 'show-grid-track-sizes', 'show-grid-areas', 'extend-grid-lines']) {\n      const setting = Common.Settings.Settings.instance().moduleSetting(settingName);\n      const settingValue = setting.get();\n      const settingType = setting.type();\n      if (!settingType) {\n        throw new Error('A setting provided to LayoutSidebarPane does not have a setting type');\n      }\n      if (settingType !== Common.Settings.SettingType.BOOLEAN && settingType !== Common.Settings.SettingType.ENUM) {\n        throw new Error('A setting provided to LayoutSidebarPane does not have a supported setting type');\n      }\n      const mappedSetting = {\n        type: settingType,\n        name: setting.name,\n        title: setting.title(),\n      };\n      if (typeof settingValue === 'boolean') {\n        settings.push({\n          ...mappedSetting,\n          value: settingValue,\n          options: setting.options().map(opt => ({\n                                           ...opt,\n                                           value: (opt.value as boolean),\n                                         })),\n        });\n      } else if (typeof settingValue === 'string') {\n        settings.push({\n          ...mappedSetting,\n          value: settingValue,\n          options: setting.options().map(opt => ({\n                                           ...opt,\n                                           value: (opt.value as string),\n                                         })),\n        });\n      }\n    }\n    return settings;\n  }\n\n  onSettingChanged(setting: string, value: string|boolean): void {\n    Common.Settings.Settings.instance().moduleSetting(setting).set(value);\n  }\n\n  override wasShown(): void {\n    for (const setting of this.#settings) {\n      Common.Settings.Settings.instance().moduleSetting(setting.name).addChangeListener(this.render, this);\n    }\n    for (const domModel of this.#domModels) {\n      this.modelRemoved(domModel);\n    }\n    this.#domModels = [];\n    SDK.TargetManager.TargetManager.instance().observeModels(SDK.DOMModel.DOMModel, this, {scoped: true});\n    UI.Context.Context.instance().addFlavorChangeListener(SDK.DOMModel.DOMNode, this.render, this);\n    this.#uaShadowDOMSetting.addChangeListener(this.render, this);\n    void this.render();\n  }\n\n  override willHide(): void {\n    for (const setting of this.#settings) {\n      Common.Settings.Settings.instance().moduleSetting(setting.name).removeChangeListener(this.render, this);\n    }\n    SDK.TargetManager.TargetManager.instance().unobserveModels(SDK.DOMModel.DOMModel, this);\n    UI.Context.Context.instance().removeFlavorChangeListener(SDK.DOMModel.DOMNode, this.render, this);\n    this.#uaShadowDOMSetting.removeChangeListener(this.render, this);\n  }\n\n  #onSummaryKeyDown(event: KeyboardEvent): void {\n    if (!event.target) {\n      return;\n    }\n    const summaryElement = event.target as HTMLElement;\n    const detailsElement = summaryElement.parentElement as HTMLDetailsElement;\n    if (!detailsElement) {\n      throw new Error('<details> element is not found for a <summary> element');\n    }\n    switch (event.key) {\n      case 'ArrowLeft':\n        detailsElement.open = false;\n        break;\n      case 'ArrowRight':\n        detailsElement.open = true;\n        break;\n    }\n  }\n\n  override async render(): Promise<void> {\n    const gridElements = gridNodesToElements(await this.#fetchGridNodes());\n    const flexContainerElements = flexContainerNodesToElements(await this.#fetchFlexContainerNodes());\n    await coordinator.write('LayoutPane render', () => {\n      // Disabled until https://crbug.com/1079231 is fixed.\n      // clang-format off\n      render(html`\n        <details open>\n          <summary class=\"header\" @keydown=${this.#onSummaryKeyDown} jslog=${VisualLogging.sectionHeader('grid-settings').track({click: true})}>\n            ${i18nString(UIStrings.grid)}\n          </summary>\n          <div class=\"content-section\" jslog=${VisualLogging.section('grid-settings')}>\n            <h3 class=\"content-section-title\">${i18nString(UIStrings.overlayDisplaySettings)}</h3>\n            <div class=\"select-settings\">\n              ${this.#getEnumSettings().map(setting => this.#renderEnumSetting(setting))}\n            </div>\n            <div class=\"checkbox-settings\">\n              ${this.#getBooleanSettings().map(setting => this.#renderBooleanSetting(setting))}\n            </div>\n          </div>\n          ${gridElements ?\n            html`<div class=\"content-section\" jslog=${VisualLogging.section('grid-overlays')}>\n              <h3 class=\"content-section-title\">\n                ${gridElements.length ? i18nString(UIStrings.gridOverlays) : i18nString(UIStrings.noGridLayoutsFoundOnThisPage)}\n              </h3>\n              ${gridElements.length ?\n                html`<div class=\"elements\">\n                  ${gridElements.map(element => this.#renderElement(element))}\n                </div>` : ''}\n            </div>` : ''}\n        </details>\n        ${flexContainerElements !== undefined ?\n          html`\n          <details open>\n            <summary class=\"header\" @keydown=${this.#onSummaryKeyDown} jslog=${VisualLogging.sectionHeader('flexbox-overlays').track({click: true})}>\n              ${i18nString(UIStrings.flexbox)}\n            </summary>\n            ${flexContainerElements ?\n              html`<div class=\"content-section\" jslog=${VisualLogging.section('flexbox-overlays')}>\n                <h3 class=\"content-section-title\">\n                  ${flexContainerElements.length ? i18nString(UIStrings.flexboxOverlays) : i18nString(UIStrings.noFlexboxLayoutsFoundOnThisPage)}\n                </h3>\n                ${flexContainerElements.length ?\n                  html`<div class=\"elements\">\n                    ${flexContainerElements.map(element => this.#renderElement(element))}\n                  </div>` : ''}\n              </div>` : ''}\n          </details>\n          `\n        : ''}\n      `, this.#shadow, {\n        host: this,\n      });\n      // clang-format on\n    });\n  }\n\n  #getEnumSettings(): EnumSetting[] {\n    return this.#settings.filter(isEnumSetting);\n  }\n\n  #getBooleanSettings(): BooleanSetting[] {\n    return this.#settings.filter(isBooleanSetting);\n  }\n\n  #onBooleanSettingChange(setting: BooleanSetting, event: HTMLInputElementEvent): void {\n    event.preventDefault();\n    this.onSettingChanged(setting.name, event.target.checked);\n  }\n\n  #onEnumSettingChange(setting: EnumSetting, event: HTMLInputElementEvent): void {\n    event.preventDefault();\n    this.onSettingChanged(setting.name, event.target.value);\n  }\n\n  #onElementToggle(element: LayoutElement, event: HTMLInputElementEvent): void {\n    event.preventDefault();\n    element.toggle(event.target.checked);\n  }\n\n  #onElementClick(element: LayoutElement, event: HTMLInputElementEvent): void {\n    event.preventDefault();\n    element.reveal();\n  }\n\n  #onColorChange(element: LayoutElement, event: HTMLInputElementEvent): void {\n    event.preventDefault();\n    element.setColor(event.target.value);\n    void this.render();\n  }\n\n  #onElementMouseEnter(element: LayoutElement, event: HTMLInputElementEvent): void {\n    event.preventDefault();\n    element.highlight();\n  }\n\n  #onElementMouseLeave(element: LayoutElement, event: HTMLInputElementEvent): void {\n    event.preventDefault();\n    element.hideHighlight();\n  }\n\n  #renderElement(element: LayoutElement): LitHtml.TemplateResult {\n    const onElementToggle = this.#onElementToggle.bind(this, element);\n    const onElementClick = this.#onElementClick.bind(this, element);\n    const onColorChange = this.#onColorChange.bind(this, element);\n    const onMouseEnter = this.#onElementMouseEnter.bind(this, element);\n    const onMouseLeave = this.#onElementMouseLeave.bind(this, element);\n    const onColorLabelKeyUp = (event: KeyboardEvent): void => {\n      // Handle Enter and Space events to make the color picker accessible.\n      if (event.key !== 'Enter' && event.key !== ' ') {\n        return;\n      }\n      const target = event.target as HTMLLabelElement;\n      const input = target.querySelector('input') as HTMLInputElement;\n      input.click();\n      UI.ARIAUtils.alert(i18nString(UIStrings.colorPickerOpened));\n      event.preventDefault();\n    };\n    const onColorLabelKeyDown = (event: KeyboardEvent): void => {\n      // Prevent default scrolling when the Space key is pressed.\n      if (event.key === ' ') {\n        event.preventDefault();\n      }\n    };\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    return html`<div class=\"element\" jslog=${VisualLogging.item()}>\n      <label data-element=\"true\" class=\"checkbox-label\">\n        <input data-input=\"true\" type=\"checkbox\" .checked=${element.enabled} @change=${onElementToggle} jslog=${VisualLogging.toggle().track({click:true})} />\n        <span class=\"node-text-container\" data-label=\"true\" @mouseenter=${onMouseEnter} @mouseleave=${onMouseLeave}>\n          <${NodeText.NodeText.NodeText.litTagName} .data=${{\n            nodeId: element.domId,\n            nodeTitle: element.name,\n            nodeClasses: element.domClasses,\n          } as NodeText.NodeText.NodeTextData}></${NodeText.NodeText.NodeText.litTagName}>\n        </span>\n      </label>\n      <label @keyup=${onColorLabelKeyUp} @keydown=${onColorLabelKeyDown} class=\"color-picker-label\" style=\"background: ${element.color};\" jslog=${VisualLogging.showStyleEditor('color').track({click: true})}>\n        <input @change=${onColorChange} @input=${onColorChange} title=${i18nString(UIStrings.chooseElementOverlayColor)} tabindex=\"0\" class=\"color-picker\" type=\"color\" value=${element.color} />\n      </label>\n      <${Buttons.Button.Button.litTagName} class=\"show-element\"\n                                           title=${i18nString(UIStrings.showElementInTheElementsPanel)}\n                                           aria-label=${i18nString(UIStrings.showElementInTheElementsPanel)}\n                                           .iconName=${'select-element'}\n                                           .jslogContext=${'elements.select-element'}\n                                           .size=${Buttons.Button.Size.SMALL}\n                                           .variant=${Buttons.Button.Variant.ICON}\n                                           @click=${onElementClick}></${Buttons.Button.Button.litTagName}>\n    </div>`;\n    // clang-format on\n  }\n\n  #renderBooleanSetting(setting: BooleanSetting): LitHtml.TemplateResult {\n    const onBooleanSettingChange = this.#onBooleanSettingChange.bind(this, setting);\n    return html`<label data-boolean-setting=\"true\" class=\"checkbox-label\" title=${setting.title} jslog=${\n        VisualLogging.toggle().track({click: true}).context(setting.name)}>\n      <input data-input=\"true\" type=\"checkbox\" .checked=${setting.value} @change=${onBooleanSettingChange} />\n      <span data-label=\"true\">${setting.title}</span>\n    </label>`;\n  }\n\n  #renderEnumSetting(setting: EnumSetting): LitHtml.TemplateResult {\n    const onEnumSettingChange = this.#onEnumSettingChange.bind(this, setting);\n    return html`<label data-enum-setting=\"true\" class=\"select-label\" title=${setting.title}>\n      <select\n        class=\"chrome-select\"\n        data-input=\"true\"\n        jslog=${VisualLogging.dropDown().track({change: true}).context(setting.name)}\n        @change=${onEnumSettingChange}>\n        ${\n        setting.options.map(\n            opt => html`<option value=${opt.value} .selected=${setting.value === opt.value} jslog=${\n                VisualLogging.item(Platform.StringUtilities.toKebabCase(opt.value)).track({click: true})}>${\n                opt.title}</option>`)}\n      </select>\n    </label>`;\n  }\n}\n\ncustomElements.define('devtools-layout-pane', LayoutPane);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'devtools-layout-pane': LayoutPane;\n  }\n}\n"]}