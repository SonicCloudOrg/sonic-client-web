{"version":3,"file":"StepView.js","sourceRoot":"","sources":["../../../../../../../front_end/panels/recorder/components/StepView.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2023 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\n/* Some view input callbacks might be handled outside of LitHtml and we\n   bind all of them upfront. We disable the lit_html_host_this since we\n   do not define any host for LitHtml.render and the rule is not happy\n   about it. */\n/* eslint-disable rulesdir/lit_html_host_this */\n\nimport * as i18n from '../../../core/i18n/i18n.js';\nimport * as Platform from '../../../core/platform/platform.js';\nimport * as Buttons from '../../../ui/components/buttons/buttons.js';\nimport * as IconButton from '../../../ui/components/icon_button/icon_button.js';\nimport * as Menus from '../../../ui/components/menus/menus.js';\nimport * as UI from '../../../ui/legacy/legacy.js';\nimport * as LitHtml from '../../../ui/lit-html/lit-html.js';\nimport * as VisualLogging from '../../../ui/visual_logging/visual_logging.js';\nimport type * as Converters from '../converters/converters.js';\nimport * as Models from '../models/models.js';\n\nimport {type StepEditedEvent} from './StepEditor.js';\nimport stepViewStyles from './stepView.css.js';\nimport {\n  TimelineSection,\n  type TimelineSectionData,\n} from './TimelineSection.js';\n\nconst UIStrings = {\n  /**\n   *@description Title for the step type that configures the viewport\n   */\n  setViewportClickTitle: 'Set viewport',\n  /**\n   *@description Title for the customStep step type\n   */\n  customStepTitle: 'Custom step',\n  /**\n   *@description Title for the click step type\n   */\n  clickStepTitle: 'Click',\n  /**\n   *@description Title for the double click step type\n   */\n  doubleClickStepTitle: 'Double click',\n  /**\n   *@description Title for the hover step type\n   */\n  hoverStepTitle: 'Hover',\n  /**\n   *@description Title for the emulateNetworkConditions step type\n   */\n  emulateNetworkConditionsStepTitle: 'Emulate network conditions',\n  /**\n   *@description Title for the change step type\n   */\n  changeStepTitle: 'Change',\n  /**\n   *@description Title for the close step type\n   */\n  closeStepTitle: 'Close',\n  /**\n   *@description Title for the scroll step type\n   */\n  scrollStepTitle: 'Scroll',\n  /**\n   *@description Title for the key up step type. `up` refers to the state of the keyboard key: it's released, i.e., up. It does not refer to the down arrow key specifically.\n   */\n  keyUpStepTitle: 'Key up',\n  /**\n   *@description Title for the navigate step type\n   */\n  navigateStepTitle: 'Navigate',\n  /**\n   *@description Title for the key down step type. `down` refers to the state of the keyboard key: it's pressed, i.e., down. It does not refer to the down arrow key specifically.\n   */\n  keyDownStepTitle: 'Key down',\n  /**\n   *@description Title for the waitForElement step type\n   */\n  waitForElementStepTitle: 'Wait for element',\n  /**\n   *@description Title for the waitForExpression step type\n   */\n  waitForExpressionStepTitle: 'Wait for expression',\n  /**\n   *@description Title for elements with role button\n   */\n  elementRoleButton: 'Button',\n  /**\n   *@description Title for elements with role input\n   */\n  elementRoleInput: 'Input',\n  /**\n   *@description Default title for elements without a specific role\n   */\n  elementRoleFallback: 'Element',\n  /**\n   *@description The title of the button in the step's context menu that adds a new step before the current one.\n   */\n  addStepBefore: 'Add step before',\n  /**\n   *@description The title of the button in the step's context menu that adds a new step after the current one.\n   */\n  addStepAfter: 'Add step after',\n  /**\n   *@description The title of the button in the step's context menu that removes the step.\n   */\n  removeStep: 'Remove step',\n  /**\n   *@description The title of the button that open the step's context menu.\n   */\n  openStepActions: 'Open step actions',\n  /**\n   *@description The title of the button in the step's context menu that adds a breakpoint.\n   */\n  addBreakpoint: 'Add breakpoint',\n  /**\n   *@description The title of the button in the step's context menu that removes a breakpoint.\n   */\n  removeBreakpoint: 'Remove breakpoint',\n  /**\n   * @description A menu item item in the context menu that expands another menu which list all\n   * the formats the user can copy the recording as.\n   */\n  copyAs: 'Copy as',\n  /**\n   * @description The title of the menu group that holds actions on recording steps.\n   */\n  stepManagement: 'Manage steps',\n  /**\n   * @description The title of the menu group that holds actions related to breakpoints.\n   */\n  breakpoints: 'Breakpoints',\n};\nconst str_ = i18n.i18n.registerUIStrings(\n    'panels/recorder/components/StepView.ts',\n    UIStrings,\n);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'devtools-step-view': StepView;\n  }\n}\n\nexport const enum State {\n  Default = 'default',\n  Success = 'success',\n  Current = 'current',\n  Outstanding = 'outstanding',\n  Error = 'error',\n  Stopped = 'stopped',\n}\n\nexport interface StepViewData {\n  state: State;\n  step?: Models.Schema.Step;\n  section?: Models.Section.Section;\n  error?: Error;\n  hasBreakpoint: boolean;\n  isEndOfGroup: boolean;\n  isStartOfGroup: boolean;\n  isFirstSection: boolean;\n  isLastSection: boolean;\n  stepIndex: number;\n  sectionIndex: number;\n  isRecording: boolean;\n  isPlaying: boolean;\n  removable: boolean;\n  builtInConverters: Converters.Converter.Converter[];\n  extensionConverters: Converters.Converter.Converter[];\n  isSelected: boolean;\n  recorderSettings?: Models.RecorderSettings.RecorderSettings;\n}\n\nexport class CaptureSelectorsEvent extends Event {\n  static readonly eventName = 'captureselectors';\n  data: Models.Schema.StepWithSelectors&Partial<Models.Schema.ClickAttributes>;\n\n  constructor(\n      step: Models.Schema.StepWithSelectors&Partial<Models.Schema.ClickAttributes>,\n  ) {\n    super(CaptureSelectorsEvent.eventName, {bubbles: true, composed: true});\n    this.data = step;\n  }\n}\n\nexport class StopSelectorsCaptureEvent extends Event {\n  static readonly eventName = 'stopselectorscapture';\n  constructor() {\n    super(StopSelectorsCaptureEvent.eventName, {\n      bubbles: true,\n      composed: true,\n    });\n  }\n}\n\nexport class CopyStepEvent extends Event {\n  static readonly eventName = 'copystep';\n  step: Models.Schema.Step;\n  constructor(step: Models.Schema.Step) {\n    super(CopyStepEvent.eventName, {bubbles: true, composed: true});\n    this.step = step;\n  }\n}\n\nexport class StepChanged extends Event {\n  static readonly eventName = 'stepchanged';\n  currentStep: Models.Schema.Step;\n  newStep: Models.Schema.Step;\n\n  constructor(currentStep: Models.Schema.Step, newStep: Models.Schema.Step) {\n    super(StepChanged.eventName, {bubbles: true, composed: true});\n    this.currentStep = currentStep;\n    this.newStep = newStep;\n  }\n}\n\nexport const enum AddStepPosition {\n  BEFORE = 'before',\n  AFTER = 'after',\n}\n\nexport class AddStep extends Event {\n  static readonly eventName = 'addstep';\n  position: AddStepPosition;\n  stepOrSection: Models.Schema.Step|Models.Section.Section;\n\n  constructor(\n      stepOrSection: Models.Schema.Step|Models.Section.Section,\n      position: AddStepPosition,\n  ) {\n    super(AddStep.eventName, {bubbles: true, composed: true});\n    this.stepOrSection = stepOrSection;\n    this.position = position;\n  }\n}\n\nexport class RemoveStep extends Event {\n  static readonly eventName = 'removestep';\n  step: Models.Schema.Step;\n\n  constructor(step: Models.Schema.Step) {\n    super(RemoveStep.eventName, {bubbles: true, composed: true});\n    this.step = step;\n  }\n}\n\nexport class AddBreakpointEvent extends Event {\n  static readonly eventName = 'addbreakpoint';\n  index: number;\n\n  constructor(index: number) {\n    super(AddBreakpointEvent.eventName, {bubbles: true, composed: true});\n    this.index = index;\n  }\n}\n\nexport class RemoveBreakpointEvent extends Event {\n  static readonly eventName = 'removebreakpoint';\n  index: number;\n\n  constructor(index: number) {\n    super(RemoveBreakpointEvent.eventName, {bubbles: true, composed: true});\n    this.index = index;\n  }\n}\n\nconst COPY_ACTION_PREFIX = 'copy-step-as-';\n\ntype Action = {\n  id: string,\n  label: string,\n  group: string,\n  groupTitle: string,\n  jslogContext?: string,\n};\n\nexport interface ViewInput extends StepViewData {\n  step?: Models.Schema.Step;\n  section?: Models.Section.Section;\n  state: State;\n  error?: Error;\n  showDetails: boolean;\n  isEndOfGroup: boolean;\n  isStartOfGroup: boolean;\n  stepIndex: number;\n  sectionIndex: number;\n  isFirstSection: boolean;\n  isLastSection: boolean;\n  isRecording: boolean;\n  isPlaying: boolean;\n  isVisible: boolean;\n  hasBreakpoint: boolean;\n  removable: boolean;\n  builtInConverters: Converters.Converter.Converter[];\n  extensionConverters: Converters.Converter.Converter[];\n  isSelected: boolean;\n  recorderSettings?: Models.RecorderSettings.RecorderSettings;\n  actions: Array<Action>;\n\n  stepEdited: (event: StepEditedEvent) => void;\n  onBreakpointClick: () => void;\n  handleStepAction: (event: Menus.Menu.MenuItemSelectedEvent) => void;\n  toggleShowDetails: () => void;\n  onToggleShowDetailsKeydown: (event: Event) => void;\n  onStepContextMenu: (event: MouseEvent) => void;\n}\n\nexport type ViewOutput = unknown;\n\nfunction getStepTypeTitle(input: {\n  step?: Models.Schema.Step,\n  section?: Models.Section.Section,\n}): string|LitHtml.TemplateResult {\n  if (input.section) {\n    return input.section.title ? input.section.title : LitHtml.html`<span class=\"fallback\">(No Title)</span>`;\n  }\n  if (!input.step) {\n    throw new Error('Missing both step and section');\n  }\n  switch (input.step.type) {\n    case Models.Schema.StepType.CustomStep:\n      return i18nString(UIStrings.customStepTitle);\n    case Models.Schema.StepType.SetViewport:\n      return i18nString(UIStrings.setViewportClickTitle);\n    case Models.Schema.StepType.Click:\n      return i18nString(UIStrings.clickStepTitle);\n    case Models.Schema.StepType.DoubleClick:\n      return i18nString(UIStrings.doubleClickStepTitle);\n    case Models.Schema.StepType.Hover:\n      return i18nString(UIStrings.hoverStepTitle);\n    case Models.Schema.StepType.EmulateNetworkConditions:\n      return i18nString(UIStrings.emulateNetworkConditionsStepTitle);\n    case Models.Schema.StepType.Change:\n      return i18nString(UIStrings.changeStepTitle);\n    case Models.Schema.StepType.Close:\n      return i18nString(UIStrings.closeStepTitle);\n    case Models.Schema.StepType.Scroll:\n      return i18nString(UIStrings.scrollStepTitle);\n    case Models.Schema.StepType.KeyUp:\n      return i18nString(UIStrings.keyUpStepTitle);\n    case Models.Schema.StepType.KeyDown:\n      return i18nString(UIStrings.keyDownStepTitle);\n    case Models.Schema.StepType.WaitForElement:\n      return i18nString(UIStrings.waitForElementStepTitle);\n    case Models.Schema.StepType.WaitForExpression:\n      return i18nString(UIStrings.waitForExpressionStepTitle);\n    case Models.Schema.StepType.Navigate:\n      return i18nString(UIStrings.navigateStepTitle);\n  }\n}\n\nfunction getElementRoleTitle(role: string): string {\n  switch (role) {\n    case 'button':\n      return i18nString(UIStrings.elementRoleButton);\n    case 'input':\n      return i18nString(UIStrings.elementRoleInput);\n    default:\n      return i18nString(UIStrings.elementRoleFallback);\n  }\n}\n\nfunction getSelectorPreview(step?: Models.Schema.Step): string {\n  if (!step || !('selectors' in step)) {\n    return '';\n  }\n\n  const ariaSelector = step.selectors.flat().find(selector => selector.startsWith('aria/'));\n\n  if (!ariaSelector) {\n    return '';\n  }\n\n  const m = ariaSelector.match(/^aria\\/(.+?)(\\[role=\"(.+)\"\\])?$/);\n  if (!m) {\n    return '';\n  }\n\n  return `${getElementRoleTitle(m[3])} \"${m[1]}\"`;\n}\n\nfunction getSectionPreview(section?: Models.Section.Section): string {\n  if (!section) {\n    return '';\n  }\n  return section.url;\n}\n\nfunction renderStepActions(input: ViewInput): LitHtml.TemplateResult|null {\n  // clang-format off\n  return LitHtml.html`\n    <${Buttons.Button.Button.litTagName}\n      class=\"step-actions\"\n      title=${i18nString(UIStrings.openStepActions)}\n      aria-label=${i18nString(UIStrings.openStepActions)}\n      @click=${input.onStepContextMenu}\n      @keydown=${(event: Event) => {\n        event.stopPropagation();\n      }}\n      jslog=${VisualLogging.dropDown('step-actions').track({click: true})}\n      .data=${\n        {\n          variant: Buttons.Button.Variant.ICON,\n          iconName: 'dots-vertical',\n          title: i18nString(UIStrings.openStepActions),\n        } as Buttons.Button.ButtonData\n      }\n    ></${Buttons.Button.Button.litTagName}>\n  `;\n  // clang-format on\n}\n\nfunction viewFunction(input: ViewInput, _output: ViewOutput, target: HTMLElement|ShadowRoot): void {\n  if (!input.step && !input.section) {\n    return;\n  }\n\n  const stepClasses = {\n    step: true,\n    expanded: input.showDetails,\n    'is-success': input.state === State.Success,\n    'is-current': input.state === State.Current,\n    'is-outstanding': input.state === State.Outstanding,\n    'is-error': input.state === State.Error,\n    'is-stopped': input.state === State.Stopped,\n    'is-start-of-group': input.isStartOfGroup,\n    'is-first-section': input.isFirstSection,\n    'has-breakpoint': input.hasBreakpoint,\n  };\n  const isExpandable = Boolean(input.step);\n  const mainTitle = getStepTypeTitle({\n    step: input.step,\n    section: input.section,\n  });\n  const subtitle = input.step ? getSelectorPreview() : getSectionPreview();\n\n  // clang-format off\n  LitHtml.render(\n    LitHtml.html`\n    <${TimelineSection.litTagName} .data=${\n      {\n        isFirstSection: input.isFirstSection,\n        isLastSection: input.isLastSection,\n        isStartOfGroup: input.isStartOfGroup,\n        isEndOfGroup: input.isEndOfGroup,\n        isSelected: input.isSelected,\n      } as TimelineSectionData\n    } @contextmenu=${input.onStepContextMenu} data-step-index=${\n      input.stepIndex\n    } data-section-index=${\n      input.sectionIndex\n    } class=${LitHtml.Directives.classMap(stepClasses)}>\n      <svg slot=\"icon\" width=\"24\" height=\"24\" height=\"100%\" class=\"icon\">\n        <circle class=\"circle-icon\"/>\n        <g class=\"error-icon\">\n          <path d=\"M1.5 1.5L6.5 6.5\" stroke=\"white\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n          <path d=\"M1.5 6.5L6.5 1.5\" stroke=\"white\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n        </g>\n        <path @click=${input.onBreakpointClick} jslog=${VisualLogging.action('breakpoint').track({click: true})} class=\"breakpoint-icon\" d=\"M2.5 5.5H17.7098L21.4241 12L17.7098 18.5H2.5V5.5Z\"/>\n      </svg>\n      <div class=\"summary\">\n        <div class=\"title-container ${isExpandable ? 'action' : ''}\"\n          @click=${isExpandable && input.toggleShowDetails}\n          @keydown=${\n            isExpandable && input.onToggleShowDetailsKeydown\n          }\n          tabindex=\"0\"\n          jslog=${VisualLogging.sectionHeader().track({click: true})}\n          aria-role=${isExpandable ? 'button' : ''}\n          aria-label=${isExpandable ? 'Show details for step' : ''}\n        >\n          ${\n            isExpandable\n              ? LitHtml.html`<${IconButton.Icon.Icon.litTagName}\n                  class=\"chevron\"\n                  jslog=${VisualLogging.expand().track({click: true})}\n                  name=\"triangle-down\">\n                </${IconButton.Icon.Icon.litTagName}>`\n              : ''\n          }\n          <div class=\"title\">\n            <div class=\"main-title\" title=${mainTitle}>${mainTitle}</div>\n            <div class=\"subtitle\" title=${subtitle}>${subtitle}</div>\n          </div>\n        </div>\n        <div class=\"filler\"></div>\n        ${renderStepActions(input)}\n      </div>\n      <div class=\"details\">\n        ${\n          input.step &&\n          LitHtml.html`<devtools-recorder-step-editor\n          class=${input.isSelected ? 'is-selected' : ''}\n          .step=${input.step}\n          .disabled=${input.isPlaying}\n          @stepedited=${input.stepEdited}>\n        </devtools-recorder-step-editor>`\n        }\n        ${\n          input.section?.causingStep &&\n          LitHtml.html`<devtools-recorder-step-editor\n          .step=${input.section.causingStep}\n          .isTypeEditable=${false}\n          .disabled=${input.isPlaying}\n          @stepedited=${input.stepEdited}>\n        </devtools-recorder-step-editor>`\n        }\n      </div>\n      ${\n        input.error &&\n        LitHtml.html`\n        <div class=\"error\" role=\"alert\">\n          ${input.error.message}\n        </div>\n      `\n      }\n    </${TimelineSection.litTagName}>\n  `,\n    target,\n  );\n  // clang-format on\n}\n\nexport class StepView extends HTMLElement {\n  static readonly litTagName = LitHtml.literal`devtools-step-view`;\n\n  readonly #shadow = this.attachShadow({mode: 'open'});\n\n  #observer: IntersectionObserver = new IntersectionObserver(result => {\n    this.#viewInput.isVisible = result[0].isIntersecting;\n  });\n  #viewInput: ViewInput = {\n    state: State.Default,\n    showDetails: false,\n    isEndOfGroup: false,\n    isStartOfGroup: false,\n    stepIndex: 0,\n    sectionIndex: 0,\n    isFirstSection: false,\n    isLastSection: false,\n    isRecording: false,\n    isPlaying: false,\n    isVisible: false,\n    hasBreakpoint: false,\n    removable: true,\n    builtInConverters: [],\n    extensionConverters: [],\n    isSelected: false,\n    recorderSettings: undefined,\n    actions: [],\n\n    stepEdited: this.#stepEdited.bind(this),\n    onBreakpointClick: this.#onBreakpointClick.bind(this),\n    handleStepAction: this.#handleStepAction.bind(this),\n    toggleShowDetails: this.#toggleShowDetails.bind(this),\n    onToggleShowDetailsKeydown: this.#onToggleShowDetailsKeydown.bind(this),\n    onStepContextMenu: this.#onStepContextMenu.bind(this),\n  };\n  #view = viewFunction;\n\n  constructor(view?: typeof viewFunction) {\n    super();\n    if (view) {\n      this.#view = view;\n    }\n    this.setAttribute('jslog', `${VisualLogging.section('step-view')}`);\n  }\n\n  set data(data: StepViewData) {\n    const prevState = this.#viewInput.state;\n    this.#viewInput.step = data.step;\n    this.#viewInput.section = data.section;\n    this.#viewInput.state = data.state;\n    this.#viewInput.error = data.error;\n    this.#viewInput.isEndOfGroup = data.isEndOfGroup;\n    this.#viewInput.isStartOfGroup = data.isStartOfGroup;\n    this.#viewInput.stepIndex = data.stepIndex;\n    this.#viewInput.sectionIndex = data.sectionIndex;\n    this.#viewInput.isFirstSection = data.isFirstSection;\n    this.#viewInput.isLastSection = data.isLastSection;\n    this.#viewInput.isRecording = data.isRecording;\n    this.#viewInput.isPlaying = data.isPlaying;\n    this.#viewInput.hasBreakpoint = data.hasBreakpoint;\n    this.#viewInput.removable = data.removable;\n    this.#viewInput.builtInConverters = data.builtInConverters;\n    this.#viewInput.extensionConverters = data.extensionConverters;\n    this.#viewInput.isSelected = data.isSelected;\n    this.#viewInput.recorderSettings = data.recorderSettings;\n    this.#viewInput.actions = this.#getActions();\n\n    this.#render();\n\n    if (this.#viewInput.state !== prevState && this.#viewInput.state === 'current' && !this.#viewInput.isVisible) {\n      this.scrollIntoView();\n    }\n  }\n\n  get step(): Models.Schema.Step|undefined {\n    return this.#viewInput.step;\n  }\n\n  get section(): Models.Section.Section|undefined {\n    return this.#viewInput.section;\n  }\n\n  connectedCallback(): void {\n    this.#shadow.adoptedStyleSheets = [stepViewStyles];\n    this.#observer.observe(this);\n    this.#render();\n  }\n\n  disconnectedCallback(): void {\n    this.#observer.unobserve(this);\n  }\n\n  #toggleShowDetails(): void {\n    this.#viewInput.showDetails = !this.#viewInput.showDetails;\n    this.#render();\n  }\n\n  #onToggleShowDetailsKeydown(event: Event): void {\n    const keyboardEvent = event as KeyboardEvent;\n    if (keyboardEvent.key === 'Enter' || keyboardEvent.key === ' ') {\n      this.#toggleShowDetails();\n      event.stopPropagation();\n      event.preventDefault();\n    }\n  }\n\n  #stepEdited(event: StepEditedEvent): void {\n    const step = this.#viewInput.step || this.#viewInput.section?.causingStep;\n    if (!step) {\n      throw new Error('Expected step.');\n    }\n    this.dispatchEvent(new StepChanged(step, event.data));\n  }\n\n  #handleStepAction(event: Menus.Menu.MenuItemSelectedEvent): void {\n    switch (event.itemValue) {\n      case 'add-step-before': {\n        const stepOrSection = this.#viewInput.step || this.#viewInput.section;\n        if (!stepOrSection) {\n          throw new Error('Expected step or section.');\n        }\n        this.dispatchEvent(new AddStep(stepOrSection, AddStepPosition.BEFORE));\n        break;\n      }\n      case 'add-step-after': {\n        const stepOrSection = this.#viewInput.step || this.#viewInput.section;\n        if (!stepOrSection) {\n          throw new Error('Expected step or section.');\n        }\n        this.dispatchEvent(new AddStep(stepOrSection, AddStepPosition.AFTER));\n        break;\n      }\n      case 'remove-step': {\n        const causingStep = this.#viewInput.section?.causingStep;\n        if (!this.#viewInput.step && !causingStep) {\n          throw new Error('Expected step.');\n        }\n        this.dispatchEvent(\n            new RemoveStep(this.#viewInput.step || (causingStep as Models.Schema.Step)),\n        );\n        break;\n      }\n      case 'add-breakpoint': {\n        if (!this.#viewInput.step) {\n          throw new Error('Expected step');\n        }\n        this.dispatchEvent(new AddBreakpointEvent(this.#viewInput.stepIndex));\n        break;\n      }\n      case 'remove-breakpoint': {\n        if (!this.#viewInput.step) {\n          throw new Error('Expected step');\n        }\n        this.dispatchEvent(new RemoveBreakpointEvent(this.#viewInput.stepIndex));\n        break;\n      }\n      default: {\n        const actionId = event.itemValue as string;\n        if (!actionId.startsWith(COPY_ACTION_PREFIX)) {\n          throw new Error('Unknown step action.');\n        }\n\n        const copyStep = this.#viewInput.step || this.#viewInput.section?.causingStep;\n        if (!copyStep) {\n          throw new Error('Step not found.');\n        }\n\n        const converterId = actionId.substring(COPY_ACTION_PREFIX.length);\n        if (this.#viewInput.recorderSettings) {\n          this.#viewInput.recorderSettings.preferredCopyFormat = converterId;\n        }\n\n        this.dispatchEvent(new CopyStepEvent(structuredClone(copyStep)));\n      }\n    }\n  }\n\n  #onBreakpointClick(): void {\n    if (this.#viewInput.hasBreakpoint) {\n      this.dispatchEvent(new RemoveBreakpointEvent(this.#viewInput.stepIndex));\n    } else {\n      this.dispatchEvent(new AddBreakpointEvent(this.#viewInput.stepIndex));\n    }\n    this.#render();\n  }\n\n  #getActions = (): Array<Action> => {\n    const actions = [];\n\n    if (!this.#viewInput.isPlaying) {\n      if (this.#viewInput.step) {\n        actions.push({\n          id: 'add-step-before',\n          label: i18nString(UIStrings.addStepBefore),\n          group: 'stepManagement',\n          groupTitle: i18nString(UIStrings.stepManagement),\n        });\n      }\n\n      actions.push({\n        id: 'add-step-after',\n        label: i18nString(UIStrings.addStepAfter),\n        group: 'stepManagement',\n        groupTitle: i18nString(UIStrings.stepManagement),\n      });\n\n      if (this.#viewInput.removable) {\n        actions.push({\n          id: 'remove-step',\n          group: 'stepManagement',\n          groupTitle: i18nString(UIStrings.stepManagement),\n          label: i18nString(UIStrings.removeStep),\n        });\n      }\n    }\n\n    if (this.#viewInput.step && !this.#viewInput.isRecording) {\n      if (this.#viewInput.hasBreakpoint) {\n        actions.push({\n          id: 'remove-breakpoint',\n          label: i18nString(UIStrings.removeBreakpoint),\n          group: 'breakPointManagement',\n          groupTitle: i18nString(UIStrings.breakpoints),\n        });\n      } else {\n        actions.push({\n          id: 'add-breakpoint',\n          label: i18nString(UIStrings.addBreakpoint),\n          group: 'breakPointManagement',\n          groupTitle: i18nString(UIStrings.breakpoints),\n        });\n      }\n    }\n\n    if (this.#viewInput.step) {\n      for (const converter of this.#viewInput.builtInConverters || []) {\n        actions.push({\n          id: COPY_ACTION_PREFIX + Platform.StringUtilities.toKebabCase(converter.getId()),\n          label: converter.getFormatName(),\n          group: 'copy',\n          groupTitle: i18nString(UIStrings.copyAs),\n        });\n      }\n      for (const converter of this.#viewInput.extensionConverters || []) {\n        actions.push({\n          id: COPY_ACTION_PREFIX + Platform.StringUtilities.toKebabCase(converter.getId()),\n          label: converter.getFormatName(),\n          group: 'copy',\n          groupTitle: i18nString(UIStrings.copyAs),\n          jslogContext: COPY_ACTION_PREFIX + 'extension',\n        });\n      }\n    }\n\n    return actions;\n  };\n\n  #onStepContextMenu(event: MouseEvent): void {\n    const buttonElement = event.target instanceof Buttons.Button.Button ? event.target : undefined;\n    const menu = new UI.ContextMenu.ContextMenu(event, {\n      x: buttonElement?.getBoundingClientRect().left,\n      y: buttonElement?.getBoundingClientRect().bottom,\n    });\n\n    const actions = this.#getActions();\n    const copyActions = actions.filter(\n        item => item.id.startsWith(COPY_ACTION_PREFIX),\n    );\n    const otherActions = actions.filter(\n        item => !item.id.startsWith(COPY_ACTION_PREFIX),\n    );\n    for (const item of otherActions) {\n      const section = menu.section(item.group);\n      section.appendItem(item.label, () => {\n        this.#handleStepAction(\n            new Menus.Menu.MenuItemSelectedEvent(item.id),\n        );\n      }, {jslogContext: item.id});\n    }\n\n    const preferredCopyAction = copyActions.find(\n        item => item.id === COPY_ACTION_PREFIX + this.#viewInput.recorderSettings?.preferredCopyFormat,\n    );\n\n    if (preferredCopyAction) {\n      menu.section('copy').appendItem(preferredCopyAction.label, () => {\n        this.#handleStepAction(\n            new Menus.Menu.MenuItemSelectedEvent(preferredCopyAction.id),\n        );\n      }, {jslogContext: preferredCopyAction.id});\n    }\n\n    if (copyActions.length) {\n      const copyAs = menu.section('copy').appendSubMenuItem(i18nString(UIStrings.copyAs), false, 'copy');\n      for (const item of copyActions) {\n        if (item === preferredCopyAction) {\n          continue;\n        }\n        copyAs.section(item.group).appendItem(item.label, () => {\n          this.#handleStepAction(\n              new Menus.Menu.MenuItemSelectedEvent(item.id),\n          );\n        }, {jslogContext: item.id});\n      }\n    }\n\n    void menu.show();\n  }\n\n  #render(): void {\n    const output: ViewOutput = {};\n    this.#view(this.#viewInput, output, this.#shadow);\n  }\n}\n\ncustomElements.define('devtools-step-view', StepView);\n"]}